{"version":3,"sources":["webpack:///./vuc/tractor-list.js?78fb"],"names":["UU5","createClass","mixins","Common","BaseMixin","ElementaryMixin","RouteMixin","LoadMixin","statics","tagName","APP","classNames","main","CSS","calls","onLoad","create","find","getInitialState","showForm","filtered","componentWillMount","setCalls","_getNewForm","state","_handleNewFormReference","_handleCancelClick","_handleCreateNewCar","_getFilterForm","_handleFilterFormReference","_handleFilterClick","_handleCancelFilter","_getPanelHeader","button","_handleShowFormClick","form","_addForm","_filterForm","formData","getValues","setState","loadFeedback","getCall","data","done","reload","fail","response","console","error","undefined","dtoOut","_handleLoadedTractors","tractors","length","lines","map","tractor","id","type","vin","vehicleState","render","getLoadFeedbackChildren"],"mappings":"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","file":"0.c9a9352de56bea284157.hot-update.js","sourcesContent":["import React from \"react\";\r\nimport * as UU5 from \"uu5g04\";\r\nimport Cfg from \"../core/_config.js\";\r\n\r\nimport Calls from \"calls\"\r\n\r\nexport default React.createClass({\r\n\r\n  //@@viewOn:mixins\r\n  mixins:[\r\n    UU5.Common.BaseMixin,\r\n    UU5.Common.ElementaryMixin,\r\n    UU5.Common.RouteMixin,\r\n    UU5.Common.LoadMixin\r\n  ],\r\n  //@@viewOff:mixins\r\n\r\n  //@@viewOn:statics\r\n  statics:{\r\n    tagName:Cfg.APP + \".TractorList\",\r\n    classNames:{\r\n      main:Cfg.CSS + \"-tractor-list\"\r\n    },\r\n    calls:{\r\n      onLoad:\"cars\",\r\n      create:\"addCar\",\r\n      find:\"findCars\"\r\n    }\r\n  },\r\n  //@@viewOff:statics\r\n\r\n  //@@viewOn:standardComponentLifeCycle\r\n  getInitialState(){\r\n    return {\r\n      showForm:false,\r\n      filtered:false\r\n    }\r\n  },\r\n\r\n  componentWillMount(){\r\n    this.setCalls(Calls)\r\n  },\r\n  //@@viewOff:standardComponentLifeCycle\r\n\r\n  //@@viewOn:componentSpecificHelpers\r\n  _getNewForm(){\r\n    if(!this.state.showForm){\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <UU5.Bricks.Panel header=\"Přidání nového vozidla\" alwaysExpanded={true} disableHeaderClick={true}>\r\n        <UU5.Forms.BasicForm ref_={this._handleNewFormReference}>\r\n          <UU5.Forms.Text name=\"type\" value=\"RECLAIMER\" label=\"Typ\"/>\r\n          <UU5.Forms.Text name=\"vin\" value=\"AHTBB3QD001726541\" label=\"VIN\"/>\r\n          <UU5.Forms.Text name=\"date\" value=\"1487812893\" label=\"Datum\"/>\r\n          <UU5.Forms.Text name=\"price\" value=\"1100000\" label=\"Cena\"/>\r\n        </UU5.Forms.BasicForm>\r\n\r\n        <UU5.Bricks.Button colorSchema=\"warning\" onClick={this._handleCancelClick}>Zavřít</UU5.Bricks.Button>\r\n        <UU5.Bricks.Button colorSchema=\"primary\" onClick={this._handleCreateNewCar}>Uložit</UU5.Bricks.Button>\r\n      </UU5.Bricks.Panel>\r\n    )\r\n  },\r\n\r\n  _getFilterForm(){\r\n    return (\r\n      <UU5.Forms.BasicForm ref_={this._handleFilterFormReference}>\r\n        <UU5.Bricks.Row>\r\n          <UU5.Bricks.Column colWidth=\"lg-3\">\r\n            <UU5.Forms.Text name=\"acquiredFrom\" label=\"Od\" controlled={false} value=\"2007-08-21\" />\r\n          </UU5.Bricks.Column>\r\n          <UU5.Bricks.Column colWidth=\"lg-3\">\r\n            <UU5.Forms.Text name=\"acquiredTo\" label=\"Do\" controlled={false} value=\"2007-08-23\"/>\r\n          </UU5.Bricks.Column>\r\n\r\n          <UU5.Bricks.Column colWidth=\"lg-6\">\r\n            <UU5.Bricks.Button content=\"Filtruj\" onClick={this._handleFilterClick}/>\r\n            <UU5.Bricks.Button\r\n              colorSchema=\"warning\"\r\n              disabled={!this.state.filtered}\r\n              content=\"Zruš filtr\"\r\n              onClick={this._handleCancelFilter}\r\n            />\r\n          </UU5.Bricks.Column>\r\n        </UU5.Bricks.Row>\r\n      </UU5.Forms.BasicForm>\r\n    );\r\n  },\r\n\r\n  _getPanelHeader(){\r\n    let button = !this.state.showForm && (\r\n      <UU5.Bricks.Button size=\"xs\" onClick={this._handleShowFormClick} className=\"pull-right\">Přidat</UU5.Bricks.Button>\r\n    );\r\n\r\n    return <UU5.Bricks.Div>Seznam vozidel {button}</UU5.Bricks.Div>\r\n  },\r\n\r\n  _handleNewFormReference(form){\r\n    this._addForm = form;\r\n  },\r\n\r\n  _handleFilterFormReference(form){\r\n    this._filterForm = form\r\n  },\r\n\r\n  _handleCreateNewCar(){\r\n    let formData = this._addForm.getValues();\r\n\r\n    // hide form and show loading\r\n    this.setState({\r\n      loadFeedback:\"loading\",\r\n      showForm:false\r\n    }, () =>{\r\n      this.getCall(\"create\")({\r\n        data:formData,\r\n        done:() =>{\r\n          this.reload()\r\n        },\r\n        fail:(response) => console.error(response)\r\n      })\r\n    })\r\n\r\n    // clear up reference\r\n    this._addForm = undefined\r\n  },\r\n\r\n  _handleCancelFilter(){\r\n    this.setState({\r\n      loadFeedback:\"loading\",\r\n      filtered:false\r\n    }, () => this.reload())\r\n  },\r\n\r\n  _handleShowFormClick(){\r\n    this.setState({showForm:true})\r\n  },\r\n\r\n  _handleCancelClick(){\r\n    this.setState({showForm:false})\r\n  },\r\n\r\n  _handleFilterClick(){\r\n    this.setState({\r\n      loadFeedback:\"loading\"\r\n    }, () =>{\r\n      this.getCall(\"find\")({\r\n        data:this._filterForm.getValues(),\r\n        done:(data) =>{\r\n          this.setState({\r\n            dtoOut:data,\r\n            loadFeedback:\"ready\",\r\n            filtered:true\r\n          })\r\n        },\r\n        fail:(response) => console.error(response)\r\n      })\r\n    })\r\n  },\r\n\r\n  _handleLoadedTractors(tractors){\r\n    if(!tractors || tractors.length === 0){\r\n      return <UU5.Bricks.P>Není tu žádný traktor</UU5.Bricks.P>\r\n    }\r\n\r\n    let lines = tractors.map((tractor) => (\r\n      <UU5.Bricks.Table.Tr key={tractor.id}>\r\n        <UU5.Bricks.Table.Td>{tractor.id}</UU5.Bricks.Table.Td>\r\n        <UU5.Bricks.Table.Td>{tractor.type}</UU5.Bricks.Table.Td>\r\n        <UU5.Bricks.Table.Td>{tractor.vin}</UU5.Bricks.Table.Td>\r\n        <UU5.Bricks.Table.Td>{tractor.vehicleState}</UU5.Bricks.Table.Td>\r\n      </UU5.Bricks.Table.Tr>\r\n    ));\r\n\r\n    return (\r\n      <UU5.Bricks.Table striped>\r\n        <UU5.Bricks.Table.THead>\r\n          <UU5.Bricks.Table.Tr>\r\n            <UU5.Bricks.Table.Th>id</UU5.Bricks.Table.Th>\r\n            <UU5.Bricks.Table.Th>type</UU5.Bricks.Table.Th>\r\n            <UU5.Bricks.Table.Th>vin</UU5.Bricks.Table.Th>\r\n            <UU5.Bricks.Table.Th>state</UU5.Bricks.Table.Th>\r\n          </UU5.Bricks.Table.Tr>\r\n        </UU5.Bricks.Table.THead>\r\n        <UU5.Bricks.Table.TBody>\r\n          {lines}\r\n        </UU5.Bricks.Table.TBody>\r\n      </UU5.Bricks.Table>\r\n    )\r\n  },\r\n  //@@viewOff:componentSpecificHelpers\r\n\r\n  //@@viewOn:render\r\n  render(){\r\n    return (\r\n      <UU5.Bricks.Div>\r\n        <UU5.Bricks.Header level={2}>Seznam traktorů (vozidel)</UU5.Bricks.Header>\r\n\r\n        {this._getNewForm()}\r\n        <UU5.Bricks.Panel header={this._getPanelHeader()} alwaysExpanded={true} disableHeaderClick={true}>\r\n          {this._getFilterForm()}\r\n\r\n          {this.getLoadFeedbackChildren(this._handleLoadedTractors)}\r\n        </UU5.Bricks.Panel>\r\n      </UU5.Bricks.Div>\r\n    );\r\n  }\r\n  //@@viewOff:render\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./vuc/tractor-list.js"],"sourceRoot":""}