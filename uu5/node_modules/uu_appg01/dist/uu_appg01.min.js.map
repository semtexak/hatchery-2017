{"version":3,"sources":["webpack:///uu_appg01@2.1.0/srcwebpack/universalModuleDefinition","webpack:///uu_appg01@2.1.0/srcuu_appg01.min.js","webpack:///uu_appg01@2.1.0/srcwebpack/bootstrap 8e841229a0ffbc728674","webpack:///uu_appg01@2.1.0/src../.tmp/index-withDeps.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/Error.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/util/Config.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/discovery/Discovery.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/jwt/InvalidTokenError.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/ui/IframeComponent.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/PromiseUtil.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/logging/Logger.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/logging/LoggerFactory.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/logging/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/perflog/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/uri/Uri.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/uri/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/util/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/Session.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/flow/ImplicitFlow.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/ui/CallbackHandler.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/Base64Url.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/HttpClient.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/StringUtil.js","webpack:///uu_appg01@2.1.0/srcexternal {\"amd\":\"module\",\"commonjs\":\"module\",\"commonjs2\":\"module\",\"root\":\"undefined\"}","webpack:///uu_appg01@2.1.0/src./Client.js","webpack:///uu_appg01@2.1.0/src./index-withDeps.js","webpack:///uu_appg01@2.1.0/src./index.js","webpack:///uu_appg01@2.1.0/src../~/object-assign/index.js","webpack:///uu_appg01@2.1.0/src../~/process/browser.js","webpack:///uu_appg01@2.1.0/src../~/es6-promise/dist/es6-promise.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/app-client/Client.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/app-client/index.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/AbortError.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/NetworkError.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/RemoteError.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/error/TimeoutError.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/perflog/PerfLog.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/polyfills.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/uri/UriBuilder.js","webpack:///uu_appg01@2.1.0/src../~/uu_appg01_core/dist-node/uri/UriParser.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/Defaults.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/SessionContext.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/SessionHandler.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/jwks/Jwks.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/jwt/Jwt.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/jwt/JwtVerifierJsrsasign.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/jwt/JwtVerifierWebCrypto.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/ui/PopupComponent.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/Dom.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/util/Uuid.js","webpack:///uu_appg01@2.1.0/src../~/uu_oidcg01/dist-node/uuos8/Os8Auth.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_23__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","mod","uri","document","currentScript","Array","prototype","slice","getElementsByTagName","src","toString","split","join","_Error","msgOrObj","self","bind","apply","arguments","errorObject","_typeof","message","cause","Object","assign","generateUuid","stack","Error","uuid","replace","r","Math","random","v","Symbol","iterator","obj","constructor","JSON","stringify","toJSON","hasOwnProperty","useToString","e","create","_interopRequireWildcard","__esModule","newObj","key","default","defineProperty","value","Perflog","Util","Logging","Uri","AppClient","undefined","_index","_index2","_index3","_index4","_index5","_index6","Config","envOrUrl","_env","initInstance","options","initInvoked","loadResult","initUrl","load","then","promise","Promise","resolve","immediateResult","initComplete","initPromise","env","url","result","reject","opts","xhr","XMLHttpRequest","open","sync","setRequestHeader","onerror","onload","status","responseText","parse","send","get","name","recursive","length","parts","splice","globalConfig","init","initInvokedPromiseResolve","initCompletePromiseResolve","initCompletePromiseReject","defineProperties","initCompletePromise","rs","rj","initInvokedPromiseReject","initInvokedPromise","inited","window","System","has","normalizeSync","normModule","match","import","console","error","UU5","Environment","_interopRequireDefault","_HttpClient","_HttpClient2","_PromiseUtil","_PromiseUtil2","oidcMetadataCache","getMetadata","aIssuerUri","issuerUri","metadata","discoveryEndpoint","wrapForImmediateThen","catch","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_uu_appg01_core","InvalidTokenError","_Errors$Error","getPrototypeOf","_CallbackHandler","_CallbackHandler2","IframeComponent","initAttrs","attrs","state","iframe","contentWindow","registerForCallback","finalize","aLoginResult","destroy","onResult","render","createElement","style","cssText","body","appendChild","parentNode","removeChild","unregisterForCallback","_immediateValue","_immediateError","immediateThen","thenFn","catchFn","TimeoutError","RemoteError","NetworkError","AbortError","_Error2","_AbortError","_AbortError2","_NetworkError","_NetworkError2","_RemoteError","_RemoteError2","_TimeoutError","_TimeoutError2","Logger","_this","priv","allowLoggerNew","ready","_buffer","set","flushBuffer","logToAppenders","msg","levelsInverted","level","toLowerCase","concat","args","logToBuffer","method","push","_this2","forEach","it","levels","DEBUG","INFO","WARN","ERROR","OFF","MAX_VALUE","keys","reduce","toUpperCase","setLevel","LEVEL_WARN","num","Number","isNaN","getLevel","getLevelName","debug","isDebugLoggable","info","isInfoLoggable","warn","isWarnLoggable","isErrorLoggable","configure","logger","hierarchical","logLevel","loggers","LoggerFactory","loggerPriv","getRootLogger","rootLogger","k","_Logger","_Logger2","_LoggerFactory","_LoggerFactory2","PerfLog","_PerfLog","_PerfLog2","scheme","hostname","port","vendor","app","subApp","spp","tid","awid","useCase","parameters","throwOnSet","attr","Err","getBaseUri","baseUri","gateway","product","workspace","Builder","clearParameters","toUri","getRelativeUri","relativeUri","allowNew","parseInt","EMPTY","lazyGet","formatGateway","formatProduct","formatWorkspace","params","str","format","freeze","path","substr","i","pathPart","charAt","segments","part","pop","unshift","resultPath","equals","aUri2","uriStr","UriBuilder","_Uri","_Uri2","_UriBuilder","_UriBuilder2","_Config","_Config2","toFullUrl","a","href","tryAutoLogin","Session","currentSession","isAuthenticated","_loginInProgress","id_token","location","search","g","decodeURIComponent","_login","access_token","nonce","prompt","acr_values","_createClass","target","props","descriptor","protoProps","staticProps","_Defaults","_Defaults2","_ImplicitFlow","_ImplicitFlow2","_SessionContext","_SessionContext2","_Uuid","_Uuid2","_Jwt","_Jwt2","_InvalidTokenError","_InvalidTokenError2","_Jwks","_Jwks2","_Discovery","_Discovery2","_Os8Auth","_Os8Auth2","_Dom","_Dom2","_StringUtil","_StringUtil2","_IframeComponent","_IframeComponent2","_optionsMergedPromise","serverUri","clientId","implicitFlowRedirectUri","sessionCheckInterval","baseUrl","baseURI","pathname","timeout","max","check","_loginCtx","setTimeout","_runListeners","listeners","addIdentityChangeListener","listener","removeIdentityChangeListener","idx","indexOf","identity","getIdentity","_sessionRefreshTimeout","clearTimeout","claims","getClaims","expiresAt","LEEWAY","now","Date","getTime","delay","autoLogoutAfter","toSnakeCase","os8Token","_this3","updateSessionWithLoginResult","token_type_hint","accessToken","doLogin","useCurrent","every","loginLevelOfAssurance","_authResponseExpired","authResponse","authResponsePromise","os8Auth","redirectUri","grantExchangeToken","subject_token","login","loginParams","_validateIdToken","_this4","oidcServerUri","logoutCallbackUri","logoutUrl","encodeURIComponent","callUri","tokenType","token_type","token","leeway","expired","issued_at","expires_at","expires_in","_this5","verifyOptions","alg","iss","issuer","gracePeriod","decode","jwtHeader","keyType","supportedAlgs","id_token_signing_alg_values_supported","jwks","getKey","kid","allowAutoInitSession","finalizeInit","isOk","log","isBrowser","Function","domReady","_PopupComponent","_PopupComponent2","ImplicitFlow","oidcMetadata","scope","response_type","client_id","redirect_uri","loginParamsParts","loginUrl","authorization_endpoint","LoginVisualComponent","loginVisualComponent","getAuthResponseFromCallback","aLoginCallbackResult","eqlIdx","SessionHandler","_Session","_Session2","_SessionHandler","_SessionHandler2","UuOidc","VC_CALLBACK_FN_NAME","aSourceWindow","loginWindows","loginWindow","component","Base64Url","encodeAscii","txtAscii","btoa","encode","txtUtf8","unescape","decodeToAscii","base64Url","base64","atob","ascii","escape","xhrJson","extraSettingFn","withCredentials","onreadystatechange","readyState","json","err","post","aText","Client","UuApp","defaults","_uu_oidcg","defClient","A","interceptors","UriHandler","Cmd","Oidc","_Client","_Client2","toObject","val","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","map","n","test3","letter","propIsEnumerable","propertyIsEnumerable","source","from","symbols","to","s","getOwnPropertySymbols","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","len","run","Item","array","noop","process","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","global","objectOrFunction","x","isFunction","setScheduler","scheduleFn","customSchedulerFn","setAsap","asapFn","asap","useNextTick","flush","useVertxTimer","vertxNext","useSetTimeout","useMutationObserver","iterations","observer","BrowserMutationObserver","node","createTextNode","observe","characterData","data","useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","globalSetTimeout","callback","arg","attemptVertx","vertx","runOnLoop","runOnContext","onFulfillment","onRejection","_arguments","parent","child","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","object","_resolve","selfFulfillment","cannotReturnOwn","getThen","GET_THEN_ERROR","tryThen","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","reason","_reject","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","then$$","publishRejection","_onerror","publish","PENDING","_subscribers","subscribers","settled","detail","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","nextId","Enumerator","input","_instanceConstructor","isArray","_input","_remaining","_enumerate","validationError","all","entries","race","_","needsResolver","needsNew","polyfill","local","P","promiseToString","cast","_isArray","scheduleFlush","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","substring","_eachEntry","entry","resolve$$","_then","_settledAt","_willSettleAt","enumerator","_setScheduler","_setAsap","_asap","headers","keysToLowerCase","request","nextInterceptorFn","carryOn","optName","RemoteErrorHandler","checkError","isReject","response","errorData","errorMap","firstErrorKey","type","code","UujsonHandler","isUujson","test","schema","setParameter","TransformParametersHandler","getMimeMainType","mimeType","trim","transformResponse","respContentType","contentHandler","contentTransformers","deserialize","paramsInBody","contentType","isMultipartPreferred","FormData","Blob","some","transformParameters","wrapQuery","dto","serialize","PerfLogHandler","measureSection","section","attributes","interceptorMakeResponse","extraFields","aHeader","getResponseHeader","getAllResponseHeaders","requestTimeout","invoke","InvokeXhr","cmdClient","httpClientOpts","finalRequest","finalOpts","aborted","canHaveBody","ontimeout","onabort","interceptorOpts","lastResponse","chainFn","reduceRight","interceptorFn","req","anyValue","resultPromise","abort","Json","Form","pairs","pair","g1","g2","MultiPart","file","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","return","list","sort","b","File","formData","append","application/json","application/x-www-form-urlencoded","multipart/form-data","createSectionId","rootId","createIdSegment","childId","perfLog","close","measuredFn","Section","checkpoints","start","setCheckpoint","finish","duration","_es6Promise","_es6Promise2","_objectAssign","_objectAssign2","baseEl","querySelector","validateFn","UriParser","validatePort","parseGateway","parseProduct","parseWorkspace","validateParameterName","validateParameterValue","deleteParameter","uriObj","hash","builder","setterFnName","mergeParameters","uriPriv","missing","InvalidUriPartError","partName","expected","ASSET_CLASSIFIER","UNRESERVED","IDENTIFIER","SCHEME","IPV6_PART","IPV6","HOSTNAME","PORT","GATEWAY","VENDOR","APP","SUB_APP","SPP","PRODUCT","TID","AWID","WORKSPACE","USE_CASE","PARAMETER_NAME","PARAMETER_VALUE","PARAMETER","PARAMETERS","URI_REGEXP","RegExp","uriBuilder","eqlSignIdx","uc","paramKeys","validateScheme","validateHostname","validateVendor","validateApp","validateSubApp","validateSpp","validateTid","validateAwid","validateGateway","validateProduct","validateWorkspace","validateUseCase","SessionContext","loginOptions","email","uuIdentity","levelOfAssurance","runWith","extraLoginParams","count","usedLoginParams","session","getCallToken","callToken","authToken","wwwAuthenticate","valueMap","decodeUriWithPlus","relevantValues","filter","hasCustomAuthn","txt","jwkSetCache","cacheBustCounter","_class","keyId","_getKey","forceKeySetReload","jwkSetMeta","jwks_uri","jwkSet","kty","_Base64Url","_Base64Url2","_JwtVerifierWebCrypto","_JwtVerifierWebCrypto2","_JwtVerifierJsrsasign","_JwtVerifierJsrsasign2","hasWebCrypto","crypto","subtle","importKey","useWebCrypto","protocol","verifier","DEFAULT_ALG","verifyOpts","getKeyFn","tokenParts","header","headerB64U","headerStr","typ","verify","valid","bodyStr","_module","_module2","scriptUri","jsrsasign","Verifier","loadPromise","continueFn","isMin","script","head","keyInst","KEYUTIL","jws","JWS","verifyJWT","asciiToUint8Array","Uint8Array","charCodeAt","asArray","toTimeString","seconds","toISOString","webCryptoAlgorithm","usedKey","use","webCryptoKey","signatureB64U","signatureBytes","dataBytes","algorithm","importError","signatureValid","throwError","failedClaim","sub","aud","bodyV","bv","verifyAt","exp","nbf","iat","jti","PopupComponent","closeCheckInterval","closeCheck","closed","rect","width","height","left","screen","availWidth","availLeft","top","availHeight","availTop","setInterval","clearInterval","domReadyPromise","addEventListener","Os8Auth","urlParams","urlParamsParts"],"mappings":"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","file":"uu_appg01.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"module\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"UuApp\", [\"module\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UuApp\"] = factory(require(\"module\"));\n\telse\n\t\troot[\"UuApp\"] = factory(root[\"undefined\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_23__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"module\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"UuApp\", [\"module\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UuApp\"] = factory(require(\"module\"));\n\telse\n\t\troot[\"UuApp\"] = factory(root[\"undefined\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_23__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar mod=__webpack_require__(23);\n\t  var uri = ((mod ? mod.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName(\"script\"), -1)[0] || {}).src) || \"\").toString();\n\t  __webpack_require__.p=uri.split(/\\//).slice(0, -1).join(\"/\") + \"/\"; // runtime publicPath configuration required for proper linking of styles, background images, ...\n\t  module.exports = __webpack_require__(25);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// make native Error-s (TypeError, ...) be converted to JSON \"somehow\", because right now they always end up as {}\n\ttry {\n\t  if (JSON.stringify(new Error()) == \"{}\") {\n\t    Error.prototype.toJSON = function () {\n\t      if (Object.hasOwnProperty(this, \"toJSON\")) return this; // to be on the safe-side\n\t      // we might be in a sub-classed error (TypeError, even custom Error) so temporarily override\n\t      // toJSON with as-is serialization and use toString() only if we would get no information otherwise\n\t      this.toJSON = function () {\n\t        return this;\n\t      };\n\t      var useToString = JSON.stringify(this) == \"{}\";\n\t      delete this.toJSON; // deletes override; toJSON on prototype chain (this one or any other) is preserved\n\t      // use this or toString() for final serialization\n\t      return useToString ? this.toString() + (this.stack != null ? \"\\n\" + this.stack : \"\") : this;\n\t    };\n\t  }\n\t} catch (e) {}\n\t// ignore\n\t\n\t\n\t//  /**\n\t//   * Creates new Error.\n\t//   * \n\t//   * This constructor can be also called with a single object literal containing any fields that\n\t//   * are to be set to the Error object. \n\t//   *\n\t//   * @param {string} message The message.\n\t//   * @param {Error} cause (optional) The cause (original error).\n\t//   * @constructor UuApp.Error.Error\n\t//   */\n\t\n\t// TODO JSDoc doesn't support describing multiple signatures for the same method :-(.\n\t//  /**\n\t//   * Creates new Error.\n\t//   *\n\t//   * @param {Object} errorObject Object with any attributes to set to the Error instance.\n\t//   * @constructor UuApp.Error.Error\n\t//   */\n\tfunction _Error(msgOrObj) {\n\t  var self = this;\n\t  if (!(self instanceof _Error)) return new (_Error.bind.apply(_Error, arguments))(); // make an instance even if developer forgot to use \"new\" keyword\n\t  var errorObject = msgOrObj;\n\t  if (!errorObject || (typeof errorObject === \"undefined\" ? \"undefined\" : _typeof(errorObject)) != \"object\") {\n\t    errorObject = {\n\t      message: arguments[0],\n\t      cause: arguments[1]\n\t    };\n\t  }\n\t  Object.assign(this, errorObject);\n\t  if (!this.id) this.id = generateUuid();\n\t  if (!this.stack) this.stack = new Error().stack;\n\t  /**\n\t   * ID of the error. If not specified, it'll be automatically generated.\n\t   * @name UuApp.Error.Error#id\n\t   */\n\t  /**\n\t   * The message of the error.\n\t   * @name UuApp.Error.Error#message\n\t   */\n\t  /**\n\t   * The cause (nested error) of the error.\n\t   * @name UuApp.Error.Error#cause\n\t   */\n\t  /**\n\t   * Stacktrace of the error. If not specified, it'll be automatically filled via browser.\n\t   * @name UuApp.Error.Error#stack\n\t   */\n\t}\n\t_Error.prototype = Object.create(Error.prototype);\n\t_Error.prototype.constructor = _Error;\n\t\n\tfunction generateUuid() {\n\t  // generate UUID (RFC4122 version 4 compliant) for the event ID\n\t  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n\t  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t    var r = Math.random() * 16 | 0,\n\t        v = c == 'x' ? r : r & 0x3 | 0x8;\n\t    return v.toString(16);\n\t  });\n\t  return uuid;\n\t}\n\t\n\tmodule.exports = _Error;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Perflog = exports.Util = exports.Logging = exports.Error = exports.Uri = exports.AppClient = undefined;\n\t\n\t__webpack_require__(37);\n\t\n\tvar _index = __webpack_require__(31);\n\t\n\tvar AppClient = _interopRequireWildcard(_index);\n\t\n\tvar _index2 = __webpack_require__(14);\n\t\n\tvar Uri = _interopRequireWildcard(_index2);\n\t\n\tvar _index3 = __webpack_require__(8);\n\t\n\tvar Error = _interopRequireWildcard(_index3);\n\t\n\tvar _index4 = __webpack_require__(11);\n\t\n\tvar Logging = _interopRequireWildcard(_index4);\n\t\n\tvar _index5 = __webpack_require__(15);\n\t\n\tvar Util = _interopRequireWildcard(_index5);\n\t\n\tvar _index6 = __webpack_require__(12);\n\t\n\tvar Perflog = _interopRequireWildcard(_index6);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.AppClient = AppClient;\n\texports.Uri = Uri;\n\texports.Error = Error;\n\texports.Logging = Logging;\n\texports.Util = Util;\n\texports.Perflog = Perflog;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar Error = __webpack_require__(1);\n\t\n\t/**\n\t * Initializes new configuration object from provided key-value map, URL or from another Promise resolving\n\t * to one of those.\n\t * \n\t * @class UuApp.Util.Config\n\t * @classdesc\n\t * \"Global\" configuration for components such as Client, Logger, ... The configuration\n\t * is a flat map containing data such as addresses to gateways, logging configuration and others and\n\t * is typically configured somewhere on server-side, therefore it should be explicitly downloaded and\n\t * processed using {@link UuApp.Util.Config.init Config.init} method, e.g.:\n\t * \n\t *     // initialize configuration from URL\n\t *     UuApp.Util.Config.init(\"/vendor-app/0-0/getClientConfig\");\n\t * \n\t *     // alternatively, configuration can be initialized directly\n\t *     UuApp.Util.Config.init({\n\t *       \"gatewayUri\": \"https://uuappsg01.plus4u.net\",\n\t *       \"logLevel\": \"DEBUG\"\n\t *     });\n\t *\n\t * Note that the intialization via URL is an asynchronous operation, so components will wait until\n\t * it's downloaded.\n\t *      \n\t * Each component describes its own supported configuration options in its class descriptions.\n\t * \n\t * @param {(string|Object|Promise)} envOrUrl URL from which to download the key-value map\n\t *   (using GET method, expecting application/json data). Alternatively, it can be the key-value\n\t *   map directly or a Promise resolving to it. \n\t * @return {Promise} Promise resolved to this instance of Config. Promise is resolved after the key-value map\n\t *                   is loaded from given URL, or after given Promise is resolved, or immediately if key-value\n\t *                   map was given directly).\n\t * @example\n\t *     // initialize custom configuration from server\n\t *     var myEnv = new UuApp.Util.Config(\"/vendor-app/0-0/getClientConfig\");\n\t *     myEnv.initPromise.then(function (env) { // env === myEnv\n\t *       console.log(\"'myEnv' is ready. Values:\", env.get());\n\t *       var client = new UuApp.AppClient.Client(env.get()); // pass configuration to UuApp.AppClient.Client (gatewayUri, ...)\n\t *     });\n\t *     \n\t *     // initialize custom configuration with directly specified configuration\n\t *     var myEnv2 = new UuApp.Util.Config({\n\t *       \"logLevel\": \"DEBUG\"\n\t *     });\n\t *     console.log(\"'myEnv2' is ready. Values:\", myEnv2.get());\n\t * \n\t *     // use configuration from the result of another promise\n\t *     var somePromise = ...; // resolves to key-value map\n\t *     var myEnv3 = new UuApp.Util.Config(somePromise);\n\t *     myEnv3.then(function (env) { ... }); // env === myEnv3\n\t */\n\tfunction Config(envOrUrl) {\n\t  this._env = {};\n\t\n\t  // initialize (but only if not instructed to skip it which is used so that globalConfig can be initialized on-demand)\n\t  if (envOrUrl !== false) initInstance.apply(this, arguments);\n\t}\n\t\n\tConfig.prototype.initInvoked = false;\n\t/**\n\t * Whether the configuration has finished loading. For configuration that was\n\t * initialized by providing key-value map directly, it'll be true from the start.\n\t * \n\t * @type {boolean}\n\t * @name UuApp.Util.Config#initComplete\n\t */\n\tConfig.prototype.initComplete = false;\n\t/**\n\t * Promise resolved when configuration has finished loading.\n\t * \n\t * @type {Promise}\n\t * @name UuApp.Util.Config#initPromise\n\t */\n\tConfig.prototype.initPromise = null;\n\t/**\n\t  * URL from which the configuration has been loaded, or null if it wasn't loaded\n\t  * via URL.\n\t  * \n\t  * @type {string}\n\t  * @name UuApp.Util.Config#initUrl\n\t  */\n\tConfig.prototype.initUrl = null;\n\t\n\t/**\n\t * Returns value of the specified configuration setting. If no name is given,\n\t * map with all settings is returned.\n\t * \n\t * @param {string} name The setting whose value to return. If not given,\n\t *   map with all settings is returned.\n\t * @param {boolean} [recursive=true] Whether to lookup the setting recursively. For example\n\t *   retrieving value for name \"A.B.C.logLevel\" would try \"A.B.C.logLevel\" first,\n\t *   then \"A.B.logLevel\", then \"A.logLevel\" and finally \"logLevel\".\n\t * @method UuApp.Util.Config#get\n\t */\n\tConfig.prototype.get = function (name, recursive) {\n\t  if (arguments.length == 0) return this._env;\n\t  if (recursive === false) return this._env[name];\n\t  var parts = name.split(/\\./);\n\t  while (parts.length > 1) {\n\t    var v = this._env[parts.join(\".\")];\n\t    if (v != null) return v;\n\t    parts.splice(parts.length - 2, 1);\n\t  }\n\t  return this._env[parts[0]];\n\t};\n\t\n\t// create default (global) configuration instance but don't initialize it - consumer of the library\n\t// must do it via Config.init()\n\tvar globalConfig = new Config(false);\n\t\n\t/**\n\t * Initializes default (global) configuration from given URL or by given key-value map.\n\t * The method accepts the same arguments as the {@link UuApp.Util.Config Config(...)} constructor.\n\t * \n\t * Note that components such as UuApp.AppClient.Client will automatically wait until default configuration\n\t * is loaded (if .init has been invoked prior to their usage).\n\t * \n\t * @return Promise ({@link UuApp.Util.Config#initPromise Config#initPromise) resolved to the loaded key-value map.\n\t * @method UuApp.Util.Config.init\n\t * @example\n\t *     // initialize default (global) configuration from server\n\t *     UuApp.Util.Config.init(\"/vendor-app/0-0/getClientConfig\").then(function (env) {\n\t *       console.log(\"Components have been configured using environment\", env.get());\n\t *     });\n\t *     \n\t *     // initialize default (global) configuration with directly specified data\n\t *     UuApp.Util.Config.init({\n\t *       \"logLevel\": \"DEBUG\"\n\t *     });\n\t */\n\tConfig.init = function (envOrUrl) {\n\t  initInstance.apply(globalConfig, Array.prototype.slice.call(arguments));\n\t  initInvokedPromiseResolve();\n\t  globalConfig.initPromise.then(initCompletePromiseResolve, initCompletePromiseReject);\n\t  return globalConfig.initPromise;\n\t};\n\t\n\tObject.defineProperties(Config, {\n\t  /**\n\t   * Whether the *global* configuration has started loading.\n\t   * \n\t   * @type {boolean}\n\t   * @name UuApp.Util.Config.initInvoked\n\t   */\n\t  initInvoked: { get: function get() {\n\t      return globalConfig.initInvoked;\n\t    } },\n\t  /**\n\t   * Whether the *global* configuration has finished loading.\n\t   * \n\t   * @type {boolean}\n\t   * @name UuApp.Util.Config.initComplete\n\t   */\n\t  initComplete: { get: function get() {\n\t      return globalConfig.initComplete;\n\t    } },\n\t  /**\n\t   * Promise resolved when *global* configuration has finished loading. Note that\n\t   * the field is null prior to Config.init call.\n\t   * \n\t   * @type {Promise}\n\t   * @name UuApp.Util.Config.initPromise\n\t   */\n\t  initPromise: { get: function get() {\n\t      return globalConfig.initPromise;\n\t    } },\n\t  /**\n\t   * URL from which the configuration has been loaded, or null if it wasn't loaded\n\t   * via URL.\n\t   * \n\t   * @type {string}\n\t   * @name UuApp.Util.Config.initUrl\n\t   */\n\t  initUrl: { get: function get() {\n\t      return globalConfig.initUrl;\n\t    } }\n\t});\n\t\n\t// promise (always non-null) which resolves after Config.init is completed\n\t// (if it never gets called, the promise won't get resolved)\n\tvar initCompletePromiseResolve;\n\tvar initCompletePromiseReject;\n\tConfig.initCompletePromise = new Promise(function (rs, rj) {\n\t  return initCompletePromiseResolve = rs, initCompletePromiseReject = rj;\n\t});\n\t\n\t// promise (always non-null) which resolves after Config.init is called,\n\t// even if it wasn't completed yet (if it never gets called, the promise won't get resolved)\n\tvar initInvokedPromiseResolve;\n\tvar initInvokedPromiseReject;\n\tConfig.initInvokedPromise = new Promise(function (rs, rj) {\n\t  return initInvokedPromiseResolve = rs, initInvokedPromiseReject = rj;\n\t});\n\t\n\t/**\n\t * Returns value of the specified setting from *global* configuration. If no name is given,\n\t * map with all settings is returned.\n\t * \n\t * @param {string} name The setting whose value to return. If not given,\n\t *   map with all settings is returned.\n\t * @param {boolean} [recursive=true] Whether to lookup the setting recursively. For example\n\t *   retrieving value for name \"A.B.C.logLevel\" would try \"A.B.C.logLevel\" first,\n\t *   then \"A.B.logLevel\", then \"A.logLevel\" and finally \"logLevel\".\n\t * @see UuApp.Util.Config#get\n\t * @method UuApp.Util.Config.get\n\t */\n\tConfig.get = function () {\n\t  return globalConfig.get.apply(globalConfig, arguments);\n\t};\n\t\n\tfunction initInstance(options) {\n\t  if (this.initInvoked) throw new Error(\"UuApp.Util.Config can be initialized only once (#init method). \" + \"If a private / separate environment is needed, use new UuApp.Util.Config().\");\n\t  this.initInvoked = true;\n\t\n\t  // load environment (sync / async)\n\t  var loadResult;\n\t  if (typeof options == \"string\") {\n\t    this.initUrl = arguments[0];\n\t    loadResult = load.apply(this, arguments); // it's a URL\n\t  } else if (options != null && typeof options.then === \"function\") loadResult = { promise: Promise.resolve(options) }; // it's a Promise\n\t  else if (options == null || (typeof options === \"undefined\" ? \"undefined\" : _typeof(options)) == \"object\" || typeof options == \"function\") loadResult = { immediateResult: options }; // it's a direct value\n\t    else throw new Error(\"UuApp.Util.Config can be initialized only with object-like structure, but typeof says '\" + (typeof options === \"undefined\" ? \"undefined\" : _typeof(options)) + \"'. Initialized with: \" + JSON.stringify(options));\n\t\n\t  // process load result\n\t  if (loadResult.immediateResult) {\n\t    this._env = loadResult.immediateResult;\n\t    this.initComplete = true;\n\t    this.initPromise = Promise.resolve(this);\n\t  } else {\n\t    this.initPromise = loadResult.promise.then(function (env) {\n\t      this._env = env;\n\t      this.initComplete = true;\n\t      return this;\n\t    }.bind(this)); // in case of error just propagate it (no error handler here) - we don't want to call services against wrong domains (config contains gateway URIs, ...) \n\t  }\n\t\n\t  return this.initPromise;\n\t}\n\t\n\tfunction load(url, options) {\n\t  var result;\n\t  var p = new Promise(function (resolve, reject) {\n\t    if (!url) return resolve({});\n\t    var opts = options || {};\n\t\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open(\"GET\", url, opts.sync !== true);\n\t    xhr.setRequestHeader(\"Accept\", \"application/json\");\n\t    xhr.onerror = function (e) {\n\t      return reject(new Error(\"Unable to load environment configuration from \" + url + \" - network error.\"));\n\t    };\n\t    xhr.onload = function (e) {\n\t      if (xhr.status >= 200 && xhr.status < 300) {\n\t        try {\n\t          result = (xhr.responseText ? JSON.parse(xhr.responseText) : null) || {};\n\t          resolve(result || {});\n\t          return;\n\t        } catch (e) {\n\t          reject(new Error(\"Unable to load environment configuration from \" + url + \" - not a JSON. Response:\\n\" + xhr.responseText));\n\t        }\n\t      } else {\n\t        reject(new Error(\"Unable to load environment configuration from \" + url + \" - status \" + xhr.status + \". Response:\\n\" + xhr.responseText));\n\t      }\n\t    };\n\t    xhr.send(null);\n\t  });\n\t  return { immediateResult: result, promise: p };\n\t}\n\t\n\t// if running in browser with SystemJS loader, use UU_ENVIRONMENT module if it's configured\n\tvar inited = false;\n\tif (typeof window != \"undefined\") {\n\t  if (typeof System != \"undefined\" && window && System && System.has && System.get && System.normalizeSync) {\n\t    try {\n\t      // for backward compatibility try initialization via module named \"UU_ENVIRONMENT\"\n\t      var normModule = System.normalizeSync(\"UU_ENVIRONMENT\");\n\t      if (System.has(normModule)) {\n\t        // the module has been already instantiated\n\t        var mod = System.get(normModule);\n\t        Config.init(mod[\"default\"] || mod);\n\t        if (!normModule.match(/\\/UU_ENVIRONMENT$/)) globalConfig.initUrl = normModule;\n\t        inited = true;\n\t      } else if (!normModule.match(/\\/UU_ENVIRONMENT$/)) {\n\t        // the module is not ready yet but it is defined (has configured URL to be downloaded from)\n\t        Config.init(System.import(\"UU_ENVIRONMENT\"));\n\t        globalConfig.initUrl = normModule;\n\t        inited = true;\n\t      }\n\t    } catch (e) {\n\t      console.error(\"Failed to initialize configuration from UU_ENVIRONMENT. Error:\", e);\n\t    }\n\t  }\n\t  // initialize configuration from UU5.Environment variable\n\t  if (!inited && window.UU5 && window.UU5.Environment) {\n\t    Config.init(window.UU5.Environment);\n\t    inited = true;\n\t  }\n\t}\n\t\n\tmodule.exports = Config;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _HttpClient = __webpack_require__(21);\n\t\n\tvar _HttpClient2 = _interopRequireDefault(_HttpClient);\n\t\n\tvar _PromiseUtil = __webpack_require__(7);\n\t\n\tvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar oidcMetadataCache = {}; // stores Promises\n\t\n\texports.default = {\n\t  /**\n\t   * @return Promise resolving to OIDC discovery metadata for given issuerUri.\n\t   */\n\t  getMetadata: function getMetadata(aIssuerUri) {\n\t    var issuerUri = aIssuerUri.replace(/\\/+$/, \"\"); // strip trailing slash(es) (this also normalizes it as a key to cache)\n\t    var metadata = oidcMetadataCache[issuerUri];\n\t    if (metadata) return metadata;\n\t    var discoveryEndpoint = issuerUri + \"/.well-known/openid-configuration\";\n\t    return oidcMetadataCache[issuerUri] = _PromiseUtil2.default.wrapForImmediateThen(_HttpClient2.default.get(discoveryEndpoint).catch(function (e) {\n\t      delete oidcMetadataCache[issuerUri]; // don't cache errors so that e.g. clicking a button 2nd time (after network is up again) has chance to work\n\t      throw e;\n\t    }));\n\t  }\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar InvalidTokenError = function (_Errors$Error) {\n\t  _inherits(InvalidTokenError, _Errors$Error);\n\t\n\t  function InvalidTokenError() {\n\t    _classCallCheck(this, InvalidTokenError);\n\t\n\t    return _possibleConstructorReturn(this, (InvalidTokenError.__proto__ || Object.getPrototypeOf(InvalidTokenError)).apply(this, arguments));\n\t  }\n\t\n\t  return InvalidTokenError;\n\t}(_uu_appg01_core.Error.Error);\n\t\n\texports.default = InvalidTokenError;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _CallbackHandler = __webpack_require__(19);\n\t\n\tvar _CallbackHandler2 = _interopRequireDefault(_CallbackHandler);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Visual component for attempting user login/logout on a background in an iframe. Usable only for prompt=\"none\" cases.\n\t * After login/logout initAttrs.onResult(authResultUrl) is called as callback.\n\t * \n\t * @param initAttrs.url The URL to be called on OpenID Connect Server for user authentication.\n\t * @param initAttrs.onResult The callback to call after login/logout finishes.\n\t */\n\tvar IframeComponent = function IframeComponent(initAttrs) {\n\t  var attrs = Object.assign({}, initAttrs);\n\t  var state = {\n\t    iframe: null\n\t  };\n\t  Object.defineProperty(state, \"loginWindow\", {\n\t    get: function get() {\n\t      try {\n\t        // needs try-catch depending on which phase we're being asked (might be during redirect, ..., which can be cross-domain)\n\t        return state.iframe != null ? state.iframe.contentWindow : null;\n\t      } catch (e) {\n\t        // ignore\n\t      }\n\t      return null;\n\t    }\n\t  });\n\t\n\t  // add self to the list of openend loginWindows\n\t  _CallbackHandler2.default.registerForCallback(this, state);\n\t\n\t  // finalization callback (for this component instance) called after login from redirect_uri page\n\t  this.finalize = function (aLoginResult) {\n\t    // cleanup & do the callback\n\t    this.destroy();\n\t    if (attrs.onResult) attrs.onResult(aLoginResult);\n\t  }.bind(this);\n\t\n\t  // TODO Maybe use timeout ~30s and destroy in case that something is seriously wrong (network errors, ...).\n\t\n\t  this.render = function () {\n\t    if (!state.iframe) {\n\t      state.iframe = document.createElement(\"iframe\");\n\t      state.iframe.style.cssText = \"position: absolute;top: -300px; left: -300px; width: 200px; height: 200px; opacity: 0;\";\n\t      state.iframe.src = attrs.url;\n\t      document.body.appendChild(state.iframe);\n\t    }\n\t  };\n\t\n\t  this.destroy = function () {\n\t    if (state.iframe && state.iframe.parentNode) state.iframe.parentNode.removeChild(state.iframe);\n\t    this.destroy = function () {};\n\t    _CallbackHandler2.default.unregisterForCallback(this);\n\t  };\n\t};\n\t\n\texports.default = IframeComponent;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  /**\n\t   * Wraps Promise so that it can then be used in immediateThen function.\n\t   */\n\t  wrapForImmediateThen: function wrapForImmediateThen(promise) {\n\t    promise.then(function (v) {\n\t      return promise._immediateValue = v;\n\t    }, function (e) {\n\t      return promise._immediateError = e;\n\t    });\n\t    return promise;\n\t  },\n\t\n\t  /**\n\t   * If promise has already been resolved, thenFn is called immediately (or catchFn in\n\t   * case that the promise has been rejected). Otherwise thenFn and catchFn callbacks\n\t   * are simply registered via promise.then(thenFn, catchFn).\n\t   * \n\t   * Note that this works only on promises that were wrapped via #wrapForImmediateThen\n\t   * function.\n\t   * \n\t   * @return Return value of thenFn/catchFn (if invoked immediately) or promise.then(thenFn, catchFn).\n\t   */\n\t  immediateThen: function immediateThen(promise, thenFn, catchFn) {\n\t    if (\"_immediateValue\" in promise) return typeof thenFn == \"function\" ? thenFn(promise._immediateValue) : promise._immediateValue;\n\t    if (\"_immediateError\" in promise) {\n\t      if (typeof catchFn == \"function\") return catchFn(promise._immediateError);\n\t      throw promise._immediateError;\n\t    }\n\t    return promise.then(thenFn, catchFn);\n\t  }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TimeoutError = exports.RemoteError = exports.NetworkError = exports.AbortError = exports.Error = undefined;\n\t\n\tvar _Error = __webpack_require__(1);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tvar _AbortError = __webpack_require__(32);\n\t\n\tvar _AbortError2 = _interopRequireDefault(_AbortError);\n\t\n\tvar _NetworkError = __webpack_require__(33);\n\t\n\tvar _NetworkError2 = _interopRequireDefault(_NetworkError);\n\t\n\tvar _RemoteError = __webpack_require__(34);\n\t\n\tvar _RemoteError2 = _interopRequireDefault(_RemoteError);\n\t\n\tvar _TimeoutError = __webpack_require__(35);\n\t\n\tvar _TimeoutError2 = _interopRequireDefault(_TimeoutError);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Error = _Error2.default;\n\texports.AbortError = _AbortError2.default;\n\texports.NetworkError = _NetworkError2.default;\n\texports.RemoteError = _RemoteError2.default;\n\texports.TimeoutError = _TimeoutError2.default;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// TODO Change into ES6 imports / exports. Beware that some tests are run via Node environment\n\t// and it doesn't recognize import / export statements (so tests will stop working). Might get it working\n\t// by running tests against dist-node/ folder (where the files are downcompiled to ES5).\n\tvar Config = __webpack_require__(3);\n\t\n\t/**\n\t * @class UuApp.Logging.Logger\n\t * @classdesc\n\t * Component for logging. Each logged message has a severity level and each logger can be\n\t * configured to process only messages with sufficient severity level. Loggers are hierarchical,\n\t * i.e. when configuration is processed they inherit severity level from parent modules/packages.\n\t * \n\t * Contrary to usual <code>console.log</code>, <code>console.error</code>, ... statements (which\n\t * are typically removed from production code), statements using Logger-s are intended to be\n\t * preserved in the production environment and turned on/off via {@link UuApp.Util.Config Config}\n\t * configuration.\n\t * \n\t * **Configuration**\n\t * \n\t * Default severity level for loggers is Logger.LEVEL_WARN. Logging is automatically configured from the\n\t * global configuration (initialized via {@link UuApp.Util.Config Config.init} call).\n\t * Supported environment options:\n\t * \n\t *     {\n\t *       \"logLevel\": \"ERROR\",\n\t *       \"My.Namespace.logLevel\": \"WARN\"\n\t *     }\n\t * \n\t * As already said, loggers are hierarchical - with configuration above, logger \"My.Namespace.Component\"\n\t * would have logLevel \"WARN\" whereas logger \"My\" would have logLevel \"ERROR\". Hierarchical logging can\n\t * be turned off when initializing a logger - see {@link UuApp.Logging.LoggerFactory.get LoggerFactory.get}.\n\t * \n\t * **Typical usage**\n\t * \n\t *     // get logger instance and log a message\n\t *     var logger = UuApp.Logging.LoggerFactory.get(\"My.Namespace.Component\");\n\t *     logger.warn(\"Universe expansion is accelerating.\", {speedBefore: 68, speedAfter: 68.01});\n\t *     \n\t *     // if logging requires lenghty computation, it can be made conditional so that it\n\t *     // doesn't slow down the rest of page if the message wouldn't get logged in the end\n\t *     if (logger.isDebugLoggable()) {\n\t *       var computedValue = ...; // some lenghty computation\n\t *       logger.debug(\"Value computed to\", computedValue);\n\t *     }\n\t *     \n\t */\n\tfunction Logger(name) {\n\t  var _this = this;\n\t\n\t  if (!priv.allowLoggerNew) throw new Error(\"Use UuApp.Logging.LoggerFactory.get(name) to get an instance of Logger.\");\n\t  this.name = name;\n\t\n\t  // logger can be configured after delay because Util.Config can be loaded asynchronously,\n\t  // therefore we'll buffer the debug/info/warn/error calls until the configuration is ready\n\t  var ready = false;\n\t  this._buffer = [];\n\t  Object.defineProperty(this, \"ready\", {\n\t    get: function get() {\n\t      return ready && (!Config.initInvoked || Config.initComplete);\n\t    },\n\t    set: function set(value) {\n\t      ready = value;\n\t      if (ready) flushBuffer.call(_this);\n\t    }\n\t  });\n\t}\n\tvar priv = Logger.priv = {}; // TODO This is not-so-ellegant solution for allowing UriBuilder to call Uri constructor (and forbid it for everyone else).\n\t\n\t/** @name UuApp.Logging.Logger.LEVEL_DEBUG */\n\t/** @name UuApp.Logging.Logger.LEVEL_INFO */\n\t/** @name UuApp.Logging.Logger.LEVEL_WARN */\n\t/** @name UuApp.Logging.Logger.LEVEL_ERROR */\n\t/** @name UuApp.Logging.Logger.LEVEL_OFF */\n\tvar levels = { DEBUG: 100, INFO: 200, WARN: 300, ERROR: 400, OFF: Math.MAX_VALUE };\n\tvar levelsInverted = Object.keys(levels).reduce(function (r, name) {\n\t  return r[levels[name]] = name, r;\n\t}, {}); // { 100: \"DEBUG\", ...}\n\tObject.keys(levels).forEach(function (level) {\n\t  // publish levels as constants\n\t  Logger[\"LEVEL_\" + level.toUpperCase()] = levels[level];\n\t});\n\t\n\t/**\n\t * Sets severity level of this Logger to given value. Messages with lower (less important)\n\t * severity will be ignored when attempted to be logged via this logger. Order of importance:\n\t * DEBUG < INFO < WARN < ERROR < OFF.\n\t * \n\t * **It's strongly advised not to configure loggers directly using this method** because\n\t * if such code gets deployed to production, it'll effectively override settings from\n\t * environment and therefore could prevent logging of necessary information.\n\t * **Use environment configuration instead - see Configuration chapter in {@link UuApp.Logging.Logger Logger}.\n\t * \n\t * @param {(number|string)} level Severity level to set. See Logger.LEVEL_* constants. If null\n\t *   is given, default is used (LEVEL_WARN).\n\t * @method UuApp.Logging.Logger#setLevel\n\t */\n\tLogger.prototype.setLevel = function (level) {\n\t  if (level == null) level = Logger.LEVEL_WARN;\n\t  var num = typeof level == \"string\" ? levels[level.toUpperCase()] : Number(level);\n\t  if (typeof num != \"number\" || isNaN(num)) return; // ignore\n\t  this.level = num;\n\t};\n\t\n\t/**\n\t * @return {number} Level of this logger.\n\t * @method UuApp.Logging.Logger#getLevel\n\t */\n\tLogger.prototype.getLevel = function () {\n\t  return this.level;\n\t};\n\t\n\t/**\n\t * @return {string} Upper-cased name of the level, such as \"ERROR\".\n\t * @method UuApp.Logging.Logger#getLevelName\n\t */\n\tLogger.prototype.getLevelName = function () {\n\t  return levelsInverted[this.level];\n\t};\n\tLogger.prototype.level = levels.WARN;\n\t\n\t/**\n\t * Logs message with severity level \"DEBUG\".\n\t * \n\t * @param {string} message The message to log.\n\t * @param {...Object} any Additional values to log with the message.\n\t * @method UuApp.Logging.Logger#debug\n\t */\n\tLogger.prototype.debug = function () /* ... */{\n\t  if (!this.ready) return logToBuffer.call(this, \"debug\", Array.prototype.slice.call(arguments));\n\t  if (this.level <= levels.DEBUG) logToAppenders.call(this, { level: levels.DEBUG, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n\t};\n\t\n\t/**\n\t * @return {boolean} Whether this logger logs message with severity level \"DEBUG\".\n\t * @method UuApp.Logging.Logger#isDebugLoggable\n\t */\n\tLogger.prototype.isDebugLoggable = function () {\n\t  return !this.ready || this.level <= levels.DEBUG;\n\t};\n\t\n\t/**\n\t * Logs message with severity level \"INFO\".\n\t * \n\t * @param {string} message The message to log.\n\t * @param {...Object} any Additional values to log with the message.\n\t * @method UuApp.Logging.Logger#info\n\t */\n\tLogger.prototype.info = function () /* ... */{\n\t  if (!this.ready) return logToBuffer.call(this, \"info\", Array.prototype.slice.call(arguments));\n\t  if (this.level <= levels.INFO) logToAppenders.call(this, { level: levels.INFO, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n\t};\n\t/**\n\t * @return {boolean} Whether this logger logs message with severity level \"INFO\".\n\t * @method UuApp.Logging.Logger#isInfoLoggable\n\t */\n\tLogger.prototype.isInfoLoggable = function () {\n\t  return !this.ready || this.level <= levels.INFO;\n\t};\n\t/**\n\t * Logs message with severity level \"WARN\".\n\t * \n\t * @param {string} message The message to log.\n\t * @param {...Object} any Additional values to log with the message.\n\t * @method UuApp.Logging.Logger#warn\n\t */\n\tLogger.prototype.warn = function () /* ... */{\n\t  if (!this.ready) return logToBuffer.call(this, \"warn\", Array.prototype.slice.call(arguments));\n\t  if (this.level <= levels.WARN) logToAppenders.call(this, { level: levels.WARN, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n\t};\n\t/**\n\t * @return {boolean} Whether this logger logs message with severity level \"WARN\".\n\t * @method UuApp.Logging.Logger#isWarnLoggable\n\t */\n\tLogger.prototype.isWarnLoggable = function () {\n\t  return !this.ready || this.level <= levels.WARN;\n\t};\n\t/**\n\t * Logs message with severity level \"ERROR\".\n\t * \n\t * @param {string} message The message to log.\n\t * @param {...Object} any Additional values to log with the message.\n\t * @method UuApp.Logging.Logger#error\n\t */\n\tLogger.prototype.error = function () /* ... */{\n\t  if (!this.ready) return logToBuffer.call(this, \"error\", Array.prototype.slice.call(arguments));\n\t  if (this.level <= levels.ERROR) logToAppenders.call(this, { level: levels.ERROR, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n\t};\n\t/**\n\t * @return {boolean} Whether this logger logs message with severity level \"ERROR\".\n\t * @method UuApp.Logging.Logger#isErrorLoggable\n\t */\n\tLogger.prototype.isErrorLoggable = function () {\n\t  return !this.ready || this.level <= levels.ERROR;\n\t};\n\t\n\tfunction logToAppenders(opts) {\n\t  // TODO Add support for appenders. Currently we'll log only to the console.\n\t  // TODO Might want to collect additional information (stack frames, ...) - https://github.com/stacktracejs/stacktrace.js\n\t  // log to console\n\t  var msg = this.name + \": \" + opts.message;\n\t  Logger.console[levelsInverted[opts.level].toLowerCase()].apply(Logger.console, [msg].concat(opts.args));\n\t}\n\tfunction logToBuffer(method, args) {\n\t  this._buffer.push({ method: method, args: args });\n\t}\n\tfunction flushBuffer() {\n\t  var _this2 = this;\n\t\n\t  var v = this._buffer;\n\t  this._buffer = [];\n\t  v.forEach(function (it) {\n\t    return _this2[it.method].apply(_this2, it.args);\n\t  }); // re-run each method\n\t}\n\t\n\t// NOTE Logger-s append to Logger.console instead of directly console object\n\t// so that this can be mocked in tests.\n\tLogger.console = console;\n\t\n\t// export\n\tmodule.exports = Logger;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Logger = __webpack_require__(9);\n\tvar Config = __webpack_require__(3);\n\t\n\tvar loggers = {};\n\tvar LoggerFactory = {};\n\tvar loggerPriv = Logger.priv;\n\t// delete Logger.priv;\n\t\n\t/**\n\t * @class UuApp.Logging.LoggerFactory\n\t * @classdesc\n\t * Factory class for getting access to loggers. See {@link UuApp.Logging.Logger Logger} for more information.\n\t */\n\t\n\t/**\n\t * Returns an instance of the logger with given name. Settings of the logger are\n\t * taken from global configuration (see {@link UuApp.Util.Config.init Config.init}).\n\t * Default global logLevel is Logger.{@link UuApp.Logging.Logger.LEVEL_WARN LEVEL_WARN}.\n\t * \n\t * Successive calls with the same logger name return the same logger instance.\n\t * \n\t * @param {string} name The name of the logger. Typically, it's a fully-qualified name of\n\t *   the component that uses the logger, e.g. \"My.Namespace.Component\".\n\t * @param {boolean} hierarchical Whether the logger shall inherit settings from its parent\n\t *   package names, e.g. whether logger with name \"My.Namespace\" should inherit logLevel from \"My\"\n\t *   or from root (hierarchical = true, default) or only settings directly for \"My.Namespace\" apply\n\t *   (hierarchical = false). The parameter is used only during 1st invocation for given logger name,\n\t *   in successive calls it's ignored.\n\t * @return {UuApp.Logging.Logger} An instance of the logger with given name.\n\t * @method UuApp.Logging.LoggerFactory.get\n\t */\n\tLoggerFactory.get = function (name, hierarchical) {\n\t  if (typeof name != \"string\") throw new Error(\"LoggerFactory.get() must be called with a string argument (logger name).\");\n\t  if (loggers[name]) return loggers[name].logger;\n\t  loggerPriv.allowLoggerNew = true;\n\t  var logger;\n\t  try {\n\t    // create & configure the logger (configure only if configuration is not being loaded at the moment)\n\t    logger = new Logger(name);\n\t    if (!Config.initInvoked || Config.initComplete) configure(logger, hierarchical, Config);\n\t  } finally {\n\t    loggerPriv.allowLoggerNew = false;\n\t  }\n\t  return (loggers[name] = { logger: logger, hierarchical: hierarchical }).logger;\n\t};\n\t\n\t// configures logger from given environment object\n\tfunction configure(logger, hierarchical, env) {\n\t  // only \"logLevel\" is currently recognized\n\t  var logLevel = env.get(logger.name + \".logLevel\", hierarchical !== false);\n\t  logger.setLevel(logLevel);\n\t\n\t  logger.ready = true;\n\t}\n\t\n\t// create root logger\n\tLogger.getRootLogger = function () {\n\t  return rootLogger;\n\t};\n\tloggerPriv.allowLoggerNew = true;\n\tloggers[\"\"] = { logger: new Logger(\"\"), hierarchical: false };\n\tvar rootLogger = loggers[\"\"].logger;\n\tloggerPriv.allowLoggerNew = false;\n\t\n\t// re-configure existing loggers after global configuration is loaded (if loggers were created sooner than\n\t// configuration got loaded)\n\tif (!Config.initComplete) {\n\t  Config.initInvokedPromise.then(function () {\n\t    // change loggers to \"not-ready\" state (they'll buffer logging calls)\n\t    for (var k in loggers) {\n\t      loggers[k].logger.ready = false;\n\t    }\n\t  });\n\t  Config.initCompletePromise.then(function (env) {\n\t    // re-configure loggers and switch to \"ready\" state\n\t    for (var k in loggers) {\n\t      configure(loggers[k].logger, loggers[k].hierarchical, env);\n\t    }\n\t  });\n\t}\n\t\n\tmodule.exports = LoggerFactory;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.LoggerFactory = exports.Logger = undefined;\n\t\n\tvar _Logger = __webpack_require__(9);\n\t\n\tvar _Logger2 = _interopRequireDefault(_Logger);\n\t\n\tvar _LoggerFactory = __webpack_require__(10);\n\t\n\tvar _LoggerFactory2 = _interopRequireDefault(_LoggerFactory);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Logger = _Logger2.default;\n\texports.LoggerFactory = _LoggerFactory2.default;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PerfLog = undefined;\n\t\n\tvar _PerfLog = __webpack_require__(36);\n\t\n\tvar _PerfLog2 = _interopRequireDefault(_PerfLog);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.PerfLog = _PerfLog2.default;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Err = __webpack_require__(1);\n\t\n\t/**\n\t * @class UuApp.Uri.Uri\n\t * @classdesc\n\t * Immutable representation of uuUri. An instance of the Uri can be obtained either by\n\t * {@link UuApp.Uri.Uri.parse Uri.parse} or by using {@link UuApp.Uri.UriBuilder UriBuilder} class.\n\t * Note that minimal Uri consists of at least \"app\" and \"tid\".\n\t * \n\t * Examples of usage:\n\t * \n\t *     // uri from parsing current location\n\t *     var locationUri = Uri.parse(location.protocol + \"//\" + location.host + location.pathname); // \"http://example.com/vendor-app/0-0/some/uc\"\n\t *     var baseUri = locationUri.baseUri; // \"http://example.com/vendor-app/0-0\"\n\t *     var callUri = baseUri.join(\"+/getConfig\"); // \"http://example.com/vendor-app/0-0/getConfig\"\n\t *    \n\t *     // uri from parsing\n\t *     var uri = UuApp.Uri.Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subapp-spp/tid-awid/useCase?p1=v1\");\n\t *     console.log(uri.gateway, uri.product, uri.workspace, uri.useCase); \n\t *     var params = uri.parameters; // always returns new copy of parameter map\n\t *     for (var k in params) console.log(k, \"=\", params[k]); // p1 = v1\n\t *     \n\t *     // uri from UriBuilder\n\t *     var uri2 = UuApp.Uri.UriBuilder.parse(uri).setWorkspace(\"0-0\").setUseCase(\"/sys/init\").toUri();\n\t *     console.log(uri2.toString()); // https://uuos9.plus4u.net/vendor-app-subapp-spp/0-0/sys/init?p1=v1\n\t *     \n\t *     // uri from parsing (with ECMAScript6 template string, e.g. when using transpilers like Babel)\n\t *     // Note that query parameter values shouldn't be injected via template string as they might need\n\t *     // to be encoded first.\n\t *     var product = \"vendor-app\";\n\t *     var workspace = \"tid-awid\";\n\t *     var uri3 = UuApp.Uri.Uri.parse(`https://uuos9.plus4u.net/${product}/${workspace}`);\n\t *    \n\t * @see UuApp.Uri.UriBuilder\n\t */\n\t\n\t// NOTE Constructor is \"private\".\n\tvar priv = Uri.priv = {}; // TODO This is not-so-ellegant solution for allowing UriBuilder to call Uri constructor (and forbid it for everyone else).\n\tvar EMPTY = {};\n\tfunction Uri(scheme, hostname, port, vendor, app, subApp, spp, tid, awid, useCase, parameters) {\n\t  var _this = this;\n\t\n\t  if (!priv.allowNew) throw new Err(\"Use UuApp.Uri.Uri.parse to obtain an instance of uuUri.\");\n\t\n\t  if (port && typeof port != \"number\") port = parseInt(port + \"\", 10);\n\t  if ((port == null || port === \"\") && scheme) port = scheme.match(/^https$/) ? 443 : 80;\n\t  var gateway = { value: EMPTY, lazyGet: function lazyGet() {\n\t      return gateway.value !== EMPTY ? gateway.value : gateway.value = _this.Builder.formatGateway(scheme, hostname, port);\n\t    } };\n\t  var product = { value: EMPTY, lazyGet: function lazyGet() {\n\t      return product.value !== EMPTY ? product.value : product.value = _this.Builder.formatProduct(vendor, app, subApp, spp);\n\t    } };\n\t  var workspace = { value: EMPTY, lazyGet: function lazyGet() {\n\t      return workspace.value !== EMPTY ? workspace.value : workspace.value = _this.Builder.formatWorkspace(tid, awid);\n\t    } };\n\t  var params = Object.assign({}, parameters); // make a copy to guard against mutation of original \"parameters\" object\n\t  var uri = this;\n\t\n\t  // NOTE Attributes are defined as properties so that they throw error when developer\n\t  // tries tu mutate them (even in non-strict mode).\n\t  function throwOnSet(attr) {\n\t    return function () {\n\t      throw new Err(\"Cannot set \" + attr + \" on Uri because instances of Uri are immutable. Use UriBuilder instead.\");\n\t    };\n\t  }\n\t  Object.defineProperties(this, {\n\t    /** @name UuApp.Uri.Uri#scheme */\n\t    scheme: { get: function get() {\n\t        return scheme;\n\t      }, set: throwOnSet(\"scheme\") },\n\t\n\t    /** @name UuApp.Uri.Uri#hostname */\n\t    hostname: { get: function get() {\n\t        return hostname;\n\t      }, set: throwOnSet(\"hostname\") },\n\t\n\t    /** @name UuApp.Uri.Uri#port */\n\t    port: { get: function get() {\n\t        return port;\n\t      }, set: throwOnSet(\"port\") },\n\t\n\t    /**\n\t     * Formatted string containing scheme, hostname and port. For example for scheme \"https\",\n\t     * hostname \"example.com\" and port \"123\" it returns \"https://example.com:123\".\n\t     * \n\t     * @name UuApp.Uri.Uri#gateway\n\t     */\n\t    gateway: { get: gateway.lazyGet, set: throwOnSet(\"gateway\") },\n\t\n\t    /** @name UuApp.Uri.Uri#vendor */\n\t    vendor: { get: function get() {\n\t        return vendor;\n\t      }, set: throwOnSet(\"vendor\") },\n\t\n\t    /** @name UuApp.Uri.Uri#app */\n\t    app: { get: function get() {\n\t        return app;\n\t      }, set: throwOnSet(\"app\") },\n\t\n\t    /** @name UuApp.Uri.Uri#subApp */\n\t    subApp: { get: function get() {\n\t        return subApp;\n\t      }, set: throwOnSet(\"subApp\") },\n\t\n\t    /** @name UuApp.Uri.Uri#spp */\n\t    spp: { get: function get() {\n\t        return spp;\n\t      }, set: throwOnSet(\"spp\") },\n\t\n\t    /** @name UuApp.Uri.Uri#product */\n\t    product: { get: product.lazyGet, set: throwOnSet(\"product\") },\n\t\n\t    /** @name UuApp.Uri.Uri#tid */\n\t    tid: { get: function get() {\n\t        return tid;\n\t      }, set: throwOnSet(\"tid\") },\n\t\n\t    /** @name UuApp.Uri.Uri#awid */\n\t    awid: { get: function get() {\n\t        return awid;\n\t      }, set: throwOnSet(\"awid\") },\n\t\n\t    /** @name UuApp.Uri.Uri#workspace */\n\t    workspace: { get: workspace.lazyGet, set: throwOnSet(\"workspace\") },\n\t\n\t    /** @name UuApp.Uri.Uri#useCase */\n\t    useCase: { get: function get() {\n\t        return useCase;\n\t      }, set: throwOnSet(\"useCase\") },\n\t\n\t    /**\n\t     * Map containing query parameters. If there're no parameters, empty map is returned (not a null).\n\t     * Note that each access returns new copy of the map (to achieve immutability of the Uri class),\n\t     * therefore usage should look like this:\n\t     * \n\t     *     // OPTIMAL (single read of \"parameters\" field on uri)\n\t     *     var params = uri.parameters;\n\t     *     for (var k in params) console.log(params[k]);\n\t     *     \n\t     *     // SUB-OPTIMAL (multiple reads and therefore multiple copying of parameter map)\n\t     *     // for (var k in uri.parameters) console.log(uri.parameters[k]);\n\t     * \n\t     * @name UuApp.Uri.Uri#parameters\n\t     */\n\t    parameters: { get: function get() {\n\t        return Object.assign({}, params);\n\t      }, set: throwOnSet(\"parameters\") },\n\t\n\t    /**\n\t     * URI containing only mandatory routing data (includes only \"gateway\", \"product\" and \"workspace\").\n\t     * @name UuApp.Uri.Uri#baseUri\n\t     */\n\t    baseUri: { get: getBaseUri, set: throwOnSet(\"baseUri\") },\n\t    /**\n\t     * Relative URI (without \"gateway\").\n\t     * @name UuApp.Uri.Uri#relativeUri\n\t     */\n\t    relativeUri: { get: getRelativeUri, set: throwOnSet(\"relativeUri\") }\n\t  });\n\t\n\t  var baseUri, relativeUri;\n\t  function getBaseUri() {\n\t    if (baseUri !== undefined) return baseUri;\n\t    if (uri.gateway == null || uri.product == null || uri.workspace == null) throw new Err(\"Insufficient URI - at least one of gateway, product and workspace is not set. Uri: \" + uri.toString());\n\t    baseUri = uri.Builder.parse(uri).set({ useCase: null }).clearParameters().toUri();\n\t    return baseUri;\n\t  }\n\t  function getRelativeUri() {\n\t    if (relativeUri !== undefined) return relativeUri;\n\t    relativeUri = uri.Builder.parse(uri).set({ gateway: null }).toUri();\n\t    return relativeUri;\n\t  }\n\t\n\t  var str;\n\t  /**\n\t   * Converts URI to string.\n\t   * \n\t   * @return URI converted to string.\n\t   * @method UuApp.Uri.Uri#toString\n\t   */\n\t  this.toString = function () {\n\t    return str !== undefined ? str : str = _this.Builder.format(_this);\n\t  };\n\t\n\t  //    /**\n\t  //     * Converts URI to an object literal (a map) containing keys scheme, hostname, ...\n\t  //     * \n\t  //     * @function UuApp.Uri.Uri#toObject\n\t  //     */\n\t  //    this.toObject = () => ({\n\t  //      scheme: scheme, hostname: hostname, port: port, vendor: vendor, app: app, subApp: subApp, spp: spp,\n\t  //      tid: tid, awid: awid, useCase: useCase, parameters: Object.assign({}, params)\n\t  //    });\n\t\n\t  // serialize as string when stringifying to JSON\n\t  this.toJSON = this.toString;\n\t\n\t  // prevent any modification of the Uri object\n\t  Object.freeze(this);\n\t}\n\t\n\t/**\n\t * Replaces current path with specified absolute path (or adds a relative path to the current path) returning new Uri.\n\t * Query parameters are preserved only on last path. Resolving relative path and usage of \"./\" and \"../\" works as in standard\n\t * URLs (see {@link https://tools.ietf.org/html/rfc2396#appendix-C RFC 2396, examples}).\n\t * \n\t * Additionally, it's possible to use \"+/\" at the beginning of paths - paths starting\n\t * with \"+/\" are joined as if current path (to which new path is being joined) denoted a \"folder\", i.e. current path\n\t * is appended with slash (unless it already ends with slash) and new path is appended afterwards (see examples). \n\t * \n\t * @param {...string} path Absolute or relative paths to replace / add.\n\t * @return New Uri whose path is the result of the join.\n\t * @method UuApp.Uri.Uri#join\n\t * @example\n\t *  // replace path with an absolute path (effectively removing also query parameters)\n\t *  var uri = Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1?a=b\");\n\t *  var uri2 = uri.join(\"/vendor2-app2/tid2-awid2\"); // https://uuos9.plus4u.net/vendor2-app2/tid2-awid2\n\t *  \n\t *  // add relative paths\n\t *  var uri = Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1\");\n\t *  var uri2 = uri.join(\"sys/init?p=v\");             // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/sys/init?p=v\n\t *  var uri3 = uri.join(\"+/sys/init?p=v\");           // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init?p=v\n\t *  var uri4 = uri.join(\"+/sys/?a=b\", \"init?c=d\");   // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init?c=d\n\t */\n\tUri.prototype.join = function () /* ... */{\n\t  if (arguments.length <= 0) return this;\n\t  var root = this.gateway || \"\";\n\t  var path = this.toString().substr(root.length);\n\t\n\t  for (var i = 0; i < arguments.length; ++i) {\n\t    var pathPart = arguments[i];\n\t    if (!pathPart) continue;\n\t    path = path.replace(/[?#].*/, \"\"); // remove query part because we're going to add / replace path\n\t    pathPart = pathPart.replace(/((^|\\/)\\.\\.?)$/, \"$1/\"); // if new path part ends with two dots / one dot, treat it as a \"folder\", i.e. append \"/\"\n\t    if (pathPart.charAt(0) == \"/\") path = pathPart; // new path part is absolute => replace whole path\n\t    else if (pathPart.match(/^\\+(\\/|$)/)) path = path.replace(/\\/?$/, \"/\") + pathPart; // new path part is relative with \"+/\" => append \"/\" and then new path\n\t      else if (path.charAt(path.length - 1) == \"/\") path += pathPart; // new path part is relative and current path is a \"folder\" => append new path\n\t        else path = path.replace(/(^|\\/)[^\\/]*$/, \"$1\") + pathPart; // new path part is relative and current path is not a \"folder\" => replace last segment of current path\n\t  }\n\t\n\t  // normalize (modify segments to eliminate \"../\" and \"./\" from the path)\n\t  var segments = [];\n\t  path.split(\"/\").forEach(function (part) {\n\t    if (part === \"..\") segments.pop();else if (part !== \".\" && part !== \"+\") segments.push(part);\n\t  });\n\t  if (segments[0] !== \"\") segments.unshift(\"\"); // make sure that after \"join\" operation the path starts with \"/\"\n\t  var resultPath = segments.join(\"/\");\n\t  return Uri.parse(root + resultPath);\n\t};\n\t\n\t/**\n\t * Checks whether the other URI is equal to this one and returns true iff it is.\n\t * \n\t * @param {UuApp.Uri.Uri} uri Uri to check equality against.\n\t * @return True iff the specified uri is equal to this one.\n\t * @method UuApp.Uri.Uri#equals\n\t */\n\tUri.prototype.equals = function (aUri2) {\n\t  return this.toString() === (aUri2 || \"\").toString();\n\t};\n\t\n\t/**\n\t * @param {(string|UuApp.Uri.Uri)} uriStr The string to parse as URI. If an instance of Uri class is given, it's returned as-is.\n\t * @return {UuApp.Uri.Uri} Parsed URI.\n\t * @method UuApp.Uri.Uri.parse\n\t * @example\n\t *    var uri = UuApp.Uri.Uri.parse(\"https://uuos9.plus4u.net/vendor-app/tid-awid/useCase?p1=v1\");\n\t *    console.log(uri.gateway, uri.product, uri.workspace, uri.useCase, uri.parameters);\n\t */\n\tUri.parse = function (uriStr) {\n\t  if (uriStr instanceof Uri) return uriStr;\n\t  return Uri.prototype.Builder.parse(uriStr).toUri();\n\t};\n\t\n\tmodule.exports = Uri;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.UriBuilder = exports.Uri = undefined;\n\t\n\tvar _Uri = __webpack_require__(13);\n\t\n\tvar _Uri2 = _interopRequireDefault(_Uri);\n\t\n\tvar _UriBuilder = __webpack_require__(38);\n\t\n\tvar _UriBuilder2 = _interopRequireDefault(_UriBuilder);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Uri = _Uri2.default;\n\texports.UriBuilder = _UriBuilder2.default;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Config = undefined;\n\t\n\tvar _Config = __webpack_require__(3);\n\t\n\tvar _Config2 = _interopRequireDefault(_Config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Config = _Config2.default;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tvar _Defaults = __webpack_require__(40);\n\t\n\tvar _Defaults2 = _interopRequireDefault(_Defaults);\n\t\n\tvar _ImplicitFlow = __webpack_require__(17);\n\t\n\tvar _ImplicitFlow2 = _interopRequireDefault(_ImplicitFlow);\n\t\n\tvar _SessionContext = __webpack_require__(41);\n\t\n\tvar _SessionContext2 = _interopRequireDefault(_SessionContext);\n\t\n\tvar _Uuid = __webpack_require__(49);\n\t\n\tvar _Uuid2 = _interopRequireDefault(_Uuid);\n\t\n\tvar _Jwt = __webpack_require__(44);\n\t\n\tvar _Jwt2 = _interopRequireDefault(_Jwt);\n\t\n\tvar _InvalidTokenError = __webpack_require__(5);\n\t\n\tvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\t\n\tvar _Jwks = __webpack_require__(43);\n\t\n\tvar _Jwks2 = _interopRequireDefault(_Jwks);\n\t\n\tvar _Discovery = __webpack_require__(4);\n\t\n\tvar _Discovery2 = _interopRequireDefault(_Discovery);\n\t\n\tvar _Os8Auth = __webpack_require__(50);\n\t\n\tvar _Os8Auth2 = _interopRequireDefault(_Os8Auth);\n\t\n\tvar _Dom = __webpack_require__(48);\n\t\n\tvar _Dom2 = _interopRequireDefault(_Dom);\n\t\n\tvar _PromiseUtil = __webpack_require__(7);\n\t\n\tvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\t\n\tvar _StringUtil = __webpack_require__(22);\n\t\n\tvar _StringUtil2 = _interopRequireDefault(_StringUtil);\n\t\n\tvar _IframeComponent = __webpack_require__(6);\n\t\n\tvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Error = _uu_appg01_core.Error.Error;\n\t\n\tvar Session = function () {\n\t\n\t  /**\n\t   * Creates new Session with specified options.\n\t   * \n\t   * @class UuOidc.Session\n\t   * @classdesc\n\t   * \n\t   * Session handling via OpenID Connect server.\n\t   * \n\t   * **Configuration**\n\t   * \n\t   * Login via OpenID Connect server **requires a special callback HTML page be present on the domain where application is running**. The callback\n\t   * HTML page should be copied from the contents of this library (callbacks/oidc-callback.html) to the application and URL path to it must be\n\t   * configured as described below - configuration parameter \"uuoidc.redirectUri\".\n\t   * \n\t   * Following global configuration parameters are used for initializing {@link UuOidc.Session.currentSession Session.currentSession}:\n\t   * \n\t   * * **uuoidc.clientId** - OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user.\n\t   *   Default is auto-generated which means that the application will be treated as an anonymous application and therefore might not be authorized for\n\t   *   accessing most of user data.\n\t   * * **uuoidc.redirectUri** - Redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application\n\t   *   and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative\n\t   *   to document.baseURI (current URL). Default is \"callbacks/oidc-callback.html\".\n\t   * * **uuoidc.serverUri** - OpenID Connect server to perform login / logout against. Default is \"https://oidc.plus4u.net/uu-oidcg01-main/0-0\".\n\t   * * **uuoidc.sessionCheckInterval** - how often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds. Default is 60.\n\t   * \n\t   * @param options {Object|UuApp.Util.Config} Options.\n\t   * @param options.serverUri OpenID Connect server to perform login / logout against.\n\t   * @param options.clientId OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user.\n\t   * @param options.redirectUri Redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application\n\t   *   and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative\n\t   *   to document.baseURI (current URL).\n\t   * @param options.sessionCheckInterval How often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds.\n\t   */\n\t  function Session(options) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, Session);\n\t\n\t    if (!options) throw new Error(\"Session must be initialized with proper options or UuApp.Util.Config.\");\n\t    this._optionsMergedPromise = _PromiseUtil2.default.wrapForImmediateThen(Promise.resolve(options && typeof options.get == \"function\" ? options.initPromise : options).then(function (env) {\n\t      if (env && typeof env.get == \"function\") {\n\t        _this.serverUri = env.get(\"uuoidc.serverUri\", false);\n\t        _this.clientId = env.get(\"uuoidc.clientId\", false);\n\t        _this.implicitFlowRedirectUri = env.get(\"uuoidc.redirectUri\", false);\n\t        _this.sessionCheckInterval = env.get(\"uuoidc.sessionCheckInterval\", false);\n\t      } else if (env) {\n\t        _this.serverUri = env[\"serverUri\"];\n\t        _this.clientId = env[\"clientId\"];\n\t        _this.implicitFlowRedirectUri = env[\"redirectUri\"];\n\t        _this.sessionCheckInterval = env[\"uuoidc.sessionCheckInterval\"];\n\t      }\n\t      if (_this.serverUri == null) _this.serverUri = _Defaults2.default.serverUri;\n\t      if (_this.clientId == null) _this.clientId = \"uu-oidc:unregistered-client:\" + (0, _Uuid2.default)();\n\t      if (_this.sessionCheckInterval == null) _this.sessionCheckInterval = _Defaults2.default.sessionCheckInterval;\n\t      if (!_this.implicitFlowRedirectUri) {\n\t        // console.warn(\"Session login will work only with directly provided access token because no callback URL for OpenID Connect server was specified in\" + \n\t        //   \" the configuration. To support login via popup, specify redirectUri when creating session, or initialize UuApp.Util.Config with \\\"uuoidc.redirectUri\\\" option.\");\n\t        _this.implicitFlowRedirectUri = \"callbacks/oidc-callback.html\";\n\t      }\n\t      // if redirect URI is relative then absolutize it (relative to current document.baseURI)\n\t      if (!_this.implicitFlowRedirectUri.match(/^[a-z]+:/i)) {\n\t        // no protocol present\n\t        var baseUrl = toFullUrl(document.baseURI || location.pathname).replace(/^([^?#]*\\/).*/, \"$1\");\n\t        if (_this.implicitFlowRedirectUri.charAt(0) != \"/\") _this.implicitFlowRedirectUri = toFullUrl(baseUrl + _this.implicitFlowRedirectUri);else _this.implicitFlowRedirectUri = toFullUrl(_this.implicitFlowRedirectUri);\n\t      }\n\t\n\t      // add session state checking which, in case that we were logged in and a logout\n\t      // against OIDC is detected (e.g. in another browser tab), will log us out\n\t      // TODO This is a hotfix solution - proper way is that there's a component scoped by serverUri which performs the session checks.\n\t      var timeout = Math.max(5, _this.sessionCheckInterval) * 1000;\n\t      var check = function () {\n\t        var _this2 = this;\n\t\n\t        // if not logged in then just plan another check (we don't want to auto-login in this tab if user logs in another browser tab)\n\t        if (!this._loginCtx) return setTimeout(check, timeout);\n\t\n\t        // check login state via login (but don't actually use the newly issued token)\n\t        this._login({\n\t          acr_values: \"1\",\n\t          prompt: \"none\"\n\t        }, false).then(function () {\n\t          // still logged in => just plan another check\n\t          setTimeout(check, timeout);\n\t        }, function (e) {\n\t          // assume logout\n\t          delete _this2._loginCtx;\n\t          _this2._runListeners();\n\t          setTimeout(check, timeout);\n\t        });\n\t      }.bind(_this);\n\t      setTimeout(check, timeout);\n\t    }));\n\t    this._loginInProgress = [];\n\t\n\t    var listeners = [];\n\t    /**\n\t     * @return {boolean} True iff the user is authenticated (logged in).\n\t     * @method UuOidc.Session#isAuthenticated\n\t     */\n\t    this.isAuthenticated = function () {\n\t      return !!_this._loginCtx;\n\t    };\n\t    /**\n\t     * Adds listener for changes of user identity (logins / logouts).\n\t     * \n\t     * @param {Function(Object)} listener The listener function to add. The function receives identity object or null.\n\t     * @return {Function()} Function for unregistering the listener (the listener can be unregistered also by {@link UuOidc.Session#removeIdentityChangeListener}).\n\t     * @see UuOidc.Session#getIdentity\n\t     * @method UuOidc.Session#addIdentityChangeListener\n\t     */\n\t    this.addIdentityChangeListener = function (listener) {\n\t      listeners.push(listener);\n\t      return _this.removeIdentityChangeListener.bind(_this, listener);\n\t    };\n\t    /**\n\t     * Removes listener for changes of user identity (logins / logouts).\n\t     * \n\t     * @param {Function(Object)} listener The listener to remove.\n\t     * @return {boolean} True if the listener got removed, false otherwise (listener was not registered).\n\t     * @method UuOidc.Session#removeIdentityChangeListener\n\t     */\n\t    this.removeIdentityChangeListener = function (listener) {\n\t      var idx = listeners.indexOf(listener);\n\t      if (idx != -1) listeners.splice(idx, 1);\n\t      return idx != -1;\n\t    };\n\t    this._runListeners = function () {\n\t      var identity = _this.getIdentity();\n\t      listeners.forEach(function (it) {\n\t        return it.call(_this, identity);\n\t      });\n\t    };\n\t\n\t    this.nonce = Math.random().toString(32).substr(2);\n\t\n\t    // add planning & executing of token refresh when its nearing expiration\n\t    // NOTE This assumes that each token refresh ends with running the identity-change listeners.\n\t    this.addIdentityChangeListener(function (identity) {\n\t      // console.log(\"Identity change:\", identity);\n\t      if (_this._sessionRefreshTimeout) {\n\t        clearTimeout(_this._sessionRefreshTimeout);\n\t        delete _this._sessionRefreshTimeout;\n\t      }\n\t      var claims = _this.getClaims();\n\t      var expiresAt = (claims || {})[\"exp\"];\n\t      if (!expiresAt) return;\n\t      expiresAt = expiresAt * 1000; // let it be in milliseconds\n\t      var LEEWAY = 5 * 60 * 1000;\n\t      var now = new Date().getTime();\n\t      var delay = expiresAt - now - LEEWAY;\n\t      if (delay < 0) delay = 0;\n\t      // expiresAt = now + 30000;\n\t      // delay = 20000;\n\t      // console.log(\"Planning token refresh in \", delay, \"ms.\");\n\t      _this._sessionRefreshTimeout = setTimeout(function () {\n\t        delete _this._sessionRefreshTimeout;\n\t        // refresh token by calling login() un-interactively\n\t        _this._login({\n\t          prompt: \"none\", // no user interaction\n\t          acr_values: \"1\" // non-anonymous user\n\t        }).catch(function (e) {\n\t          if (_this._sessionRefreshTimeout) return; // identity changed in-between (maybe due to login with directly provided access_token)\n\t          // refresh failed => perform logout few seconds before the token expires\n\t          var autoLogoutAfter = Math.max(0, expiresAt - new Date().getTime() - 30 * 1000);\n\t          // console.log(\"Token refresh failed - will perform auto-logout in\", autoLogoutAfter, \"ms.\");\n\t          _this._sessionRefreshTimeout = setTimeout(function () {\n\t            delete _this._loginCtx;\n\t            _this._runListeners();\n\t          }, autoLogoutAfter);\n\t        });\n\t      }, delay);\n\t    });\n\t  }\n\t\n\t  /**\n\t   * Returns identity of currently logged in user or null if not logged in. The identity contains following fields:\n\t   * \n\t   * * id\n\t   * * name\n\t   * * uuIdentity\n\t   * * email\n\t   * * levelOfAssurance\n\t   * * loginLevelOfAssurance\n\t   * \n\t   * @return {Object} Identity of currently logged in user or null if not logged in.\n\t   * @method UuOidc.Session#getIdentity\n\t   */\n\t\n\t\n\t  _createClass(Session, [{\n\t    key: \"getIdentity\",\n\t    value: function getIdentity() {\n\t      return this._loginCtx ? this._loginCtx.getIdentity() : null;\n\t    }\n\t\n\t    /**\n\t     * Returns all claims present in the token (or null if not logged in).\n\t     * \n\t     * @method UuOidc.Session#getClaims\n\t     */\n\t\n\t  }, {\n\t    key: \"getClaims\",\n\t    value: function getClaims() {\n\t      return this._loginCtx ? this._loginCtx.getClaims() : null;\n\t    }\n\t\n\t    /**\n\t     * Login against OpenID Connect server. If no or empty options are used, user will be required to\n\t     * log in as non-anonymous user (as if { acrValues: 1 } was used). If user is already logged in\n\t     * and options don't indicate that a re-login is necessary, then the method does nothing. Re-login can\n\t     * be forced by using option \"prompt\" set to \"login\".\n\t     * \n\t     * @param options {Object} Options.\n\t     * @param options.prompt {string} (optional) One of \"\" (default), \"none\" (check login state without user interaction), \"login\" (re-request authentication).\n\t     * @param options.acrValues (optional) One of: 0 (allow log in as anonymous), 1 (require non-anonymous user).\n\t     * @param options.accessToken {string} (optional) Authentication token to use for login. Currently, only id_token (JWT) is supported.\n\t     * @param options.tokenTypeHint {string} (optional) Hint about the type of the authentication token (accessToken in options) if it\n\t     *   isn't standard id_token. Supported values depend on OpenID Connect server. uuOS9 server supports these values:\n\t     * \n\t     * * \"urn:ietf:params:oauth:token-type:jwt-uuos8\" - indicates that the token being passed to the login was originally issued by uuOS8\n\t     * \n\t     * @return Promise resolved after the login ends. The resolved value is this session instance, identity of logged in user can be obtained\n\t     *   via sessionInstance.{@link UuOidc.Session#getIdentity getIdentity()}. Rejection value is one of:\n\t     * \n\t     *   * false - user refused to log in\n\t     *   * Error - any other error such as network problems, ...\n\t     * \n\t     * @method UuOidc.Session#login\n\t     */\n\t\n\t  }, {\n\t    key: \"login\",\n\t    value: function login(options) {\n\t      // NOTE For backward compatibility within version 1.x.y, this method must accept also snake_cased options keys (access_token, ...).\n\t\n\t      // convert keys in options to snake_case (that's what is used in the code base of this library as OpenID & OAuth uses it too)\n\t      var opts;\n\t      if (options) opts = Object.keys(options).reduce(function (r, k) {\n\t        return r[_StringUtil2.default.toSnakeCase(k)] = options[k], r;\n\t      }, {});\n\t\n\t      return this._login(opts, true);\n\t    }\n\t\n\t    // NOTE Uses snake_case in options because that's how OpenID & OAuth is specified.\n\t\n\t  }, {\n\t    key: \"_login\",\n\t    value: function _login(options) {\n\t      var _this3 = this;\n\t\n\t      var updateSessionWithLoginResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t      var opts = Object.assign({}, options);\n\t\n\t      // there's a special case in which we support providing uuOS8 token\n\t      var os8Token;\n\t      if (opts.token_type_hint === \"urn:ietf:params:oauth:token-type:jwt-uuos8\") {\n\t        os8Token = opts.access_token;\n\t        delete opts.access_token;\n\t        delete opts.token_type_hint;\n\t      }\n\t\n\t      // use accessToken directly if it's provided\n\t      var accessToken = opts.access_token;\n\t      delete opts.access_token;\n\t\n\t      var doLogin = function doLogin() {\n\t        _this3._loginInProgress.push(1);\n\t\n\t        // if calling Session.login() with no parameters, log in as non-anonymous user\n\t        if (Object.keys(opts).length == 0) opts[\"acr_values\"] = 1;\n\t\n\t        // if we have user then login only if options indicate that we have to\n\t        if (!accessToken && _this3._loginCtx) {\n\t          var useCurrent = true;\n\t          if (opts[\"prompt\"] || opts[\"max_age\"] || opts[\"access_token\"]) useCurrent = false; // TODO Check max_age in more detail and use current if we're within the limit.\n\t\n\t          // check required login level of assurance\n\t          var acr_values = (opts[\"acr_values\"] != null ? opts[\"acr_values\"] + \"\" : \"\").split(/\\s+/);\n\t          var identity = _this3.getIdentity();\n\t          if (acr_values.every(function (v) {\n\t            return Number(v) > identity.loginLevelOfAssurance;\n\t          })) useCurrent = false; // all acceptable login levels of assurance, that are requested, are greater than current one => do the login\n\t\n\t          // check current token expiration\n\t          if (_this3._authResponseExpired(_this3._loginCtx.authResponse)) useCurrent = false; // our token expired => do the login\n\t\n\t          // use current token if everything seems fine\n\t          if (useCurrent) {\n\t            _this3._loginInProgress.pop();\n\t            return Promise.resolve(_this3);\n\t          }\n\t        }\n\t\n\t        // login using implicit flow\n\t        var authResponse = accessToken ? { id_token: accessToken } : null;\n\t        var state;\n\t        var nonce = accessToken || \"nonce\" in opts ? opts[\"nonce\"] : _this3.nonce;\n\t\n\t        // NOTE Clicking a button, which launches this login method, can result in\n\t        // at most 1 Promise resolution. If 2 or more Promises are chained, mobile\n\t        // devices such as iPhone 4 will block popup opening. That's why this._optionsMergedPromise\n\t        // is wrapped via PromiseUtil which then allows us here to call our \"then\" function immediately\n\t        // if the this._optionsMergedPromise has already been resolved.\n\t        // TODO Maybe reimplement by using some sort of ImmediatePromiseWrapper which in case of .then(fn)\n\t        // will invoke the fn immediately. Note that Promise chaining must be somehow resolved which is\n\t        // not trivial.\n\t        var authResponsePromise = Promise.resolve(authResponse || _PromiseUtil2.default.immediateThen(_this3._optionsMergedPromise, function () {\n\t          // handle uuOS8 token - we need to obtain standard OIDC id_token and start OIDC session (set session cookie) - we'll\n\t          // do this by exchanging tokens via non-standard endpoint for uuOS8\n\t          if (os8Token) {\n\t            nonce = null;\n\t            var os8Auth = new _Os8Auth2.default({\n\t              serverUri: _this3.serverUri,\n\t              clientId: _this3.clientId,\n\t              redirectUri: _this3.implicitFlowRedirectUri\n\t            });\n\t            return os8Auth.grantExchangeToken({\n\t              subject_token: os8Token\n\t            });\n\t          }\n\t\n\t          // authenticate using implicit flow\n\t          opts.nonce = nonce;\n\t          opts.state = state = Math.random().toString(32).substr(2);\n\t          return _ImplicitFlow2.default.login({\n\t            serverUri: _this3.serverUri,\n\t            clientId: _this3.clientId,\n\t            redirectUri: _this3.implicitFlowRedirectUri,\n\t            loginParams: opts\n\t          });\n\t        }, function (e) {\n\t          return Promise.reject(e);\n\t        }));\n\t        return authResponsePromise.then(function (authResponse) {\n\t          // ImplicitFlow response validation: http://openid.net/specs/openid-connect-core-1_0.html#ImplicitAuthResponseValidation\n\t          // 1. process only recognized fields in response (id_token, expires_in, ...)\n\t          // 2. validate implicit flow callback response (\"state\")\n\t          // 3. validate id_token with nonce => http://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation\n\t          //      i. validate as authorization code flow - http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\n\t          //     ii. validate signature\n\t          //    iii. validate nonce\n\t          // 4. validate access_token\n\t\n\t          // 2.i. validate state\n\t          if (state && authResponse.state !== state) throw new Error(\"Invalid 'state' in received token. Expected \" + state + \" but got \" + authResponse.state + \". Token: \" + JSON.stringify(authResponse));\n\t\n\t          // 2.ii. validate expiration\n\t          if (_this3._authResponseExpired(authResponse)) throw new Error(\"Token expired \" + JSON.stringify(authResponse));\n\t\n\t          // 3. validate id_token with nonce\n\t          return _this3._validateIdToken(authResponse.id_token, nonce).then(function (claims) {\n\t            if (updateSessionWithLoginResult !== false) {\n\t              _this3._loginCtx = new _SessionContext2.default(opts, authResponse, claims);\n\t              _this3._runListeners();\n\t            }\n\t            return _this3;\n\t          });\n\t        }).then(function (r) {\n\t          _this3._loginInProgress.pop();\n\t          return r;\n\t        }, function (e) {\n\t          _this3._loginInProgress.pop();\n\t          return Promise.reject(e);\n\t        });\n\t      };\n\t\n\t      // wait for session restoring in case that this instance of the session is the \"main\" session\n\t      return this === Session.currentSession && !accessToken && !os8Token && Object.keys(opts).length === 0 ? _PromiseUtil2.default.immediateThen(Session.initPromise, doLogin) : doLogin();\n\t    }\n\t\n\t    /**\n\t     * @return Promise resolved after the user gets logged out.\n\t     * @method UuOidc.Session#logout\n\t     */\n\t\n\t  }, {\n\t    key: \"logout\",\n\t    value: function logout() {\n\t      var _this4 = this;\n\t\n\t      if (!this._loginCtx) return Promise.resolve();\n\t\n\t      // TODO Logout using end_session_endpoint when it's implemented on server-side.\n\t      // logout using uuOidc-specific logout endpoint for now\n\t      return this._optionsMergedPromise.then(function () {\n\t        return new Promise(function (resolve, reject) {\n\t          var oidcServerUri = _this4.serverUri;\n\t          var logoutCallbackUri = _this4.implicitFlowRedirectUri;\n\t          var logoutUrl = oidcServerUri + \"/logout?redirect_uri=\" + encodeURIComponent(logoutCallbackUri);\n\t          new _IframeComponent2.default({\n\t            url: logoutUrl,\n\t            onResult: function onResult(result) {\n\t              // assume that the user is now logged out (regardless of result)\n\t              delete _this4._loginCtx;\n\t              _this4._runListeners();\n\t              resolve();\n\t            }\n\t          }).render();\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Returns token and its type for calling commands. Returned object contains following fields:\n\t     * \n\t     * * tokenType - the type of the token, such as \"Bearer\",\n\t     * * token - the token itself.\n\t     * \n\t     * If the user is not logged in, null is returned.\n\t     * \n\t     * @param {(string|UuApp.Uri.Uri)} callUri (optional) Command URI that is going to be called with the token.\n\t     * @return Object containing token and its type, or null if user is not logged in.\n\t     * @method UuOidc.Session#getCallToken\n\t     */\n\t\n\t  }, {\n\t    key: \"getCallToken\",\n\t    value: function getCallToken(callUri) {\n\t      var authResponse = (this._loginCtx || {}).authResponse;\n\t      if (!authResponse) return null;\n\t      var result = {\n\t        tokenType: authResponse.token_type || null,\n\t        token: authResponse.id_token || null\n\t      };\n\t      return result;\n\t    }\n\t  }, {\n\t    key: \"_authResponseExpired\",\n\t    value: function _authResponseExpired(authResponse) {\n\t      var now = new Date().getTime() / 1000;\n\t      var leeway = 60;\n\t      var expired = false;\n\t      if (!authResponse.issued_at) authResponse.issued_at = now;\n\t      if (authResponse.expires_at) expired = expired || authResponse.expires_at < now - leeway;\n\t      if (authResponse.expires_in && authResponse.issued_at) expired = expired || Number(authResponse.expires_in) + Number(authResponse.issued_at) < now - leeway;\n\t      return expired;\n\t    }\n\t\n\t    /**\n\t     * @return {Promise<Object>} Promise resolved to JWT claims or rejected with validation error.\n\t     */\n\t\n\t  }, {\n\t    key: \"_validateIdToken\",\n\t    value: function _validateIdToken(token, nonce) {\n\t      var _this5 = this;\n\t\n\t      // 3. validate id_token => http://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation\n\t      //      i. validate as authorization code flow - http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\n\t      //         1. -Decrypt JWE - not supported.\n\t      //         2. +REQUIRED validate 'iss'\n\t      //         3. +REQUIRED validate 'aud'\n\t      //         4. -SHOULD validate multiple 'aud' vs. 'azp'\n\t      //         5. -SHOULD validate 'azp'\n\t      //         6. -REQUIRED <applicable only for token_endpoint, not for implicit flow>\n\t      //         7. -SHOULD validate 'alg' in header vs. 'alg' sent during client registration\n\t      //         8. -REQUIRED <for MAC-based algos> - not supported (we use RSA)\n\t      //         9. +REQUIRED current time < 'exp'\n\t      //        10. +CAN check 'iat'\n\t      //        11. +REQUIRED (for implicit flow) validate nonce\n\t      //        12. -SHOULD check if 'acr' is appropriate\n\t      //        13. -SHOULD check if 'auth_time' was requested.\n\t      //     ii. validate signature\n\t      //    iii. validate nonce\n\t\n\t      return this._optionsMergedPromise.then(function () {\n\t        return _Discovery2.default.getMetadata(_this5.serverUri).then(function (metadata) {\n\t          var verifyOptions = {\n\t            // NOTE IE11 doesn't have RS512 (but it has \"RS256\" and \"RS384\").\n\t            alg: [\"RS256\"], // 3.i.7. (we'll allow only RSA algorithms for signature verification)\n\t            iss: [metadata.issuer], // 3.i.2.\n\t            // aud: this.clientId, // 3.i.3. TODO We don't have the proper value.\n\t            // 3.i.9. - 'exp' is checked automatically if present in JWT claims (as well as 'iat', 'nbf') \n\t            gracePeriod: 300\n\t          };\n\t          return _Jwt2.default.decode(token, verifyOptions, function (jwtHeader) {\n\t            // 3.ii.\n\t            if (!jwtHeader.alg || !jwtHeader.alg.match(/^RS\\d+$/)) throw new Error(\"Invalid token. Only RSA signature is supported, but token uses algorithm '\" + jwtHeader.alg + \"'. Token: \" + token);\n\t            var keyType = \"RSA\";\n\t\n\t            // check algorithm in token (whether it's really supported by the server)\n\t            var supportedAlgs = metadata.id_token_signing_alg_values_supported || [];\n\t            if (supportedAlgs.indexOf(jwtHeader.alg) == -1) throw new Error(\"Invalid token. Token was signed using algorithm '\" + jwtHeader.alg + \"' but the OIDC server '\" + _this5.serverUri + \"' supports only \" + JSON.stringify(supportedAlgs) + \". Token: \" + token);\n\t\n\t            // pick the key from JWK Set\n\t            var jwks = new _Jwks2.default({ serverUri: _this5.serverUri });\n\t            return jwks.getKey(jwtHeader.kid, keyType).catch(function (e) {\n\t              throw new Error(\"Invalid token. Unable to match key from JWT header to list of keys used by OpenID Connect server \" + _this5.serverUri + \". Token: \" + token, e);\n\t            });\n\t          }).then(function (claims) {\n\t            // 3.i.11., 3.iii. validate nonce\n\t            if (nonce && claims.nonce !== nonce) throw new _InvalidTokenError2.default(\"Invalid nonce in ID token claims. Expected \" + nonce + \" but got \" + claims.nonce);\n\t            return claims;\n\t          });\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Session;\n\t}();\n\t\n\texports.default = Session;\n\t\n\t\n\tfunction toFullUrl(path) {\n\t  var a = document.createElement(\"a\");\n\t  a.href = path;\n\t  return a.href.toString(); // browser-normalized URL (removed \"../\" sequences, ...)\n\t}\n\t\n\t/**\n\t * Current session.\n\t * \n\t * @name UuOidc.Session.currentSession\n\t * @type UuOidc.Session\n\t */\n\tvar currentSession;\n\tvar allowAutoInitSession = true;\n\tObject.defineProperty(Session, \"currentSession\", {\n\t  get: function get() {\n\t    if (allowAutoInitSession && !currentSession) {\n\t      currentSession = new Session(_uu_appg01_core.Util.Config); // TODO As it is now, accessing Session.currentSession prior to invoking Config.init will use defaults-only (for whole page duration).\n\t      currentSession.initComplete = false;\n\t      currentSession.initPromise = Session.initPromise;\n\t    }\n\t    return currentSession;\n\t  },\n\t  set: function set(value) {\n\t    allowAutoInitSession = false;\n\t    currentSession = value;\n\t  }\n\t});\n\t\n\tvar finalizeInit;\n\t/**\n\t * Promise resolved after session initialization (restoring state) finishes.\n\t * \n\t * @type {Promise<UuOidc.Session>}\n\t * @name UuOidc.Session.initPromise \n\t */\n\t/**\n\t * Promise resolved after session initialization (restoring state) finishes.\n\t * Note that this field is available only on a session instance that is\n\t * created automatically during page load.\n\t * \n\t * @type {Promise<UuOidc.Session>}\n\t * @name UuOidc.Session#initPromise \n\t */\n\tSession.initPromise = _PromiseUtil2.default.wrapForImmediateThen(new Promise(function (resolve, reject) {\n\t  finalizeInit = function finalizeInit(isOk, result) {\n\t    Session.initComplete = true;\n\t    Session.currentSession.initComplete = true;\n\t    if (!isOk) console.log(\"Session initialization failed:\", result);\n\t    resolve(Session.currentSession); // always resolve as success even if checking session state failed\n\t    return Session.initPromise;\n\t  };\n\t}));\n\t\n\t/**\n\t * Whether the session initialization performed during page load has already completed.\n\t * \n\t * @type {boolean}\n\t * @name UuOidc.Session.initComplete\n\t */\n\t/**\n\t * Whether the session initialization performed during page load has already completed.\n\t * Note that this field is available only on a session instance that is\n\t * created automatically during page load.\n\t * \n\t * @type {boolean}\n\t * @name UuOidc.Session#initComplete\n\t */\n\tSession.initComplete = false;\n\t\n\tfunction tryAutoLogin() {\n\t  if (Session.currentSession.isAuthenticated() || Session.currentSession._loginInProgress.length > 0) return;\n\t\n\t  // if there's access_token parameter in current URL, consider it as the id_token of the user\n\t  var id_token;\n\t  location.search.replace(/[?&]access_token=([^&#]*)/, function (m, g) {\n\t    id_token = decodeURIComponent(g.replace(/\\+/g, \" \"));\n\t  });\n\t  if (id_token) {\n\t    return Session.currentSession._login({\n\t      access_token: id_token,\n\t      nonce: null\n\t    });\n\t  }\n\t\n\t  // TODO Maybe we should use localStorage/sessionStorage too so that navigating between pages won't unnecessarily trigger\n\t  // re-login every time.\n\t\n\t  // try to login with no user interaction\n\t  return Session.currentSession._login({\n\t    prompt: \"none\", // no user interaction\n\t    acr_values: \"1\" // non-anonymous user\n\t  }).catch(function (e) {\n\t    if (e && (typeof e === \"undefined\" ? \"undefined\" : _typeof(e)) == \"object\" && typeof e[\"error_description\"] == \"string\" && e[\"error_description\"].match(/interaction/i) && e[\"error_description\"].match(/required/i)) return; // everything is fine, we just aren't logged in\n\t    throw e; // some other error happenned\n\t  });\n\t}\n\t\n\t// try to login without prompting user (only for browser environment)\n\tvar isBrowser = new Function(\"try {return this===window;}catch(e){ return false;}\")();\n\tif (isBrowser) {\n\t  // wait until DOM is ready because we need BODY element to be present due to how implicit flow works\n\t  _Dom2.default.domReady.then(function () {\n\t    return Promise.resolve(tryAutoLogin()); // ASAP login, possibly from URL parameter\n\t  }).then(finalizeInit.bind(null, true), finalizeInit.bind(null, false));\n\t} else {\n\t  finalizeInit(true);\n\t}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Discovery = __webpack_require__(4);\n\t\n\tvar _Discovery2 = _interopRequireDefault(_Discovery);\n\t\n\tvar _PromiseUtil = __webpack_require__(7);\n\t\n\tvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\t\n\tvar _PopupComponent = __webpack_require__(47);\n\t\n\tvar _PopupComponent2 = _interopRequireDefault(_PopupComponent);\n\t\n\tvar _IframeComponent = __webpack_require__(6);\n\t\n\tvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ImplicitFlow = {\n\t  /**\n\t   * @param options.serverUri\n\t   * @param options.clientId\n\t   * @param options.redirectUri\n\t   * @param options.loginVisualComponent\n\t   * @param options.loginParams\n\t   */\n\t  login: function login(options) {\n\t    var opts = options || {};\n\t\n\t    // check that required data is available\n\t    var serverUri = opts.serverUri;\n\t    if (!serverUri) throw new Error(\"ImplicitFlow.login requires option 'serverUri'.\");\n\t    var clientId = opts.clientId;\n\t    if (!clientId) throw new Error(\"ImplicitFlow.login requires option 'clientId'.\");\n\t    var redirectUri = opts.redirectUri;\n\t    if (!redirectUri) throw new Error(\"ImplicitFlow.login requires option 'redirectUri'.\");\n\t\n\t    // NOTE Using PromiseUtil.immediateThen which will run our \"then\" callback immediately if\n\t    // the Discovery.getMetadata is already resolved. The idea is that this login could have\n\t    // been triggered from \"click\" event and we need to open popup window within this event's\n\t    // lifetime or within single Promise (but not Promise chain because that doesn't work on\n\t    // iPhones).\n\t    return _PromiseUtil2.default.immediateThen(_Discovery2.default.getMetadata(serverUri), function (oidcMetadata) {\n\t      // prepare login URL\n\t      var loginParams = Object.assign({ scope: \"openid\" }, opts.loginParams, {\n\t        response_type: \"id_token token\",\n\t        client_id: clientId,\n\t        redirect_uri: redirectUri\n\t      });\n\t      var loginParamsParts = [];\n\t      for (var k in loginParams) {\n\t        var v = loginParams[k];\n\t        if (v == null) continue;\n\t        loginParamsParts.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(v + \"\"));\n\t      }\n\t      var loginUrl = oidcMetadata.authorization_endpoint + \"?\" + loginParamsParts.join(\"&\");\n\t\n\t      // display visual component for logging in (popup window)\n\t      var LoginVisualComponent = opts.loginVisualComponent || (loginParams.prompt != \"none\" ? _PopupComponent2.default : _IframeComponent2.default);\n\t      return new Promise(function (resolve, reject) {\n\t        new LoginVisualComponent({\n\t          url: loginUrl,\n\t          onResult: function onResult(aLoginResult) {\n\t            var authResponse = ImplicitFlow.getAuthResponseFromCallback(aLoginResult);\n\t            if (authResponse === false) return reject(new Error(\"User refused to sign in or the operation didn't complete successfully, e.g. due to popup blocking.\"));\n\t\n\t            // resolve the promise successfully with the token (iff there's no \"error\" field)\n\t            if (authResponse.error) reject(authResponse);else resolve(authResponse);\n\t          }\n\t        }).render();\n\t      });\n\t    }, function (e) {\n\t      return Promise.reject(e);\n\t    });\n\t  },\n\t\n\t  /**\n\t   * \n\t   * @param {*} aLoginCallbackResult \n\t   * @return One of: \n\t   * * false - user refused to log in (or popups are blocked)\n\t   * * object with \"error\" field set - an error\n\t   * * object - the OpenID Authentication Response with fields such as id_token, token_type, issued_at, ...\n\t   */\n\t  getAuthResponseFromCallback: function getAuthResponseFromCallback(aLoginCallbackResult) {\n\t    if (aLoginCallbackResult === false) return aLoginCallbackResult;\n\t\n\t    // extract login token\n\t    // example of successful aLoginCallbackResult: \"...#access_token=UUOIDCAT-27a13a6e626a40c49e036cbab55f3e27&id_token=eyJ0eXAiOi...&token_type=Bearer&expires_in=7200&scope=openid\" \n\t    // example of error aLoginCallbackResult:      \"...#error=server_error&error_description=Interaction+required+to+authenticate+user%2C+but+parameter+%27prompt%3Dnone%27+specified+by+client%2C+so+interaction+is+not+possible.&uu_oidc_error_id=047a06f806d1b13-6f55e2af8c2ff99d&uu_oidc_error_code=UU.OIDC-SERVER%2FE000_UNEXPECTED_ERROR\"\n\t    var authResponse = {};\n\t    aLoginCallbackResult.replace(/^[^#]*#?/, \"\").split(/&/).forEach(function (it) {\n\t      var eqlIdx = it.indexOf(\"=\");\n\t      var key = decodeURIComponent((eqlIdx == -1 ? it.substr(0) : it.substr(0, eqlIdx)).replace(/\\+/g, \" \"));\n\t      var value = decodeURIComponent((eqlIdx == -1 ? \"\" : it.substr(eqlIdx + 1)).replace(/\\+/g, \" \"));\n\t      authResponse[key] = value;\n\t    });\n\t    return authResponse;\n\t  }\n\t};\n\t\n\texports.default = ImplicitFlow;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.SessionHandler = exports.Session = undefined;\n\t\n\tvar _Session = __webpack_require__(16);\n\t\n\tvar _Session2 = _interopRequireDefault(_Session);\n\t\n\tvar _SessionHandler = __webpack_require__(42);\n\t\n\tvar _SessionHandler2 = _interopRequireDefault(_SessionHandler);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// make UuOidc always present in global variable so that there're no issues\n\t// with detecting it (even during load via SystemJS)\n\tif (typeof window !== \"undefined\") window.UuOidc = { Session: _Session2.default, SessionHandler: _SessionHandler2.default };\n\t\n\texports.Session = _Session2.default;\n\texports.SessionHandler = _SessionHandler2.default;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t// login callback handling\n\tvar VC_CALLBACK_FN_NAME = \"uuOidcCallbackFn\"; // !!! Must be in sync with the one in callbacks/oidc-callback.html.\n\t\n\t// make sure that callback works correctly even if multiple invocations using visual component below were\n\t// done (e.g. user clicked 2 different buttons for command invocations which each opened a login popup\n\t// and are now displayed both)\n\tif (typeof window != \"undefined\" && !window[VC_CALLBACK_FN_NAME]) {\n\t  window[VC_CALLBACK_FN_NAME] = function (aLoginResult, aSourceWindow) {\n\t    var loginWindows = window[VC_CALLBACK_FN_NAME].loginWindows;\n\t    // received callback from a popup => find out which component is using the source window and notify it\n\t    for (var i = 0; i < loginWindows.length; ++i) {\n\t      var p = loginWindows[i];\n\t      if (p.state.loginWindow == aSourceWindow) {\n\t        p.component.finalize(aLoginResult);\n\t        return;\n\t      }\n\t    }\n\t    console.warn(\"Received unexpected callback from window\", aSourceWindow, \"Passed result was:\", aLoginResult, \"Ignoring the callback.\");\n\t  };\n\t  window[VC_CALLBACK_FN_NAME].loginWindows = [];\n\t}\n\t\n\texports.default = {\n\t  registerForCallback: function registerForCallback(component, state) {\n\t    window[VC_CALLBACK_FN_NAME].loginWindows.push({ component: component, state: state });\n\t  },\n\t  unregisterForCallback: function unregisterForCallback(component) {\n\t    var loginWindows = window[VC_CALLBACK_FN_NAME].loginWindows;\n\t    for (var i = 0; i < loginWindows.length; ++i) {\n\t      // remove self from opened loginWindows\n\t      if (loginWindows[i].component === component) {\n\t        loginWindows.splice(i, 1);\n\t        break;\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar Base64Url = {\n\t  /**\n\t   * @param txtAscii Ascii string to encode (each character is in range 0-255).\n\t   * @return {string} Provided string encoded to Base64Url encoding.\n\t   */\n\t  encodeAscii: function encodeAscii(txtAscii) {\n\t    if (!txtAscii) return txtAscii;\n\t    return btoa(txtAscii).replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n\t  },\n\t  /**\n\t   * @param txtUtf8 UTF-8 string to encode.\n\t   * @return {string} Provided string encoded to Base64Url encoding.\n\t   */\n\t  encode: function encode(txtUtf8) {\n\t    if (!txtUtf8) return txtUtf8;\n\t    return Base64Url.encodeAscii(unescape(encodeURIComponent(txtUtf8)));\n\t  },\n\t  /**\n\t   * @return {string} Base64Url decoded to an Ascii string (each character is in range 0-255).\n\t   */\n\t  decodeToAscii: function decodeToAscii(base64Url) {\n\t    if (!base64Url) return null;\n\t    var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n\t    return atob(base64);\n\t  },\n\t  /**\n\t   * @return {string} Base64Url decoded to a UTF-8 string.\n\t   */\n\t  decode: function decode(base64Url) {\n\t    var ascii = Base64Url.decodeToAscii(base64Url);\n\t    return ascii != null ? decodeURIComponent(escape(ascii)) : null;\n\t  }\n\t};\n\texports.default = Base64Url;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t// helper for invoking Ajax requests and returning Promise\n\tfunction xhrJson(method, url, body, extraSettingFn) {\n\t  return new Promise(function (resolve, reject) {\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open(method, url, true);\n\t    xhr.withCredentials = true;\n\t    xhr.setRequestHeader(\"Accept\", \"application/json\");\n\t    xhr.onreadystatechange = function (e) {\n\t      if (xhr.readyState == 4) {\n\t        if (xhr.status >= 200 && xhr.status < 300) {\n\t          try {\n\t            var json = JSON.parse(xhr.responseText);\n\t            resolve(json);\n\t          } catch (err) {\n\t            reject(err);\n\t          }\n\t        } else {\n\t          reject(new Error(\"Server responded with status \" + xhr.status)); // TODO Better error.\n\t        }\n\t      }\n\t    };\n\t    xhr.withCredentials = true;\n\t    if (extraSettingFn) extraSettingFn(xhr);\n\t    xhr.send(body);\n\t  });\n\t}\n\t\n\texports.default = {\n\t  get: function get() {\n\t    return xhrJson.bind(this, \"GET\").apply(this, Array.prototype.slice.call(arguments));\n\t  },\n\t  post: function post() {\n\t    return xhrJson.bind(this, \"POST\").apply(this, Array.prototype.slice.call(arguments));\n\t  }\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  toSnakeCase: function toSnakeCase(aText) {\n\t    return (aText || \"\").replace(/[A-Z]/g, function (m) {\n\t      return \"_\" + m.toLowerCase();\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tvar UuApp = _interopRequireWildcard(_uu_appg01_core);\n\t\n\tvar _uu_oidcg = __webpack_require__(18);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\t/**\n\t * @class UuApp.Client\n\t * @classdesc\n\t * The Client allows communication with remote uuOS9 endpoints which conform to uuUri format.\n\t * In addition to the basic UuApp.AppClient.Client, this client is preconfigured to use authentication\n\t * via uuOS OpenID Connect server.\n\t * \n\t * See {@link UuApp.AppClient.Client} for standard usage scenarios and configuration, as well as \n\t * {@link UuOidc.Session} for basic session handling examples.\n\t * \n\t * @see UuApp.AppClient.Client\n\t * @see UuOidc.Session\n\t */\n\tfunction Client() /*...*/{\n\t  UuApp.AppClient.Client.apply(this, arguments);\n\t  this.defaults = Client.defaults;\n\t}\n\tClient.prototype = Object.create(UuApp.AppClient.Client.prototype);\n\tClient.prototype.constructor = Client;\n\t\n\t// use UuApp default client when invoking get/post\n\tvar defClient;\n\t/**\n\t * @name UuApp.Client.get\n\t * @see UuApp.AppClient.Client.get\n\t */\n\tClient.get = function () {\n\t  if (!defClient) defClient = new Client();\n\t  return defClient.get.apply(defClient, arguments);\n\t};\n\t/**\n\t * @name UuApp.Client.post\n\t * @see UuApp.AppClient.Client.post\n\t */\n\tClient.post = function (uri, parameters, options) {\n\t  if (!defClient) defClient = new Client();\n\t  return defClient.post.apply(defClient, arguments);\n\t};\n\t\n\t// delegate this Client's defaults to UuApp.AppClient.Client defaults, but override interceptors\n\tvar A = function A() {};\n\tA.prototype = UuApp.AppClient.Client.defaults;\n\tClient.defaults = new A();\n\tvar interceptors = [].concat(UuApp.AppClient.Client.defaults.interceptors); // make copy\n\tinterceptors.splice(interceptors.indexOf(UuApp.AppClient.Client.UriHandler) + 1, 0, _uu_oidcg.SessionHandler); // add after UriHandler\n\t/**\n\t * @name UuApp.Client.defaults\n\t * @see UuApp.AppClient.Client.defaults\n\t */\n\tClient.defaults.interceptors = interceptors;\n\t\n\t// export\n\texports.default = Client;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _index = __webpack_require__(26);\n\t\n\tObject.keys(_index).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _index[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tvar UuApp = _interopRequireWildcard(_uu_appg01_core);\n\t\n\tvar _uu_oidcg = __webpack_require__(18);\n\t\n\tvar UuOidc = _interopRequireWildcard(_uu_oidcg);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\t// export dependencies to window explicitly\n\tvar Cmd = window.UuApp = window.UuApp || {};\n\tfor (var k in UuApp) {\n\t  Cmd[k] = UuApp[k];\n\t}var Oidc = window.UuOidc = window.UuOidc || {};\n\tfor (var k in UuOidc) {\n\t  Oidc[k] = UuOidc[k];\n\t} // export self in a standard way\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Client = undefined;\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tObject.keys(_uu_appg01_core).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _uu_appg01_core[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar _Client = __webpack_require__(24);\n\t\n\tvar _Client2 = _interopRequireDefault(_Client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Client = _Client2.default;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t/* eslint-disable no-unused-vars */\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tfunction shouldUseNative() {\n\t\ttry {\n\t\t\tif (!Object.assign) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Detect buggy property enumeration order in older V8 versions.\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\t\ttest1[5] = 'de';\n\t\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test2 = {};\n\t\t\tfor (var i = 0; i < 10; i++) {\n\t\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t\t}\n\t\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\t\treturn test2[n];\n\t\t\t});\n\t\t\tif (order2.join('') !== '0123456789') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test3 = {};\n\t\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\t\ttest3[letter] = letter;\n\t\t\t});\n\t\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (Object.getOwnPropertySymbols) {\n\t\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;/* WEBPACK VAR INJECTION */(function(process, global) {/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n\t * @version   4.0.5\n\t */\n\t\n\t(function (global, factory) {\n\t     true ? module.exports = factory() :\n\t    typeof define === 'function' && define.amd ? define(factory) :\n\t    (global.ES6Promise = factory());\n\t}(this, (function () { 'use strict';\n\t\n\tfunction objectOrFunction(x) {\n\t  return typeof x === 'function' || typeof x === 'object' && x !== null;\n\t}\n\t\n\tfunction isFunction(x) {\n\t  return typeof x === 'function';\n\t}\n\t\n\tvar _isArray = undefined;\n\tif (!Array.isArray) {\n\t  _isArray = function (x) {\n\t    return Object.prototype.toString.call(x) === '[object Array]';\n\t  };\n\t} else {\n\t  _isArray = Array.isArray;\n\t}\n\t\n\tvar isArray = _isArray;\n\t\n\tvar len = 0;\n\tvar vertxNext = undefined;\n\tvar customSchedulerFn = undefined;\n\t\n\tvar asap = function asap(callback, arg) {\n\t  queue[len] = callback;\n\t  queue[len + 1] = arg;\n\t  len += 2;\n\t  if (len === 2) {\n\t    // If len is 2, that means that we need to schedule an async flush.\n\t    // If additional callbacks are queued before the queue is flushed, they\n\t    // will be processed by this flush that we are scheduling.\n\t    if (customSchedulerFn) {\n\t      customSchedulerFn(flush);\n\t    } else {\n\t      scheduleFlush();\n\t    }\n\t  }\n\t};\n\t\n\tfunction setScheduler(scheduleFn) {\n\t  customSchedulerFn = scheduleFn;\n\t}\n\t\n\tfunction setAsap(asapFn) {\n\t  asap = asapFn;\n\t}\n\t\n\tvar browserWindow = typeof window !== 'undefined' ? window : undefined;\n\tvar browserGlobal = browserWindow || {};\n\tvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n\tvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\t\n\t// test for web worker but not in IE10\n\tvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\t\n\t// node\n\tfunction useNextTick() {\n\t  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t  // see https://github.com/cujojs/when/issues/410 for details\n\t  return function () {\n\t    return process.nextTick(flush);\n\t  };\n\t}\n\t\n\t// vertx\n\tfunction useVertxTimer() {\n\t  if (typeof vertxNext !== 'undefined') {\n\t    return function () {\n\t      vertxNext(flush);\n\t    };\n\t  }\n\t\n\t  return useSetTimeout();\n\t}\n\t\n\tfunction useMutationObserver() {\n\t  var iterations = 0;\n\t  var observer = new BrowserMutationObserver(flush);\n\t  var node = document.createTextNode('');\n\t  observer.observe(node, { characterData: true });\n\t\n\t  return function () {\n\t    node.data = iterations = ++iterations % 2;\n\t  };\n\t}\n\t\n\t// web worker\n\tfunction useMessageChannel() {\n\t  var channel = new MessageChannel();\n\t  channel.port1.onmessage = flush;\n\t  return function () {\n\t    return channel.port2.postMessage(0);\n\t  };\n\t}\n\t\n\tfunction useSetTimeout() {\n\t  // Store setTimeout reference so es6-promise will be unaffected by\n\t  // other code modifying setTimeout (like sinon.useFakeTimers())\n\t  var globalSetTimeout = setTimeout;\n\t  return function () {\n\t    return globalSetTimeout(flush, 1);\n\t  };\n\t}\n\t\n\tvar queue = new Array(1000);\n\tfunction flush() {\n\t  for (var i = 0; i < len; i += 2) {\n\t    var callback = queue[i];\n\t    var arg = queue[i + 1];\n\t\n\t    callback(arg);\n\t\n\t    queue[i] = undefined;\n\t    queue[i + 1] = undefined;\n\t  }\n\t\n\t  len = 0;\n\t}\n\t\n\tfunction attemptVertx() {\n\t  try {\n\t    var r = require;\n\t    var vertx = __webpack_require__(51);\n\t    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t    return useVertxTimer();\n\t  } catch (e) {\n\t    return useSetTimeout();\n\t  }\n\t}\n\t\n\tvar scheduleFlush = undefined;\n\t// Decide what async method to use to triggering processing of queued callbacks:\n\tif (isNode) {\n\t  scheduleFlush = useNextTick();\n\t} else if (BrowserMutationObserver) {\n\t  scheduleFlush = useMutationObserver();\n\t} else if (isWorker) {\n\t  scheduleFlush = useMessageChannel();\n\t} else if (browserWindow === undefined && \"function\" === 'function') {\n\t  scheduleFlush = attemptVertx();\n\t} else {\n\t  scheduleFlush = useSetTimeout();\n\t}\n\t\n\tfunction then(onFulfillment, onRejection) {\n\t  var _arguments = arguments;\n\t\n\t  var parent = this;\n\t\n\t  var child = new this.constructor(noop);\n\t\n\t  if (child[PROMISE_ID] === undefined) {\n\t    makePromise(child);\n\t  }\n\t\n\t  var _state = parent._state;\n\t\n\t  if (_state) {\n\t    (function () {\n\t      var callback = _arguments[_state - 1];\n\t      asap(function () {\n\t        return invokeCallback(_state, child, callback, parent._result);\n\t      });\n\t    })();\n\t  } else {\n\t    subscribe(parent, child, onFulfillment, onRejection);\n\t  }\n\t\n\t  return child;\n\t}\n\t\n\t/**\n\t  `Promise.resolve` returns a promise that will become resolved with the\n\t  passed `value`. It is shorthand for the following:\n\t\n\t  ```javascript\n\t  let promise = new Promise(function(resolve, reject){\n\t    resolve(1);\n\t  });\n\t\n\t  promise.then(function(value){\n\t    // value === 1\n\t  });\n\t  ```\n\t\n\t  Instead of writing the above, your code now simply becomes the following:\n\t\n\t  ```javascript\n\t  let promise = Promise.resolve(1);\n\t\n\t  promise.then(function(value){\n\t    // value === 1\n\t  });\n\t  ```\n\t\n\t  @method resolve\n\t  @static\n\t  @param {Any} value value that the returned promise will be resolved with\n\t  Useful for tooling.\n\t  @return {Promise} a promise that will become fulfilled with the given\n\t  `value`\n\t*/\n\tfunction resolve(object) {\n\t  /*jshint validthis:true */\n\t  var Constructor = this;\n\t\n\t  if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t    return object;\n\t  }\n\t\n\t  var promise = new Constructor(noop);\n\t  _resolve(promise, object);\n\t  return promise;\n\t}\n\t\n\tvar PROMISE_ID = Math.random().toString(36).substring(16);\n\t\n\tfunction noop() {}\n\t\n\tvar PENDING = void 0;\n\tvar FULFILLED = 1;\n\tvar REJECTED = 2;\n\t\n\tvar GET_THEN_ERROR = new ErrorObject();\n\t\n\tfunction selfFulfillment() {\n\t  return new TypeError(\"You cannot resolve a promise with itself\");\n\t}\n\t\n\tfunction cannotReturnOwn() {\n\t  return new TypeError('A promises callback cannot return that same promise.');\n\t}\n\t\n\tfunction getThen(promise) {\n\t  try {\n\t    return promise.then;\n\t  } catch (error) {\n\t    GET_THEN_ERROR.error = error;\n\t    return GET_THEN_ERROR;\n\t  }\n\t}\n\t\n\tfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t  try {\n\t    then.call(value, fulfillmentHandler, rejectionHandler);\n\t  } catch (e) {\n\t    return e;\n\t  }\n\t}\n\t\n\tfunction handleForeignThenable(promise, thenable, then) {\n\t  asap(function (promise) {\n\t    var sealed = false;\n\t    var error = tryThen(then, thenable, function (value) {\n\t      if (sealed) {\n\t        return;\n\t      }\n\t      sealed = true;\n\t      if (thenable !== value) {\n\t        _resolve(promise, value);\n\t      } else {\n\t        fulfill(promise, value);\n\t      }\n\t    }, function (reason) {\n\t      if (sealed) {\n\t        return;\n\t      }\n\t      sealed = true;\n\t\n\t      _reject(promise, reason);\n\t    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\n\t    if (!sealed && error) {\n\t      sealed = true;\n\t      _reject(promise, error);\n\t    }\n\t  }, promise);\n\t}\n\t\n\tfunction handleOwnThenable(promise, thenable) {\n\t  if (thenable._state === FULFILLED) {\n\t    fulfill(promise, thenable._result);\n\t  } else if (thenable._state === REJECTED) {\n\t    _reject(promise, thenable._result);\n\t  } else {\n\t    subscribe(thenable, undefined, function (value) {\n\t      return _resolve(promise, value);\n\t    }, function (reason) {\n\t      return _reject(promise, reason);\n\t    });\n\t  }\n\t}\n\t\n\tfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n\t  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n\t    handleOwnThenable(promise, maybeThenable);\n\t  } else {\n\t    if (then$$ === GET_THEN_ERROR) {\n\t      _reject(promise, GET_THEN_ERROR.error);\n\t    } else if (then$$ === undefined) {\n\t      fulfill(promise, maybeThenable);\n\t    } else if (isFunction(then$$)) {\n\t      handleForeignThenable(promise, maybeThenable, then$$);\n\t    } else {\n\t      fulfill(promise, maybeThenable);\n\t    }\n\t  }\n\t}\n\t\n\tfunction _resolve(promise, value) {\n\t  if (promise === value) {\n\t    _reject(promise, selfFulfillment());\n\t  } else if (objectOrFunction(value)) {\n\t    handleMaybeThenable(promise, value, getThen(value));\n\t  } else {\n\t    fulfill(promise, value);\n\t  }\n\t}\n\t\n\tfunction publishRejection(promise) {\n\t  if (promise._onerror) {\n\t    promise._onerror(promise._result);\n\t  }\n\t\n\t  publish(promise);\n\t}\n\t\n\tfunction fulfill(promise, value) {\n\t  if (promise._state !== PENDING) {\n\t    return;\n\t  }\n\t\n\t  promise._result = value;\n\t  promise._state = FULFILLED;\n\t\n\t  if (promise._subscribers.length !== 0) {\n\t    asap(publish, promise);\n\t  }\n\t}\n\t\n\tfunction _reject(promise, reason) {\n\t  if (promise._state !== PENDING) {\n\t    return;\n\t  }\n\t  promise._state = REJECTED;\n\t  promise._result = reason;\n\t\n\t  asap(publishRejection, promise);\n\t}\n\t\n\tfunction subscribe(parent, child, onFulfillment, onRejection) {\n\t  var _subscribers = parent._subscribers;\n\t  var length = _subscribers.length;\n\t\n\t  parent._onerror = null;\n\t\n\t  _subscribers[length] = child;\n\t  _subscribers[length + FULFILLED] = onFulfillment;\n\t  _subscribers[length + REJECTED] = onRejection;\n\t\n\t  if (length === 0 && parent._state) {\n\t    asap(publish, parent);\n\t  }\n\t}\n\t\n\tfunction publish(promise) {\n\t  var subscribers = promise._subscribers;\n\t  var settled = promise._state;\n\t\n\t  if (subscribers.length === 0) {\n\t    return;\n\t  }\n\t\n\t  var child = undefined,\n\t      callback = undefined,\n\t      detail = promise._result;\n\t\n\t  for (var i = 0; i < subscribers.length; i += 3) {\n\t    child = subscribers[i];\n\t    callback = subscribers[i + settled];\n\t\n\t    if (child) {\n\t      invokeCallback(settled, child, callback, detail);\n\t    } else {\n\t      callback(detail);\n\t    }\n\t  }\n\t\n\t  promise._subscribers.length = 0;\n\t}\n\t\n\tfunction ErrorObject() {\n\t  this.error = null;\n\t}\n\t\n\tvar TRY_CATCH_ERROR = new ErrorObject();\n\t\n\tfunction tryCatch(callback, detail) {\n\t  try {\n\t    return callback(detail);\n\t  } catch (e) {\n\t    TRY_CATCH_ERROR.error = e;\n\t    return TRY_CATCH_ERROR;\n\t  }\n\t}\n\t\n\tfunction invokeCallback(settled, promise, callback, detail) {\n\t  var hasCallback = isFunction(callback),\n\t      value = undefined,\n\t      error = undefined,\n\t      succeeded = undefined,\n\t      failed = undefined;\n\t\n\t  if (hasCallback) {\n\t    value = tryCatch(callback, detail);\n\t\n\t    if (value === TRY_CATCH_ERROR) {\n\t      failed = true;\n\t      error = value.error;\n\t      value = null;\n\t    } else {\n\t      succeeded = true;\n\t    }\n\t\n\t    if (promise === value) {\n\t      _reject(promise, cannotReturnOwn());\n\t      return;\n\t    }\n\t  } else {\n\t    value = detail;\n\t    succeeded = true;\n\t  }\n\t\n\t  if (promise._state !== PENDING) {\n\t    // noop\n\t  } else if (hasCallback && succeeded) {\n\t      _resolve(promise, value);\n\t    } else if (failed) {\n\t      _reject(promise, error);\n\t    } else if (settled === FULFILLED) {\n\t      fulfill(promise, value);\n\t    } else if (settled === REJECTED) {\n\t      _reject(promise, value);\n\t    }\n\t}\n\t\n\tfunction initializePromise(promise, resolver) {\n\t  try {\n\t    resolver(function resolvePromise(value) {\n\t      _resolve(promise, value);\n\t    }, function rejectPromise(reason) {\n\t      _reject(promise, reason);\n\t    });\n\t  } catch (e) {\n\t    _reject(promise, e);\n\t  }\n\t}\n\t\n\tvar id = 0;\n\tfunction nextId() {\n\t  return id++;\n\t}\n\t\n\tfunction makePromise(promise) {\n\t  promise[PROMISE_ID] = id++;\n\t  promise._state = undefined;\n\t  promise._result = undefined;\n\t  promise._subscribers = [];\n\t}\n\t\n\tfunction Enumerator(Constructor, input) {\n\t  this._instanceConstructor = Constructor;\n\t  this.promise = new Constructor(noop);\n\t\n\t  if (!this.promise[PROMISE_ID]) {\n\t    makePromise(this.promise);\n\t  }\n\t\n\t  if (isArray(input)) {\n\t    this._input = input;\n\t    this.length = input.length;\n\t    this._remaining = input.length;\n\t\n\t    this._result = new Array(this.length);\n\t\n\t    if (this.length === 0) {\n\t      fulfill(this.promise, this._result);\n\t    } else {\n\t      this.length = this.length || 0;\n\t      this._enumerate();\n\t      if (this._remaining === 0) {\n\t        fulfill(this.promise, this._result);\n\t      }\n\t    }\n\t  } else {\n\t    _reject(this.promise, validationError());\n\t  }\n\t}\n\t\n\tfunction validationError() {\n\t  return new Error('Array Methods must be provided an Array');\n\t};\n\t\n\tEnumerator.prototype._enumerate = function () {\n\t  var length = this.length;\n\t  var _input = this._input;\n\t\n\t  for (var i = 0; this._state === PENDING && i < length; i++) {\n\t    this._eachEntry(_input[i], i);\n\t  }\n\t};\n\t\n\tEnumerator.prototype._eachEntry = function (entry, i) {\n\t  var c = this._instanceConstructor;\n\t  var resolve$$ = c.resolve;\n\t\n\t  if (resolve$$ === resolve) {\n\t    var _then = getThen(entry);\n\t\n\t    if (_then === then && entry._state !== PENDING) {\n\t      this._settledAt(entry._state, i, entry._result);\n\t    } else if (typeof _then !== 'function') {\n\t      this._remaining--;\n\t      this._result[i] = entry;\n\t    } else if (c === Promise) {\n\t      var promise = new c(noop);\n\t      handleMaybeThenable(promise, entry, _then);\n\t      this._willSettleAt(promise, i);\n\t    } else {\n\t      this._willSettleAt(new c(function (resolve$$) {\n\t        return resolve$$(entry);\n\t      }), i);\n\t    }\n\t  } else {\n\t    this._willSettleAt(resolve$$(entry), i);\n\t  }\n\t};\n\t\n\tEnumerator.prototype._settledAt = function (state, i, value) {\n\t  var promise = this.promise;\n\t\n\t  if (promise._state === PENDING) {\n\t    this._remaining--;\n\t\n\t    if (state === REJECTED) {\n\t      _reject(promise, value);\n\t    } else {\n\t      this._result[i] = value;\n\t    }\n\t  }\n\t\n\t  if (this._remaining === 0) {\n\t    fulfill(promise, this._result);\n\t  }\n\t};\n\t\n\tEnumerator.prototype._willSettleAt = function (promise, i) {\n\t  var enumerator = this;\n\t\n\t  subscribe(promise, undefined, function (value) {\n\t    return enumerator._settledAt(FULFILLED, i, value);\n\t  }, function (reason) {\n\t    return enumerator._settledAt(REJECTED, i, reason);\n\t  });\n\t};\n\t\n\t/**\n\t  `Promise.all` accepts an array of promises, and returns a new promise which\n\t  is fulfilled with an array of fulfillment values for the passed promises, or\n\t  rejected with the reason of the first passed promise to be rejected. It casts all\n\t  elements of the passed iterable to promises as it runs this algorithm.\n\t\n\t  Example:\n\t\n\t  ```javascript\n\t  let promise1 = resolve(1);\n\t  let promise2 = resolve(2);\n\t  let promise3 = resolve(3);\n\t  let promises = [ promise1, promise2, promise3 ];\n\t\n\t  Promise.all(promises).then(function(array){\n\t    // The array here would be [ 1, 2, 3 ];\n\t  });\n\t  ```\n\t\n\t  If any of the `promises` given to `all` are rejected, the first promise\n\t  that is rejected will be given as an argument to the returned promises's\n\t  rejection handler. For example:\n\t\n\t  Example:\n\t\n\t  ```javascript\n\t  let promise1 = resolve(1);\n\t  let promise2 = reject(new Error(\"2\"));\n\t  let promise3 = reject(new Error(\"3\"));\n\t  let promises = [ promise1, promise2, promise3 ];\n\t\n\t  Promise.all(promises).then(function(array){\n\t    // Code here never runs because there are rejected promises!\n\t  }, function(error) {\n\t    // error.message === \"2\"\n\t  });\n\t  ```\n\t\n\t  @method all\n\t  @static\n\t  @param {Array} entries array of promises\n\t  @param {String} label optional string for labeling the promise.\n\t  Useful for tooling.\n\t  @return {Promise} promise that is fulfilled when all `promises` have been\n\t  fulfilled, or rejected if any of them become rejected.\n\t  @static\n\t*/\n\tfunction all(entries) {\n\t  return new Enumerator(this, entries).promise;\n\t}\n\t\n\t/**\n\t  `Promise.race` returns a new promise which is settled in the same way as the\n\t  first passed promise to settle.\n\t\n\t  Example:\n\t\n\t  ```javascript\n\t  let promise1 = new Promise(function(resolve, reject){\n\t    setTimeout(function(){\n\t      resolve('promise 1');\n\t    }, 200);\n\t  });\n\t\n\t  let promise2 = new Promise(function(resolve, reject){\n\t    setTimeout(function(){\n\t      resolve('promise 2');\n\t    }, 100);\n\t  });\n\t\n\t  Promise.race([promise1, promise2]).then(function(result){\n\t    // result === 'promise 2' because it was resolved before promise1\n\t    // was resolved.\n\t  });\n\t  ```\n\t\n\t  `Promise.race` is deterministic in that only the state of the first\n\t  settled promise matters. For example, even if other promises given to the\n\t  `promises` array argument are resolved, but the first settled promise has\n\t  become rejected before the other promises became fulfilled, the returned\n\t  promise will become rejected:\n\t\n\t  ```javascript\n\t  let promise1 = new Promise(function(resolve, reject){\n\t    setTimeout(function(){\n\t      resolve('promise 1');\n\t    }, 200);\n\t  });\n\t\n\t  let promise2 = new Promise(function(resolve, reject){\n\t    setTimeout(function(){\n\t      reject(new Error('promise 2'));\n\t    }, 100);\n\t  });\n\t\n\t  Promise.race([promise1, promise2]).then(function(result){\n\t    // Code here never runs\n\t  }, function(reason){\n\t    // reason.message === 'promise 2' because promise 2 became rejected before\n\t    // promise 1 became fulfilled\n\t  });\n\t  ```\n\t\n\t  An example real-world use case is implementing timeouts:\n\t\n\t  ```javascript\n\t  Promise.race([ajax('foo.json'), timeout(5000)])\n\t  ```\n\t\n\t  @method race\n\t  @static\n\t  @param {Array} promises array of promises to observe\n\t  Useful for tooling.\n\t  @return {Promise} a promise which settles in the same way as the first passed\n\t  promise to settle.\n\t*/\n\tfunction race(entries) {\n\t  /*jshint validthis:true */\n\t  var Constructor = this;\n\t\n\t  if (!isArray(entries)) {\n\t    return new Constructor(function (_, reject) {\n\t      return reject(new TypeError('You must pass an array to race.'));\n\t    });\n\t  } else {\n\t    return new Constructor(function (resolve, reject) {\n\t      var length = entries.length;\n\t      for (var i = 0; i < length; i++) {\n\t        Constructor.resolve(entries[i]).then(resolve, reject);\n\t      }\n\t    });\n\t  }\n\t}\n\t\n\t/**\n\t  `Promise.reject` returns a promise rejected with the passed `reason`.\n\t  It is shorthand for the following:\n\t\n\t  ```javascript\n\t  let promise = new Promise(function(resolve, reject){\n\t    reject(new Error('WHOOPS'));\n\t  });\n\t\n\t  promise.then(function(value){\n\t    // Code here doesn't run because the promise is rejected!\n\t  }, function(reason){\n\t    // reason.message === 'WHOOPS'\n\t  });\n\t  ```\n\t\n\t  Instead of writing the above, your code now simply becomes the following:\n\t\n\t  ```javascript\n\t  let promise = Promise.reject(new Error('WHOOPS'));\n\t\n\t  promise.then(function(value){\n\t    // Code here doesn't run because the promise is rejected!\n\t  }, function(reason){\n\t    // reason.message === 'WHOOPS'\n\t  });\n\t  ```\n\t\n\t  @method reject\n\t  @static\n\t  @param {Any} reason value that the returned promise will be rejected with.\n\t  Useful for tooling.\n\t  @return {Promise} a promise rejected with the given `reason`.\n\t*/\n\tfunction reject(reason) {\n\t  /*jshint validthis:true */\n\t  var Constructor = this;\n\t  var promise = new Constructor(noop);\n\t  _reject(promise, reason);\n\t  return promise;\n\t}\n\t\n\tfunction needsResolver() {\n\t  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t}\n\t\n\tfunction needsNew() {\n\t  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t}\n\t\n\t/**\n\t  Promise objects represent the eventual result of an asynchronous operation. The\n\t  primary way of interacting with a promise is through its `then` method, which\n\t  registers callbacks to receive either a promise's eventual value or the reason\n\t  why the promise cannot be fulfilled.\n\t\n\t  Terminology\n\t  -----------\n\t\n\t  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t  - `thenable` is an object or function that defines a `then` method.\n\t  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t  - `exception` is a value that is thrown using the throw statement.\n\t  - `reason` is a value that indicates why a promise was rejected.\n\t  - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\n\t  A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\n\t  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t  state.  Promises that are rejected have a rejection reason and are in the\n\t  rejected state.  A fulfillment value is never a thenable.\n\t\n\t  Promises can also be said to *resolve* a value.  If this value is also a\n\t  promise, then the original promise's settled state will match the value's\n\t  settled state.  So a promise that *resolves* a promise that rejects will\n\t  itself reject, and a promise that *resolves* a promise that fulfills will\n\t  itself fulfill.\n\t\n\t\n\t  Basic Usage:\n\t  ------------\n\t\n\t  ```js\n\t  let promise = new Promise(function(resolve, reject) {\n\t    // on success\n\t    resolve(value);\n\t\n\t    // on failure\n\t    reject(reason);\n\t  });\n\t\n\t  promise.then(function(value) {\n\t    // on fulfillment\n\t  }, function(reason) {\n\t    // on rejection\n\t  });\n\t  ```\n\t\n\t  Advanced Usage:\n\t  ---------------\n\t\n\t  Promises shine when abstracting away asynchronous interactions such as\n\t  `XMLHttpRequest`s.\n\t\n\t  ```js\n\t  function getJSON(url) {\n\t    return new Promise(function(resolve, reject){\n\t      let xhr = new XMLHttpRequest();\n\t\n\t      xhr.open('GET', url);\n\t      xhr.onreadystatechange = handler;\n\t      xhr.responseType = 'json';\n\t      xhr.setRequestHeader('Accept', 'application/json');\n\t      xhr.send();\n\t\n\t      function handler() {\n\t        if (this.readyState === this.DONE) {\n\t          if (this.status === 200) {\n\t            resolve(this.response);\n\t          } else {\n\t            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t          }\n\t        }\n\t      };\n\t    });\n\t  }\n\t\n\t  getJSON('/posts.json').then(function(json) {\n\t    // on fulfillment\n\t  }, function(reason) {\n\t    // on rejection\n\t  });\n\t  ```\n\t\n\t  Unlike callbacks, promises are great composable primitives.\n\t\n\t  ```js\n\t  Promise.all([\n\t    getJSON('/posts'),\n\t    getJSON('/comments')\n\t  ]).then(function(values){\n\t    values[0] // => postsJSON\n\t    values[1] // => commentsJSON\n\t\n\t    return values;\n\t  });\n\t  ```\n\t\n\t  @class Promise\n\t  @param {function} resolver\n\t  Useful for tooling.\n\t  @constructor\n\t*/\n\tfunction Promise(resolver) {\n\t  this[PROMISE_ID] = nextId();\n\t  this._result = this._state = undefined;\n\t  this._subscribers = [];\n\t\n\t  if (noop !== resolver) {\n\t    typeof resolver !== 'function' && needsResolver();\n\t    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n\t  }\n\t}\n\t\n\tPromise.all = all;\n\tPromise.race = race;\n\tPromise.resolve = resolve;\n\tPromise.reject = reject;\n\tPromise._setScheduler = setScheduler;\n\tPromise._setAsap = setAsap;\n\tPromise._asap = asap;\n\t\n\tPromise.prototype = {\n\t  constructor: Promise,\n\t\n\t  /**\n\t    The primary way of interacting with a promise is through its `then` method,\n\t    which registers callbacks to receive either a promise's eventual value or the\n\t    reason why the promise cannot be fulfilled.\n\t  \n\t    ```js\n\t    findUser().then(function(user){\n\t      // user is available\n\t    }, function(reason){\n\t      // user is unavailable, and you are given the reason why\n\t    });\n\t    ```\n\t  \n\t    Chaining\n\t    --------\n\t  \n\t    The return value of `then` is itself a promise.  This second, 'downstream'\n\t    promise is resolved with the return value of the first promise's fulfillment\n\t    or rejection handler, or rejected if the handler throws an exception.\n\t  \n\t    ```js\n\t    findUser().then(function (user) {\n\t      return user.name;\n\t    }, function (reason) {\n\t      return 'default name';\n\t    }).then(function (userName) {\n\t      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t      // will be `'default name'`\n\t    });\n\t  \n\t    findUser().then(function (user) {\n\t      throw new Error('Found user, but still unhappy');\n\t    }, function (reason) {\n\t      throw new Error('`findUser` rejected and we're unhappy');\n\t    }).then(function (value) {\n\t      // never reached\n\t    }, function (reason) {\n\t      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t    });\n\t    ```\n\t    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t  \n\t    ```js\n\t    findUser().then(function (user) {\n\t      throw new PedagogicalException('Upstream error');\n\t    }).then(function (value) {\n\t      // never reached\n\t    }).then(function (value) {\n\t      // never reached\n\t    }, function (reason) {\n\t      // The `PedgagocialException` is propagated all the way down to here\n\t    });\n\t    ```\n\t  \n\t    Assimilation\n\t    ------------\n\t  \n\t    Sometimes the value you want to propagate to a downstream promise can only be\n\t    retrieved asynchronously. This can be achieved by returning a promise in the\n\t    fulfillment or rejection handler. The downstream promise will then be pending\n\t    until the returned promise is settled. This is called *assimilation*.\n\t  \n\t    ```js\n\t    findUser().then(function (user) {\n\t      return findCommentsByAuthor(user);\n\t    }).then(function (comments) {\n\t      // The user's comments are now available\n\t    });\n\t    ```\n\t  \n\t    If the assimliated promise rejects, then the downstream promise will also reject.\n\t  \n\t    ```js\n\t    findUser().then(function (user) {\n\t      return findCommentsByAuthor(user);\n\t    }).then(function (comments) {\n\t      // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t    }, function (reason) {\n\t      // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t    });\n\t    ```\n\t  \n\t    Simple Example\n\t    --------------\n\t  \n\t    Synchronous Example\n\t  \n\t    ```javascript\n\t    let result;\n\t  \n\t    try {\n\t      result = findResult();\n\t      // success\n\t    } catch(reason) {\n\t      // failure\n\t    }\n\t    ```\n\t  \n\t    Errback Example\n\t  \n\t    ```js\n\t    findResult(function(result, err){\n\t      if (err) {\n\t        // failure\n\t      } else {\n\t        // success\n\t      }\n\t    });\n\t    ```\n\t  \n\t    Promise Example;\n\t  \n\t    ```javascript\n\t    findResult().then(function(result){\n\t      // success\n\t    }, function(reason){\n\t      // failure\n\t    });\n\t    ```\n\t  \n\t    Advanced Example\n\t    --------------\n\t  \n\t    Synchronous Example\n\t  \n\t    ```javascript\n\t    let author, books;\n\t  \n\t    try {\n\t      author = findAuthor();\n\t      books  = findBooksByAuthor(author);\n\t      // success\n\t    } catch(reason) {\n\t      // failure\n\t    }\n\t    ```\n\t  \n\t    Errback Example\n\t  \n\t    ```js\n\t  \n\t    function foundBooks(books) {\n\t  \n\t    }\n\t  \n\t    function failure(reason) {\n\t  \n\t    }\n\t  \n\t    findAuthor(function(author, err){\n\t      if (err) {\n\t        failure(err);\n\t        // failure\n\t      } else {\n\t        try {\n\t          findBoooksByAuthor(author, function(books, err) {\n\t            if (err) {\n\t              failure(err);\n\t            } else {\n\t              try {\n\t                foundBooks(books);\n\t              } catch(reason) {\n\t                failure(reason);\n\t              }\n\t            }\n\t          });\n\t        } catch(error) {\n\t          failure(err);\n\t        }\n\t        // success\n\t      }\n\t    });\n\t    ```\n\t  \n\t    Promise Example;\n\t  \n\t    ```javascript\n\t    findAuthor().\n\t      then(findBooksByAuthor).\n\t      then(function(books){\n\t        // found books\n\t    }).catch(function(reason){\n\t      // something went wrong\n\t    });\n\t    ```\n\t  \n\t    @method then\n\t    @param {Function} onFulfilled\n\t    @param {Function} onRejected\n\t    Useful for tooling.\n\t    @return {Promise}\n\t  */\n\t  then: then,\n\t\n\t  /**\n\t    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t    as the catch block of a try/catch statement.\n\t  \n\t    ```js\n\t    function findAuthor(){\n\t      throw new Error('couldn't find that author');\n\t    }\n\t  \n\t    // synchronous\n\t    try {\n\t      findAuthor();\n\t    } catch(reason) {\n\t      // something went wrong\n\t    }\n\t  \n\t    // async with promises\n\t    findAuthor().catch(function(reason){\n\t      // something went wrong\n\t    });\n\t    ```\n\t  \n\t    @method catch\n\t    @param {Function} onRejection\n\t    Useful for tooling.\n\t    @return {Promise}\n\t  */\n\t  'catch': function _catch(onRejection) {\n\t    return this.then(null, onRejection);\n\t  }\n\t};\n\t\n\tfunction polyfill() {\n\t    var local = undefined;\n\t\n\t    if (typeof global !== 'undefined') {\n\t        local = global;\n\t    } else if (typeof self !== 'undefined') {\n\t        local = self;\n\t    } else {\n\t        try {\n\t            local = Function('return this')();\n\t        } catch (e) {\n\t            throw new Error('polyfill failed because global object is unavailable in this environment');\n\t        }\n\t    }\n\t\n\t    var P = local.Promise;\n\t\n\t    if (P) {\n\t        var promiseToString = null;\n\t        try {\n\t            promiseToString = Object.prototype.toString.call(P.resolve());\n\t        } catch (e) {\n\t            // silently ignored\n\t        }\n\t\n\t        if (promiseToString === '[object Promise]' && !P.cast) {\n\t            return;\n\t        }\n\t    }\n\t\n\t    local.Promise = Promise;\n\t}\n\t\n\t// Strange compat..\n\tPromise.polyfill = polyfill;\n\tPromise.Promise = Promise;\n\t\n\treturn Promise;\n\t\n\t})));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28), (function() { return this; }())))\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _index = __webpack_require__(8);\n\t\n\tvar _index2 = __webpack_require__(14);\n\t\n\tvar _index3 = __webpack_require__(15);\n\t\n\tvar _index4 = __webpack_require__(11);\n\t\n\tvar _index5 = __webpack_require__(12);\n\t\n\tvar logger = _index4.LoggerFactory.get(\"UuApp.AppClient.Client\");\n\t\n\t/**\n\t * Creates an instance of command client which will use specified configuration when invoking commands.\n\t * Unspecified values are taken from global defaults ({@link UuApp.AppClient.Client.defaults Client.defaults}). Most\n\t * values can be further overridden when invoking the remote call - see {@link UuApp.AppClient.Client#post Client#post}.\n\t * \n\t * **Interceptors**\n\t * \n\t * It's possible to provide a list of interceptors which pre-/post-process HTTP requests. An interceptor\n\t * is a JavaScript function {Promise<Response>} interceptorFn({Object} request, {Object} options, {Function} nextInterceptorFn).\n\t * Request object contains fields uri, method, body and options object contains any remaining options passed down to\n\t * interceptors, e.g. transformParameters). Example:\n\t * \n\t *     function MyInterceptor(request, options, nextInterceptorFn) {\n\t *       // pre-process in any way\n\t *       request.headers[\"x-extra-header-computed-value\"] = Math.random() + \"\";\n\t *       console.log(\"Launching Ajax request. Method:\", request.method, \"Uri:\", request.uri, \"Parameters:\", request.body, \"Other options:\", options);\n\t *       var start = new Date().getTime();\n\t *       return nextInterceptorFn(request, options).then(function (response) {\n\t *         // post-process in any way, e.g. add extra field to the response object\n\t *         response.timeTaken = new Date().getTime() - start;\n\t *         return response;\n\t *       }, function error(response) {\n\t *         // ...\n\t *         return Promise.reject(response); // keep it rejected (i.e. in error state)\n\t *       });\n\t *     }\n\t *     \n\t *     // usage of the interceptor\n\t *     var client = new UuApp.AppClient.Client({\n\t *       interceptors: [MyInterceptor].concat(UuApp.AppClient.Client.defaults.interceptors)\n\t *     });\n\t *     \n\t * @class UuApp.AppClient.Client\n\t * @classdesc\n\t * The Client allows communication with remote uuOS9 endpoints which conform to uuUri format.\n\t * Besides communication, the client solves also other points of interest, such as authentication or\n\t * performance logging.\n\t * \n\t * Client uses standardized {@link https://developer.mozilla.org/cs/docs/Web/JavaScript/Reference/Global_Objects/Promise Promise API}\n\t * to provide access to the result of the call.\n\t * \n\t *     UuApp.AppClient.Client.get(\"/cds-gb/UU-BT/guestbook/123/getAttributes\").then(function (response) {\n\t *       console.log(response.data, response.status, response.headers());\n\t *     }, function (response) { // error\n\t *       console.log(response.error, response.status, response.headers());\n\t *     });\n\t * \n\t * When used as above, client uses global defaults (timeout, headers, ...). If the call needs to be parametrized, it can\n\t * be parametrized directly in {@link UuApp.AppClient.Client#post Client#post} ({@link UuApp.AppClient.Client#get Client#get})\n\t * call or, alternatively, a client instance can be created with defaults that override the global ones.\n\t * \n\t * For pre-/post-processing of HTTP requests use custom interceptors (see constructor).\n\t * \n\t * **Configuration**\n\t * \n\t * Some options are automatically configured from the environment during\n\t * {@link UuApp.Util.Config.init Config.init} call. These can be overridden when instantiating\n\t * the client or in method invocations. Supported environment options:\n\t * \n\t *     {\n\t *       \"gatewayUri\": \"https://uuappsg01.plus4u.net\", // default gateway for command calls using uuUri that doesn't contain gateway\n\t *       \"vendor-app-subapp-spp.gatewayUri\": \"https://elsewhere.plus4u.net\"\n\t *     }\n\t * \n\t * @param {Object} options Default options for this instance of the command client.\n\t * @param {number} options.requestTimeout The default HTTP timeout for this instance of the command client, in seconds.\n\t * @param {Object} options.headers The default HTTP headers for command invocations using this instance of the command client.\n\t * @param {Object[]} options.interceptors List of interceptors to use. Interceptors can arbitrarily pre-/post-process\n\t *   HTTP requests.\n\t * @param {*} options.* Any other parameters are passed to the interceptors. These can include environmental options such\n\t *   as \"gatewayUri\" which then take precedence over those from global environment.\n\t * \n\t * @example\n\t *    var client = new UuApp.AppClient.Client({\n\t *      requestTimeout: 20,\n\t *      headers: {\n\t *        \"x-my-extra-header\": \"abcd\"\n\t *      },\n\t *      interceptors: [MyInterceptor].concat(UuApp.AppClient.Client.defaults.interceptors)\n\t *    });\n\t * \n\t *    // ... all calls using \"client.get(...)\" or \"client.post()\" will have timeout 20s (unless the timeout\n\t *    // is overridden in the invoke call directly) and will have an extra HTTP header.\n\t */\n\tfunction Client(options) {\n\t  this.options = options || {};\n\t  this.options.headers = keysToLowerCase(this.options.headers);\n\t}\n\t\n\t/**\n\t * Global defaults for command client. \n\t * \n\t *     {\n\t *       requestTimeout: 300,   // timeout in seconds\n\t *       interceptors: [ // default set of interceptors\n\t *         // ...\n\t *       ]\n\t *     }\n\t * \n\t * @name UuApp.AppClient.Client.defaults\n\t */\n\tClient.defaults = {\n\t  requestTimeout: 300,\n\t  interceptors: [UriHandler, RemoteErrorHandler, UujsonHandler, TransformParametersHandler, PerfLogHandler]\n\t};\n\t\n\tfunction keysToLowerCase(map) {\n\t  if (!map || (typeof map === \"undefined\" ? \"undefined\" : _typeof(map)) != \"object\") return null;\n\t  var result = {};\n\t  for (var k in map) {\n\t    result[k.toLowerCase()] = map[k];\n\t  }return result;\n\t}\n\tClient.prototype.invoke = function (method, uri, parameters, options) {\n\t  // prepare data for interceptors & http client\n\t  var interceptorOpts = Object.assign({}, this.options, options);\n\t  delete interceptorOpts.requestTimeout;\n\t  delete interceptorOpts.headers;\n\t  delete interceptorOpts.interceptors;\n\t  var request = {\n\t    method: (method || \"post\").toLowerCase(),\n\t    uri: uri,\n\t    body: parameters,\n\t    headers: Object.assign({}, this.options.headers, keysToLowerCase((options || {}).headers))\n\t  };\n\t  var httpClientOpts = {\n\t    requestTimeout: (options || {}).requestTimeout != null ? (options || {}).requestTimeout : this.options.requestTimeout\n\t  };\n\t\n\t  // run interceptors (with 1st interceptor being the entry-point of the chain; last interceptor will continue with InvokeXhr method)\n\t  var interceptors = this.options.interceptors || this.constructor.defaults.interceptors || [];\n\t  var lastResponse;\n\t  var chainFn = interceptors.reduceRight(function (chainFn, interceptorFn) {\n\t    return function (req, opts) {\n\t      var result;\n\t      try {\n\t        result = interceptorFn(req, opts, chainFn);\n\t        if (!result || (typeof result === \"undefined\" ? \"undefined\" : _typeof(result)) != \"object\" || typeof result.then != \"function\") result = Promise.resolve(result);\n\t      } catch (e) {\n\t        result = Promise.reject(e);\n\t      }\n\t      // make sure that interceptor always returns \"response\" object\n\t      // (even if some unexpected / unhandled error happened)\n\t      return result.then(function (anyValue) {\n\t        var response = anyValue;\n\t        if (!anyValue || !(\"status\" in anyValue)) {\n\t          // it's not a \"response\" object and it's not rejected (i.e. bugged interceptor) => use it as \"data\" on last known \"response\"\n\t          logger.warn(\"Client interceptor %s resolved the promise into a value that is not a Response object - auto-wrapping.\", interceptorFn.name);\n\t          response = lastResponse || interceptorMakeResponse(null, req, opts);\n\t          if (anyValue !== undefined) response.data = anyValue; // don't overwrite data if interceptor just didn't use \"return response;\"\n\t        }\n\t        lastResponse = response;\n\t        if (lastResponse.error) logger.warn(\"Client interceptor %s resolved response successfully but kept the error object set - unsetting. Error object:\", interceptorFn.name, lastResponse.error);\n\t        lastResponse.error = null;\n\t        return response;\n\t      }, function wrapAsResponse(anyValue) {\n\t        if (!anyValue || !(\"status\" in anyValue)) {\n\t          // it's not a \"response\" object => take the last known \"response\" and update its \"error\" field\n\t          if (!lastResponse) lastResponse = interceptorMakeResponse(null, req, opts);\n\t          lastResponse.error = anyValue instanceof _index.Error ? anyValue : new _index.Error(\"Client interceptor \" + interceptorFn.name + \" ended with error.\", anyValue);\n\t        } else {\n\t          // it's a \"response\" object => use it as-is\n\t          lastResponse = anyValue;\n\t        }\n\t        return Promise.reject(lastResponse);\n\t      });\n\t    };\n\t  }, InvokeXhr.bind(null, this, httpClientOpts));\n\t  var resultPromise = chainFn(request, interceptorOpts);\n\t\n\t  // add support for aborting on-going requests\n\t  var aborted = false;\n\t  resultPromise.abort = function () {\n\t    aborted = true;\n\t    if (httpClientOpts.xhr) httpClientOpts.xhr.abort(); // Ajax might not have been called yet\n\t  };\n\t\n\t  return resultPromise;\n\t\n\t  function InvokeXhr(cmdClient, httpClientOpts, finalRequest, finalOpts) {\n\t    if (aborted) return Promise.reject(interceptorMakeResponse(null, finalRequest, { error: new _index.AbortError(\"The Client call has been aborted.\") }));\n\t\n\t    var xhr = httpClientOpts.xhr = new XMLHttpRequest();\n\t    return new Promise(function executor(resolve, reject) {\n\t      var canHaveBody = finalRequest.method.match(/^(put|post)$/i);\n\t      var url = finalRequest.uri.toString();\n\t      var body;\n\t      if (!canHaveBody) {\n\t        if (finalRequest.body) url += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + finalRequest.body;\n\t      } else {\n\t        body = finalRequest.body;\n\t      }\n\t      var headers = finalRequest.headers;\n\t      var timeout = httpClientOpts.requestTimeout = httpClientOpts.requestTimeout != null ? httpClientOpts.requestTimeout : cmdClient.constructor.defaults.requestTimeout;\n\t      if (logger.isDebugLoggable()) logger.debug(\"Invoking Ajax request.\", { method: finalRequest.method, url: url, body: body, requestTimeout: timeout, headers: headers });else if (logger.isInfoLoggable()) logger.info(\"Invoking Ajax request.\", { method: finalRequest.method, url: url });\n\t\n\t      xhr.open(finalRequest.method, url, true);\n\t      if (timeout > 0) xhr.timeout = timeout * 1000;\n\t      xhr.withCredentials = true;\n\t      for (var k in headers) {\n\t        var v = headers[k];\n\t        if (k && v != null) {\n\t          // omit \"Content-Type\" header if it's multipart/form-data, otherwise the browser doesn't update\n\t          // it with proper boundary and server won't be able to parse the body\n\t          if (k === \"content-type\" && body instanceof FormData && v === \"multipart/form-data\") continue;\n\t          xhr.setRequestHeader(k.replace(/(^|-)./g, function (m) {\n\t            return m.toUpperCase();\n\t          }), v + \"\");\n\t        }\n\t      }\n\t      xhr.ontimeout = function (e) {\n\t        // TimeoutError\n\t        logger.info(\"Request timed out.\", { url: url });\n\t        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.TimeoutError(\"Request timed out - \" + url) }));\n\t      };\n\t      xhr.onload = function (e) {\n\t        // status 200 - 5xx\n\t        if (logger.isDebugLoggable()) logger.debug(\"Received response.\", { url: url, status: xhr.status, data: xhr.response });else logger.info(\"Received response.\", { url: url, status: xhr.status });\n\t        resolve(interceptorMakeResponse(xhr, finalRequest, { data: xhr.response }));\n\t      };\n\t      xhr.onabort = function (e) {\n\t        // user / developer abort; AbortError\n\t        logger.info(\"Request has been aborted.\", { url: url });\n\t        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.AbortError(\"Request has been aborted - \" + url) }));\n\t      };\n\t      xhr.onerror = function (e) {\n\t        // network error; NetworkError\n\t        logger.info(\"Request ended with network error.\", { url: url });\n\t        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.NetworkError(\"Network error - \" + url), data: xhr.response }));\n\t      };\n\t      xhr.send(body);\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * Invokes remote call using HTTP GET request. See {@link UuApp.AppClient.Client#post Client#post}\n\t * for detailed options and behaviour.\n\t * \n\t * Keep in mind that the \"parameters\" parameter is sent via URL parameter(s)\n\t * and browsers impose limit to the maximal length of the URL. To be safe, limit the amount of data so that the URL\n\t * doesn't exceed 2048 bytes.\n\t * \n\t * @param {(string|UuApp.Uri.Uri)} uri Uri of the uuOS9 endpoint.\n\t * @param {*} parameters The parameters to send in the request URL.\n\t * @param {Object} options Optional options for the remote call.\n\t * @return Promise resolving to a response object (or rejecting to a response object with error field).\n\t * @method UuApp.AppClient.Client#get\n\t * @see {@link UuApp.AppClient.Client#post Client#post}\n\t * \n\t * @example\n\t *    // simple call\n\t *    var baseUri = Uri.parse(location.protocol + \"//\" + location.host + location.pathname).baseUri; // \"http://example.com/vendor-app/tid-awid\"\n\t *    Client.get(baseUri.join(\"+/getAttributes\"), { param1: \"v1\" }).then(function success(response) {\n\t *      var data = response.data; // contains parsed response entity\n\t *      console.log(response.status, response.headers(), response.data);\n\t *    }, function error(response) {\n\t *      var error = response.error; // contains parsed response error\n\t *      console.log(response.status, response.headers(), response.error);\n\t *    });\n\t *    \n\t * @example\n\t *    // parameterizing uuUri and the call\n\t *    var uri = new UuApp.Uri.UriBuilder(\"/cds-gb-main/0-0/getAttributes\", {\n\t *      workspace: \"15634-34e5684da3435\",\n\t *      useCase: \"/getConfig\",\n\t *      parameters: { p1: \"v1\" }\n\t *    }).toUri();\n\t *    client.get(uri, null, {\n\t *      requestTimeout: 5,\n\t *      headers: {\n\t *        \"x-my-header\": \"abc\"\n\t *      }\n\t *    }).then(console.log.bind(console), console.log.bind(console));\n\t *    \n\t * @example\n\t *    // accept any response and don't parse it\n\t *    var workspace = \"...\";\n\t *    var guestbookId = \"...\";\n\t *    client.get(`/cds-gb/${workspace}/guestbook/${guestbookId}/downloadData`, null, {\n\t *      transformResponse: false,\n\t *      headers: {\n\t *        \"accept\": \"*\\/*\"\n\t *      }\n\t *    }).then(console.log.bind(console), console.log.bind(console));\n\t */\n\tClient.prototype.get = function (uri, parameters, options) {\n\t  return this.invoke(\"get\", uri, parameters, options);\n\t};\n\t\n\t/**\n\t * Invokes remote call using HTTP POST request. Default values for settings will\n\t * be filled in from Client instance configuration and then from global defaults.\n\t * \n\t * The client serializes data to and from server using {@link UuApp.AppClient.Client.contentTransformers} according\n\t * to the specified \"content-type\" HTTP request/response header.\n\t * Default value for \"content-type\" request header for requests with body entity is \"application/json; charset=utf-8\",\n\t * except for case when sending {@link https://developer.mozilla.org/en-US/docs/Web/API/FormData FormData} object or \n\t * {@link https://developer.mozilla.org/en-US/docs/Web/API/File File} (or \n\t * {@link https://developer.mozilla.org/en-US/docs/Web/API/Blob Blob}) object for which the default value is\n\t * \"multipart/form-data\". Default accepted response (\"accept\" request header) is \"application/json\".\n\t * Note that default accepted response can be extended in the future to support formats such as MessagePack and others.\n\t * \n\t * **Return value**\n\t * \n\t * Return value is a {@link https://developer.mozilla.org/cs/docs/Web/JavaScript/Reference/Global_Objects/Promise Promise}\n\t * resolving / rejecting to a response object which contains following fields:\n\t * \n\t * * {Object} data - response data. Data is parsed with content handler according to \"content-type\" response header\n\t *     unless option transformResponse is false (in which case it's left as received from browser).\n\t * * {Error} error - the error instance (see Error handling below). This field is set if and only if the Promise is rejected. \n\t * * {number} status - the HTTP status code.\n\t * * {function(string)} headers - function which returns value of the specified (case-insenstive) response header.\n\t *   If called with no arguments, an array with all response headers is returned.\n\t * * {Object} config - final configuration options that were used for launching AJAX request.\n\t * \n\t * The returned Promise instance additionally contains method {function()} abort for aborting ongoing remote call.\n\t * \n\t * **File upload**\n\t * \n\t * Use \"content-type\" header with \"multipart/form-data\" value when uploading binary data (File, Blob). Alternatively, it's\n\t * possible to use standard {@link https://developer.mozilla.org/en-US/docs/Web/API/FormData FormData} object - see examples\n\t * below. Note that when using FormData object, the order of appending the form fields matters - append simple values first\n\t * and only in the end append file objects. The reason is that in this order, the server might decide not to allow the upload\n\t * based on the other already-available fields thus allowing to end the connection without full upload of the file(s).\n\t * _(Client will fix the order of values in FormData object, however not all browsers support this operation.)_\n\t * \n\t * Don't forget to **disable timeout when performing the upload** so that it doesn't get cancelled.  \n\t * \n\t * **Error handling**\n\t * \n\t * If an error happens during the call invocation (determined by HTTP response status code), the resulting Promise is\n\t * rejected with response object which will contain \"error\" field set to an instance of one of these error types\n\t * (when using default interceptors):\n\t * \n\t *   * null - if server sent response with error HTTP status code but it contained no recognizable error data.\n\t *   * {@link UuApp.Error.RemoteError} - error as sent from remote server. Note that the response can contain\n\t *     several errors - in such case only first error is extracted into \"error\" field.\n\t *   * {@link UuApp.Error.NetworkError} - in case of problems with connecting to remote server.\n\t *   * {@link UuApp.Error.TimeoutError} - when the request didn't end within specified timeout.\n\t *   * {@link UuApp.Error.AbortError} - when invocation is aborted by invoking promise.abort() method.\n\t *   \n\t * The resulting response object contains also HTTP status code and will contain \"data\"\n\t * field set to the response entity (usually containing parsed error list).\n\t * \n\t * **Timeout**\n\t * \n\t * The timeout applies to the remote call duration only. If an interceptor is used which performs lengthy or asynchronous\n\t * operation prior to executing the remote call, it's not counted towards the timeout.\n\t * \n\t * @param {(string|UuApp.Uri.Uri)} uri Uri of the uuOS9 endpoint.\n\t * @param {(FormData|*)} parameters The DTO to send in the request body.\n\t * @param {Object} options Optional options for the remote call.\n\t * @param {number} options.requestTimeout The timeout for the command invocation. Default is 300.\n\t * @param {Object} options.headers The HTTP headers to send. Header names are case-insensitive, but it's advised\n\t *   to use lowercased names to prevent duplicities within the map. Headers are merged with default headers from\n\t *   Client / global configuration. If a header is in defaults and it's required to prevent it from being\n\t *   sent during this invocation, specify the header and use null as its value. \n\t * @param {boolean} options.transformParameters If false, processing of the command parameters (DTO) will be skipped so they'll be\n\t *   sent exactly as-is (the browser must support sending the value as-is in XmlHttpRequest). Default value is true.\n\t * @param {boolean} options.transformResponse If false, processing of the response (such as parsing the response as JSON) will be skipped. Default is true.\n\t * @param {*} options.* Any other parameters are passed to the interceptors. These can include environmental options such\n\t *   as \"gatewayUri\" which then take precedence over those from global environment.\n\t * @return Promise resolving to a response object (or rejecting to a response object with error field).\n\t * @method UuApp.AppClient.Client#post\n\t * \n\t * @example\n\t *    // command call sending data \n\t *    var tenant = \"UU-BT\";\n\t *    var guestbookId = \"123\";\n\t *    client.post(`/cds-gb/${tenant}/guestbook/${guestbookId}/setAttributes`, {\n\t *      name: \"Modified guestbook\",\n\t *      invitesLimit: 10,\n\t *      public: true\n\t *    }).then(console.log.bind(console), console.log.bind(console));\n\t *    \n\t * @example\n\t *     // uploading file(s) - variant 1 (explicit Content-Type header)\n\t *     var file = inputElement.files[0];\n\t *     var params = {\n\t *       file: file,\n\t *       anotherValue: \"abc\"\n\t *     }\n\t *     client.post(\"/cds-gb/UU-BT/guestbook/123/uploadData\", params, {\n\t *       requestTimeout: 0,\n\t *       headers: {\n\t *         \"content-type\": \"multipart/form-data\"\n\t *       }\n\t *     });\n\t *     \n\t *     // uploading file(s) - variant 2 (usage of FormData)\n\t *     // !!! append files as the last values\n\t *     var formData = new FormData();\n\t *     formData.append(\"anotherValue\", \"abc\");\n\t *     formData.append(\"file\", file);\n\t *     var promise = client.post(\"/cds-gb/UU-BT/guestbook/123/uploadData\", formData, {\n\t *       requestTimeout: 0\n\t *     });\n\t *     promise.then(...); // process response / error\n\t *     \n\t *     // aborting ongoing call\n\t *     elementForUploadCancel.onclick = function (e) {\n\t *       promise.abort(); // promise will be rejected with UuApp.Error.AbortError instance\n\t *     };\n\t *     \n\t * @example\n\t *    // error distinguishing\n\t *    client.get(\"/cds-gb/UU-BT/guestbook/123/getAttributes\").then(function success(response) {\n\t *      console.log(response.status, response.headers(), response.data);\n\t *    }, function error(response) {\n\t *      console.log(response.status, response.headers(), response.data);\n\t *      var error = response.error;\n\t *      if (error instanceof UuApp.Error.TimeoutError) console.log(\"Timed out.\");\n\t *      else if (error instanceof UuApp.Error.AbortError) console.log(\"Aborted.\");\n\t *      else if (error instanceof UuApp.Error.NetworkError) console.log(\"Communication / network error.\");\n\t *      else if (response.status == 401) console.log(\"Not authenticated.\");\n\t *      else if (response.status < 500) {\n\t *        console.log(\"User or client problem - invalid data / unfulfilled business rules / invalid call / ...\", response.data);\n\t *      } else if (response.status >= 500) console.log(\"Server-side problem.\", response.data);\n\t *      else console.log(\"Unrecognized problem.\", error);\n\t *    });\n\t * \n\t * @example\n\t *    // send data in custom format\n\t *    client.post(\"/cds-gb/UU-BT/guestbook/123/setSomething\", convertToMySuperFormat(dto), {\n\t *      transformParameters: false,\n\t *      headers: {\n\t *        \"content-type\": \"text/x-my-super-format\"\n\t *      }\n\t *    }).then(console.log.bind(console), console.log.bind(console));\n\t */\n\tClient.prototype.post = function (uri, parameters, options) {\n\t  return this.invoke(\"post\", uri, parameters, options);\n\t};\n\t//  Client.prototype.put = function (uri, parameters, options) {\n\t//    return this.invoke(\"put\", uri, parameters, options);\n\t//  };\n\t//  Client.prototype.delete = function (uri, options) {\n\t//    return this.invoke(\"delete\", uri, null, options);\n\t//  };\n\t\n\tvar defClient;\n\t/**\n\t * Equivalent to {@link UuApp.AppClient.Client#get} using Client with default\n\t * configuration, i.e.:\n\t * \n\t *     new UuApp.AppClient.Client().get(uri, options)\n\t * \n\t * @see {@link UuApp.AppClient.Client#get Client#get}\n\t * @method UuApp.AppClient.Client.get\n\t */\n\tClient.get = function () /*uri, options*/{\n\t  if (!defClient) defClient = new Client();\n\t  return defClient.get.apply(defClient, arguments);\n\t};\n\t\n\t/**\n\t * Equivalent to {@link UuApp.AppClient.Client#post} using Client with default\n\t * configuration, i.e.:\n\t * \n\t *     new UuApp.AppClient.Client().post(uri, parameters, options)\n\t * \n\t * @see {@link UuApp.AppClient.Client#post Client#post}\n\t * @method UuApp.AppClient.Client.post\n\t */\n\tClient.post = function () /*uri, parameters, options*/{\n\t  if (!defClient) defClient = new Client();\n\t  return defClient.post.apply(defClient, arguments);\n\t};\n\t\n\t/**\n\t * Interceptor for finalizing uuUri URL in case it's incomplete (missing gateway).\n\t * \n\t * @name UuApp.AppClient.Client.UriHandler\n\t */\n\tClient.UriHandler = UriHandler;\n\tfunction UriHandler(request, options, nextInterceptorFn) {\n\t  // take gateway from environment only when gateway is missing in URI (and environment was initialized)\n\t  var uri = _index2.Uri.parse(request.uri);\n\t  request.uri = uri;\n\t  if (uri.gateway) return nextInterceptorFn(request, options);\n\t\n\t  function carryOn(env) {\n\t    if (baseUrl == null) {\n\t      var optName = uri.product + \".gatewayUri\"; // vendor-app-subapp-spp.gatewayUri\n\t      baseUrl = env ? env.get(optName) : null;\n\t      if (baseUrl == null) baseUrl = \"https://uuappsg01.plus4u.net\";\n\t    }\n\t\n\t    if (baseUrl) request.uri = _index2.UriBuilder.parse(uri).set({ gateway: baseUrl }).toUri();\n\t    return nextInterceptorFn(request, options);\n\t  }\n\t  var baseUrl = options[\"gatewayUri\"];\n\t  if (baseUrl == null) return Promise.resolve(_index3.Config.initPromise).then(carryOn);\n\t  return carryOn();\n\t}\n\t\n\t/**\n\t * Interceptor for extracting error information from response.\n\t * \n\t * @name UuApp.AppClient.Client.RemoteErrorHandler\n\t */\n\tClient.RemoteErrorHandler = RemoteErrorHandler;\n\tfunction RemoteErrorHandler(request, options, nextInterceptorFn) {\n\t  // NOTE We assume that the \"content-type\" transformation has been already performed on response data.\n\t  return nextInterceptorFn(request, options).then(checkError.bind(null, false), checkError.bind(null, true));\n\t\n\t  function checkError(isReject, response) {\n\t    if (response.status >= 400) {\n\t      var errorData = response.data;\n\t      // fill first error from response data into \"error\" field (if any)\n\t      if (errorData && (typeof errorData === \"undefined\" ? \"undefined\" : _typeof(errorData)) === \"object\" && \"uuAppErrorMap\" in errorData) {\n\t        var errorMap = errorData[\"uuAppErrorMap\"];\n\t        var firstErrorKey = null;\n\t        if (errorMap) for (var k in errorMap) {\n\t          if (errorMap[k] && errorMap[k].type === \"error\") {\n\t            firstErrorKey = k;\n\t            break;\n\t          }\n\t        }if (firstErrorKey) response.error = new _index.RemoteError(Object.assign({}, errorMap[firstErrorKey], { code: k }));\n\t      }\n\t      return Promise.reject(response);\n\t    }\n\t    return isReject ? Promise.reject(response) : response;\n\t  }\n\t}\n\t\n\t/**\n\t * In case uuJSON format is used, validates input parameters to match uuJSON specification\n\t * (including validation of declared schema to match invoked command) and ensures uuJSON\n\t * usage is properly reported to remote server.\n\t * \n\t * Recognized options:\n\t * \n\t * * uujson {boolean} - whether uuJSON format is used. Parameters must contain schema and data.\n\t *  \n\t * @name UuApp.AppClient.Client.UujsonHandler\n\t */\n\tClient.UujsonHandler = UujsonHandler;\n\tfunction UujsonHandler(request, options, nextInterceptorFn) {\n\t  var uri = _index2.Uri.parse(request.uri);\n\t  var isUujson = \"_uujson\" in uri.parameters || options[\"uujson\"];\n\t  if (isUujson) {\n\t    if (/^(put|post)$/i.test(request.method)) {\n\t      if (!(_typeof(request.body) == \"object\" && request.body && \"schema\" in request.body && \"data\" in request.body)) throw new _index.Error(\"DTO is not valid uuJSON - missing schema or data.\");\n\t      var schema = \"\" + uri.product + uri.useCase + \"-in\";\n\t      if (request.body[\"schema\"] !== schema) throw new _index.Error(\"DTO schema \" + request.body[\"schema\"] + \" does not match expected \" + schema);\n\t    }\n\t    request.uri = _index2.UriBuilder.parse(uri).setParameter(\"_uujson\", \"\").toUri();\n\t  }\n\t  return nextInterceptorFn(request, options); // no .then(...) - no response post-processing\n\t}\n\t\n\t/**\n\t * Interceptor for transforming request parameters / response entity according to the Content Type.\n\t * Recognized options:\n\t * \n\t * - transformParameters {boolean} - whether to transform (serialize by Content-Type) request body\n\t * - transformResponse {boolean} - whether to transform (deserialize by Content-Type) response body\n\t * - wrapQuery {boolean} - whether to wrap request body with { dto: ... }\n\t * \n\t * @name UuApp.AppClient.Client.TransformParametersHandler\n\t */\n\tClient.TransformParametersHandler = TransformParametersHandler;\n\tfunction TransformParametersHandler(request, options, nextInterceptorFn) {\n\t  function getMimeMainType(mimeType) {\n\t    return (mimeType || \"\").replace(/[+;].*/, \"\").trim();\n\t  }\n\t\n\t  // add default Content-Type & Accept headers\n\t  var paramsInBody = request.method.match(/^(put|post)$/i);\n\t  var contentTransformers = Client.contentTransformers || {};\n\t  var contentType = request.headers[\"content-type\"];\n\t  if (!(\"content-type\" in request.headers)) {\n\t    if (paramsInBody) {\n\t      var isMultipartPreferred = request.body != null && (request.body instanceof FormData || request.body instanceof Blob || _typeof(request.body) == \"object\" && Object.keys(request.body).some(function (it) {\n\t        return it instanceof FormData || it instanceof Blob;\n\t      }));\n\t      contentType = isMultipartPreferred ? \"multipart/form-data\" : \"application/json; charset=utf-8\";\n\t      request.headers[\"content-type\"] = contentType;\n\t    } else {\n\t      contentType = \"application/x-www-form-urlencoded\";\n\t    }\n\t  }\n\t  if (!(\"accept\" in request.headers)) request.headers[\"accept\"] = \"application/json\";\n\t\n\t  // wrap request data into \"dto\" parameter if requested to do so\n\t  if (options.transformParameters !== false && !paramsInBody && request.body != null && options.wrapQuery && contentType == \"application/x-www-form-urlencoded\") {\n\t    request.body = {\n\t      dto: JSON.stringify(request.body)\n\t    };\n\t  }\n\t\n\t  // transform request data\n\t  if (options.transformParameters !== false && request.body != null) {\n\t    var contentHandler = contentTransformers[getMimeMainType(contentType)];\n\t    try {\n\t      if (contentHandler) request.body = contentHandler.serialize(request.body);\n\t    } catch (e) {\n\t      throw new _index.Error(\"Error while serializing data.\", e);\n\t    }\n\t  }\n\t\n\t  // continue and transform response data afterwards (regardless of success / failure)\n\t  return nextInterceptorFn(request, options).then(transformResponse.bind(null, false), transformResponse.bind(null, true));\n\t\n\t  function transformResponse(isReject, response) {\n\t    if (options.transformResponse !== false) {\n\t      var respContentType = response.headers(\"content-type\");\n\t      var contentHandler = contentTransformers[getMimeMainType(respContentType)];\n\t      try {\n\t        if (contentHandler) response.data = contentHandler.deserialize(response.data);else if (response.status === 204) response.data = null;\n\t      } catch (e) {\n\t        throw new _index.Error(\"Error while deserializing response data.\", e);\n\t      }\n\t    }\n\t    return isReject ? Promise.reject(response) : response;\n\t  }\n\t}\n\t\n\t/**\n\t * Interceptor for performance logging.\n\t * \n\t * @name UuApp.AppClient.Client.PerfLogHandler\n\t */\n\tfunction PerfLogHandler(request, options, nextInterceptorFn) {\n\t  var promise;\n\t  _index5.PerfLog.measureSection(\"commandInvocation\", function (section) {\n\t    request.headers[\"x-request-id\"] = section.id;\n\t    promise = nextInterceptorFn(request, options);\n\t    return promise.then(function (response) {\n\t      section.attributes[\"uri\"] = request.uri;\n\t      return response;\n\t    }, function (response) {\n\t      section.attributes[\"uri\"] = request.uri;\n\t      return Promise.reject(response);\n\t    });\n\t  });\n\t  return promise;\n\t}\n\t\n\tfunction interceptorMakeResponse(xhr, request, extraFields) {\n\t  return Object.assign({\n\t    status: xhr ? xhr.status : 0,\n\t    headers: function headers(aHeader) {\n\t      if (!aHeader) return xhr ? xhr.getAllResponseHeaders() : [];\n\t      return xhr ? xhr.getResponseHeader(aHeader) : null;\n\t    }\n\t  }, extraFields);\n\t}\n\t\n\tvar Json = {\n\t  serialize: function serialize(value) {\n\t    return JSON.stringify(value);\n\t  },\n\t  deserialize: function deserialize(value) {\n\t    return value ? JSON.parse(value) : null;\n\t  }\n\t};\n\tvar Form = {\n\t  serialize: function serialize(value) {\n\t    if (value == null) return value;\n\t    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n\t      logger.warn(\"Unrecognized value when serializing as application/x-www-form-urlencoded - passing as-is. Value:\", { value: value });\n\t      return value;\n\t    }\n\t    var result = [];\n\t    for (var k in value) {\n\t      result.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(value[k]));\n\t    }return result.join(\"&\");\n\t  },\n\t  deserialize: function deserialize(value) {\n\t    if (value == null) return value;\n\t    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n\t      logger.warn(\"Unrecognized value when deserializing as application/x-www-form-urlencoded - passing as-is. Value:\", { value: value });\n\t      return value;\n\t    }\n\t    var pairs = value.replace(/\\+/g, \" \").split(\"&\");\n\t    var result = {};\n\t    for (var i = 0; i < pairs.length; ++i) {\n\t      var pair = pairs[i];\n\t      pair.replace(/^([^=]*)=?(.*)$/, function (m, g1, g2) {\n\t        return result[decodeURIComponent(g1)] = decodeURIComponent(g2);\n\t      });\n\t    }\n\t    return result;\n\t  }\n\t};\n\tvar MultiPart = {\n\t  serialize: function serialize(value) {\n\t    if (!value) return value;\n\t    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n\t      logger.warn(\"Unrecognized value when serializing as multipart/form-data - passing as-is. Value:\", { value: value });\n\t      return value;\n\t    }\n\t    if (value instanceof FormData && typeof value.entries != \"function\") return value; // FormData without support for iterating over its entries\n\t    if (value instanceof Blob) value = { file: value };\n\t\n\t    // make a list and reorder values so that the File instances are at the end of the list\n\t    var data = {};\n\t    if (value instanceof FormData) {\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = value.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var pair = _step.value;\n\t          data[pair[0]] = pair[1];\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t    } else {\n\t      data = value;\n\t    }\n\t    var list = [];\n\t    for (var k in data) {\n\t      list.push({ key: k, value: data[k], i: list.length });\n\t    }var max = list.length;\n\t    list.sort(function (a, b) {\n\t      // stable sort\n\t      return (a.value instanceof File ? a.i + max : a.i) - (b.value instanceof File ? b.i + max : b.i);\n\t    });\n\t\n\t    // fill values into FormData\n\t    var formData = new FormData();\n\t    list.forEach(function (it) {\n\t      return formData.append(it.key, it.value);\n\t    });\n\t    return formData;\n\t  },\n\t  deserialize: function deserialize(value) {\n\t    throw new _index.Error(\"Deserializing multipart/form-data is not supported. Value: \" + value);\n\t  }\n\t};\n\t\n\t/**\n\t * Transformers which serialize / deserialize content that is sent to / received from\n\t * server using specific MIME type.\n\t */\n\tClient.contentTransformers = {\n\t  \"application/json\": Json,\n\t  // \"application/json+extended\": Json,\n\t  //\"application/x-msgpack\": MessagePack,\n\t  //\"application/msgpack\": MessagePack,\n\t  \"application/x-www-form-urlencoded\": Form,\n\t  \"multipart/form-data\": MultiPart\n\t};\n\t\n\tmodule.exports = Client;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Client = undefined;\n\t\n\tvar _Client = __webpack_require__(30);\n\t\n\tvar _Client2 = _interopRequireDefault(_Client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Client = _Client2.default;\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Error = __webpack_require__(1);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Creates new AbortError.\n\t * \n\t * @classdesc\n\t * Represents an error when operation was aborted by user.\n\t * \n\t * @constructor UuApp.Error.AbortError\n\t */\n\tfunction AbortError() {\n\t  _Error2.default.apply(this, arguments);\n\t}\n\tAbortError.prototype = Object.create(_Error2.default.prototype);\n\tAbortError.prototype.constructor = AbortError;\n\t\n\texports.default = AbortError;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Error = __webpack_require__(1);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Creates new NetworkError.\n\t * \n\t * @classdesc\n\t * Represents an error when operation ended with network failure (host lookup, disconnection, ...).\n\t * \n\t * @constructor UuApp.Error.NetworkError\n\t */\n\tfunction NetworkError() {\n\t  _Error2.default.apply(this, arguments);\n\t}\n\tNetworkError.prototype = Object.create(_Error2.default.prototype);\n\tNetworkError.prototype.constructor = NetworkError;\n\t\n\texports.default = NetworkError;\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Error = __webpack_require__(1);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Creates new RemoteError.\n\t * \n\t * @classdesc\n\t * Represents an error that happened on a remote server.\n\t * \n\t * @param {Object} errorObject Object containing error fields (id, status, code, message, ...).\n\t * @constructor UuApp.Error.RemoteError\n\t */\n\tfunction RemoteError(errorObject) {\n\t  _Error2.default.apply(this, arguments);\n\t  delete this.stack; // not interested in client-side stack for remote errors\n\t}\n\tRemoteError.prototype = Object.create(_Error2.default.prototype);\n\tRemoteError.prototype.constructor = RemoteError;\n\t/**\n\t * The unique identifier of this instance of the remote error.\n\t * @name UuApp.Error.RemoteError#id\n\t */\n\t/**\n\t * The code of the remote error.\n\t * @name UuApp.Error.RemoteError#code\n\t */\n\t/**\n\t * The message of the remote error.\n\t * @name UuApp.Error.RemoteError#message\n\t */\n\t/**\n\t * Additional parameters of the remote error.\n\t * @name UuApp.Error.RemoteError#paramMap\n\t */\n\t/**\n\t * The cause of the remote error.\n\t * @name UuApp.Error.RemoteError#cause\n\t */\n\t\n\texports.default = RemoteError;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Error = __webpack_require__(1);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Creates new TimeoutError.\n\t * \n\t * @classdesc\n\t * Represents an error when operation doesn't finish within required timeout.\n\t * \n\t * @constructor UuApp.Error.TimeoutError\n\t */\n\tfunction TimeoutError() {\n\t  _Error2.default.apply(this, arguments);\n\t}\n\tTimeoutError.prototype = Object.create(_Error2.default.prototype);\n\tTimeoutError.prototype.constructor = TimeoutError;\n\t\n\texports.default = TimeoutError;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _LoggerFactory = __webpack_require__(10);\n\t\n\tvar _LoggerFactory2 = _interopRequireDefault(_LoggerFactory);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar perfLog = _LoggerFactory2.default.get(\"UuApp.Perflog.PerfLog\", false);\n\t\n\tvar PerfLog = {\n\t  measureSection: function measureSection(name /*, (optional) attrs, measuredFn*/) {\n\t    var measuredFn = arguments[arguments.length - 1];\n\t    var attrs = arguments.length > 2 ? arguments[1] : null;\n\t    var section = new Section(createSectionId(), name, attrs);\n\t    var r;\n\t    try {\n\t      r = Promise.resolve(measuredFn(section));\n\t    } catch (e) {\n\t      r = Promise.reject(e);\n\t    }\n\t    function close() {\n\t      section.close();\n\t    }\n\t    return r.then(close, close);\n\t  }\n\t};\n\t\n\tvar Section = function Section(id, name, attrs) {\n\t  this.id = id;\n\t  this.name = name;\n\t  this.attributes = attrs || {};\n\t  this.checkpoints = {};\n\t  this.start = Date.now();\n\t};\n\tSection.prototype.setCheckpoint = function (name) {\n\t  this.checkpoints[name] = Date.now;\n\t};\n\tSection.prototype.close = function () {\n\t  if (this.finish) return;\n\t  this.finish = Date.now();\n\t  this.duration = this.finish - this.start;\n\t  perfLog.info(JSON.stringify(this));\n\t};\n\t\n\tvar rootId;\n\tfunction createSectionId() {\n\t  if (!rootId) rootId = createIdSegment();\n\t  var childId = createIdSegment();\n\t  return rootId + \"-\" + rootId + \"-\" + childId + \"-0000\";\n\t}\n\tfunction createIdSegment() {\n\t  var s = [];\n\t  for (var i = 0; i < 4; ++i) {\n\t    s.push((Math.random() * 65536 | 0).toString(16));\n\t  } // 4 * 4 hexa digits\n\t  return s.join(\"\");\n\t}\n\t\n\texports.default = PerfLog;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _es6Promise = __webpack_require__(29);\n\t\n\tvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\t\n\tvar _objectAssign = __webpack_require__(27);\n\t\n\tvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// Promise API (IE)\n\t_es6Promise2.default.polyfill();\n\t\n\t// Object.assign (IE)\n\tif (!Object.assign) Object.assign = _objectAssign2.default;\n\t\n\t// document.baseURI (IE)\n\tif (typeof document !== \"undefined\" && !document.baseURI) {\n\t  var baseEl = document.querySelector(\"base\");\n\t  if (baseEl) document.baseURI = baseEl.href;else document.baseURI = location.href;\n\t}\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar Err = __webpack_require__(1);\n\tvar Uri = __webpack_require__(13);\n\tvar UriParser = __webpack_require__(39);\n\t\n\t/**\n\t * Creates an instance of UriBuilder.\n\t * \n\t * @class UuApp.Uri.UriBuilder\n\t * @classdesc\n\t * Class for building uuUri. Typical usage:\n\t *     \n\t *     // starting from current location\n\t *     var uriBuilder = UriBuilder.parse(location.protocol + \"//\" + location.host + location.pathname);\n\t *     var uri1 = uriBuilder.setUseCase(\"/sys/init\").setParameters({ p1: \"v1\" }).toUri();\n\t *     console.log(uri1.toString()); // <gateway>/<product>/<workspace>/sys/init?p1=v1\n\t *     \n\t *     // starting anew, using gateway from main HTML page location\n\t *     var gateway = location.origin || (location.protocol + \"//\" + location.host);\n\t *     var uri2 = UriBuilder.set({\n\t *       gateway: gateway,\n\t *       product: \"uu-demoapp-main\",\n\t *       workspace: \"tid123-awid456\",\n\t *       parameters: { p1: \"v1\", p2: \"v2\" }\n\t *     }).toUri(); // <gatewayFromMainPage>/uu-demoapp-main/tid123-awid456?p1=v1&p2=v2\n\t *     \n\t *     // parameters example\n\t *     var uriBuilder = UriBuilder.parse(uri2);\n\t *     var uri3 = uriBuilder.deleteParameter(\"p1\").mergeParameters({ p3: \"v3\" }).toUri();\n\t *     console.log(uri3.toString()); // <gatewayFromMainPage>/uu-demoapp-main/tid123-awid456?p2=v2&p3=v3\n\t *\n\t * @see {@link UuApp.Uri.UriBuilder.parse UriBuilder.parse}\n\t * @see {@link UuApp.Uri.UriBuilder.set UriBuilder.set}\n\t * @see {@link UuApp.Uri.UriBuilder#toUri UriBuilder#toUri}\n\t */\n\t\n\tfunction UriBuilder() {\n\t  var _this = this;\n\t\n\t  var self = this;\n\t  if (!(self instanceof UriBuilder)) return new (UriBuilder.bind.apply(UriBuilder, arguments))(); // make an instance even if developer forgot to use \"new\" keyword\n\t\n\t  // define properties (setters have validation)\n\t  var priv = { parameters: {} };\n\t  /** @name UuApp.Uri.UriBuilder#scheme */\n\t  /** @name UuApp.Uri.UriBuilder#hostname */\n\t  /** @name UuApp.Uri.UriBuilder#vendor */\n\t  /** @name UuApp.Uri.UriBuilder#app */\n\t  /** @name UuApp.Uri.UriBuilder#subApp */\n\t  /** @name UuApp.Uri.UriBuilder#spp */\n\t  /** @name UuApp.Uri.UriBuilder#tid */\n\t  /** @name UuApp.Uri.UriBuilder#awid */\n\t  /** @name UuApp.Uri.UriBuilder#useCase */\n\t  [\"scheme\", \"hostname\", \"vendor\", \"app\", \"subApp\", \"spp\", \"tid\", \"awid\", \"useCase\"].forEach(function (attr) {\n\t    var validateFn = UriParser[\"validate\" + attr.replace(/^./, function (m) {\n\t      return m.toUpperCase();\n\t    })];\n\t    Object.defineProperty(_this, attr, {\n\t      get: function get() {\n\t        return priv[attr];\n\t      },\n\t      set: function set(value) {\n\t        if (value != null) validateFn(value);\n\t        priv[attr] = value != null ? value : null;\n\t      }\n\t    });\n\t  });\n\t  Object.defineProperties(this, {\n\t    /** @name UuApp.Uri.UriBuilder#port */\n\t    port: {\n\t      get: function get() {\n\t        return priv.port != null ? Number(priv.port) : priv.port;\n\t      }, // convert to number\n\t      set: function set(value) {\n\t        if (value != null) UriParser.validatePort(value);\n\t        priv.port = value != null ? value : null;\n\t      }\n\t    },\n\t    /** @name UuApp.Uri.UriBuilder#gateway */\n\t    gateway: {\n\t      get: function get() {\n\t        return UriBuilder.formatGateway(priv.scheme, priv.hostname, priv.port);\n\t      },\n\t      set: function set(value) {\n\t        var obj = value != null ? UriParser.parseGateway(value) : null;\n\t        priv.scheme = obj && obj.scheme || null;\n\t        priv.hostname = obj && obj.hostname || null;\n\t        priv.port = obj && obj.port != null ? obj.port : null;\n\t      }\n\t    },\n\t    /** @name UuApp.Uri.UriBuilder#product */\n\t    product: {\n\t      get: function get() {\n\t        return UriBuilder.formatProduct(priv.vendor, priv.app, priv.subApp, priv.spp);\n\t      },\n\t      set: function set(value) {\n\t        var obj = value ? UriParser.parseProduct(value) : {};\n\t        priv.vendor = obj.vendor || null;\n\t        priv.app = obj.app || null;\n\t        priv.subApp = obj.subApp || null;\n\t        priv.spp = obj.spp || null;\n\t      }\n\t    },\n\t    /** @name UuApp.Uri.UriBuilder#workspace */\n\t    workspace: {\n\t      get: function get() {\n\t        return UriBuilder.formatWorkspace(priv.tid, priv.awid);\n\t      },\n\t      set: function set(value) {\n\t        var obj = value ? UriParser.parseWorkspace(value) : {};\n\t        priv.tid = obj.tid || null;\n\t        priv.awid = obj.awid || null;\n\t      }\n\t    },\n\t    /**\n\t     * Map containing query parameters. If there're no parameters, empty map is returned (not a null).\n\t     * Note that each access returns new copy of the map (to prevent modification of the map without\n\t     * validating the values / keys).\n\t     * \n\t     *     // BAD (uri.parameters returns copy; modification is not propagated back to UriBuilder)\n\t     *     uriBuilder.parameters[\"myParam\"] = \"value\";\n\t     *     \n\t     *     // GOOD\n\t     *     uriBuilder.setParameter(\"myParam\", \"value\");\n\t     * \n\t     * @name UuApp.Uri.UriBuilder#parameters\n\t     */\n\t    parameters: {\n\t      get: function get() {\n\t        return Object.assign({}, priv.parameters);\n\t      },\n\t      set: function set(value) {\n\t        priv.parameters = {};\n\t        if (value) for (var k in value) {\n\t          this.setParameter(k, value[k]);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  /**\n\t   * Sets query parameter with given name to given value.\n\t   * \n\t   * @param {string} name The parameter name.\n\t   * @param {string} value The parameter value.\n\t   * @return This UriBuilder instance for chaining operations.\n\t   * @method UuApp.Uri.UriBuilder#setParameter\n\t   */\n\t  this.setParameter = function (name, value) {\n\t    UriParser.validateParameterName(name);\n\t    UriParser.validateParameterValue(value);\n\t    priv.parameters[name] = value;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Removes query parameter with given name.\n\t   * \n\t   * @param {string} name The parameter name.\n\t   * @return This UriBuilder instance for chaining operations.\n\t   * @method UuApp.Uri.UriBuilder#deleteParameter\n\t   */\n\t  this.deleteParameter = function (name) {\n\t    UriParser.validateParameterName(name);\n\t    delete priv.parameters[name];\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Removes all query parameters.\n\t   * \n\t   * @return This UriBuilder instance for chaining operations.\n\t   * @method UuApp.Uri.UriBuilder#clearParameters\n\t   */\n\t  this.clearParameters = function () {\n\t    priv.parameters = {};\n\t    return this;\n\t  };\n\t}\n\t\n\t/**\n\t * Parses URI string (or Uri instance) and resets all fields of this UriBuilder\n\t * to parsed values.\n\t * \n\t * @param {(string|UuApp.Uri.Uri)} uri URI to parse.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#parse\n\t */\n\tUriBuilder.prototype.parse = function (uriObj) {\n\t  var uri = typeof uriObj == \"string\" ? UriParser.parse(uriObj, UriBuilder).toUri() : uriObj;\n\t  this.gateway = uri.gateway;\n\t  this.product = uri.product;\n\t  this.workspace = uri.workspace;\n\t  this.useCase = uri.useCase;\n\t  this.parameters = uri.parameters;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Equivalent to <code>new UriBuilder().parse(uri)</code>.\n\t * \n\t * @param {(string|UuApp.Uri.Uri)} uri URI to parse.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.parse\n\t * @see UuApp.Uri.UriBuilder#parse\n\t */\n\tUriBuilder.parse = function (uri) {\n\t  return new UriBuilder().parse(uri);\n\t};\n\t\n\t/**\n\t * Sets fields of this UriBuilder to given values.\n\t * \n\t * @param {...Object} fieldMap Object(s) containing fields to set to this UriBuilder. If more objects are given,\n\t *   fields in latter ones override fields in former ones.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#set\n\t * @example\n\t *   // replace spp, awid & remove useCase\n\t *   var resUri = UriBuilder.parse(someUri).set({\n\t *     spp: \"async\",\n\t *     awid: \"12345\",\n\t *     useCase: null\n\t *   }).toUri();\n\t *   \n\t *   // multiple settings\n\t *   var defaults = { gateway: \"...\", product: \"uu-demoapp-main\", tid: \"0\", awid: \"0\" };\n\t *   var resUri = UriBuilder.set(defaults, {\n\t *     tid: \"12f34\", // overrides the one from \"defaults\" variable\n\t *     useCase: \"/getData\"\n\t *   }).toUri();\n\t */\n\tUriBuilder.prototype.set = function () /* ... */{\n\t  for (var i = 0; i < arguments.length; ++i) {\n\t    var hash = arguments[i];\n\t    if (!hash) continue;\n\t    if ((typeof hash === \"undefined\" ? \"undefined\" : _typeof(hash)) != \"object\") continue;\n\t    for (var k in hash) {\n\t      this[k] = hash[k];\n\t    }\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Equivalent to <code>new UriBuilder().set(...)</code>.\n\t * \n\t * @param {...Object} fieldMap Object(s) containing fields to set to the UriBuilder. If more objects are given,\n\t *   fields in latter ones override fields in former ones.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.set\n\t * @see UuApp.Uri.UriBuilder#set\n\t */\n\tUriBuilder.set = function () /* ... */{\n\t  var builder = new UriBuilder();\n\t  return builder.set.apply(builder, arguments);\n\t};\n\t\n\t// add chainable setter functions\n\t/**\n\t * Equivalent to <code>new UriBuilder().setScheme(value)</code>.\n\t * \n\t * @param {string} value Scheme to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setScheme\n\t * @see UuApp.Uri.UriBuilder#setScheme\n\t */\n\t/**\n\t * Chainable setter for scheme.\n\t * \n\t * @param {string} value Scheme to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setScheme\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setHostname(value)</code>.\n\t * \n\t * @param {string} value Hostname to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setHostname\n\t * @see UuApp.Uri.UriBuilder#setHostname\n\t */\n\t/**\n\t * Chainable setter for hostname.\n\t * \n\t * @param {string} value Hostname to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setHostname\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setPort(value)</code>.\n\t * \n\t * @param {(string|number)} value Port to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setPort\n\t * @see UuApp.Uri.UriBuilder#setPort\n\t */\n\t/**\n\t * Chainable setter for port.\n\t * \n\t * @param {string} value Port to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setPort\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setGateway(value)</code>.\n\t * \n\t * @param {string} value Gateway to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setGateway\n\t * @see UuApp.Uri.UriBuilder#setGateway\n\t */\n\t/**\n\t * Chainable setter for gateway.\n\t * \n\t * @param {string} value Gateway to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setGateway\n\t */\n\t\n\t/**\n\t * Equivalent to <code>new UriBuilder().setVendor(value)</code>.\n\t * \n\t * @param {string} value Vendor to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setVendor\n\t * @see UuApp.Uri.UriBuilder#setVendor\n\t */\n\t/**\n\t * Chainable setter for vendor.\n\t * \n\t * @param {string} value Vendor to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setVendor\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setApp(value)</code>.\n\t * \n\t * @param {string} value Application to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setApp\n\t * @see UuApp.Uri.UriBuilder#setApp\n\t */\n\t/**\n\t * Chainable setter for application.\n\t * \n\t * @param {string} value Application to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setApp\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setSubApp(value)</code>.\n\t * \n\t * @param {string} value Sub-application to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setSubApp\n\t * @see UuApp.Uri.UriBuilder#setSubApp\n\t */\n\t/**\n\t * Chainable setter for sub-application.\n\t * \n\t * @param {string} value Sub-application to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setSubApp\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setSpp(value)</code>.\n\t * \n\t * @param {string} value SPP to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setSpp\n\t * @see UuApp.Uri.UriBuilder#setSpp\n\t */\n\t/**\n\t * Chainable setter for SPP.\n\t * \n\t * @param {string} value SPP to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setSpp\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setProduct(value)</code>.\n\t * \n\t * @param {string} value Product to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setProduct\n\t * @see UuApp.Uri.UriBuilder#setProduct\n\t */\n\t/**\n\t * Chainable setter for product.\n\t * \n\t * @param {string} value Product to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setProduct\n\t */\n\t\n\t/**\n\t * Equivalent to <code>new UriBuilder().setTid(value)</code>.\n\t * \n\t * @param {string} value Tenant ID to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setTid\n\t * @see UuApp.Uri.UriBuilder#setTid\n\t */\n\t/**\n\t * Chainable setter for tenant ID.\n\t * \n\t * @param {string} value Tenant ID to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setTid\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setAwid(value)</code>.\n\t * \n\t * @param {string} value Workspace ID to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setAwid\n\t * @see UuApp.Uri.UriBuilder#setAwid\n\t */\n\t/**\n\t * Chainable setter for workspace ID.\n\t * \n\t * @param {string} value Workspace ID to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setAwid\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setWorkspace(value)</code>.\n\t * \n\t * @param {string} value Workspace to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setWorkspace\n\t * @see UuApp.Uri.UriBuilder#setWorkspace\n\t */\n\t/**\n\t * Chainable setter for workspace.\n\t * \n\t * @param {string} value Workspace to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setWorkspace\n\t */\n\t\n\t/**\n\t * Equivalent to <code>new UriBuilder().setUseCase(value)</code>.\n\t * \n\t * @param {string} value Use case to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setUseCase\n\t * @see UuApp.Uri.UriBuilder#setUseCase\n\t */\n\t/**\n\t * Chainable setter for use case.\n\t * \n\t * @param {string} value Use case to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setUseCase\n\t */\n\t/**\n\t * Equivalent to <code>new UriBuilder().setParameters(value)</code>.\n\t * \n\t * @param {string} value Parameters to set.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setParameters\n\t * @see UuApp.Uri.UriBuilder#setParameters\n\t */\n\t/**\n\t * Chainable setter for parameters (replaces all parameters).\n\t * \n\t * @param {string} value Parameters to set.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#setParameters\n\t */\n\t[\"scheme\", \"hostname\", \"port\", \"gateway\", \"vendor\", \"app\", \"subApp\", \"spp\", \"product\", \"tid\", \"awid\", \"workspace\", \"useCase\", \"parameters\"].forEach(function (attr) {\n\t  var setterFnName = \"set\" + attr.replace(/^./, function (m) {\n\t    return m.toUpperCase();\n\t  });\n\t  UriBuilder.prototype[setterFnName] = function (value) {\n\t    // \"instance\" method\n\t    this[attr] = value;\n\t    return this;\n\t  };\n\t  UriBuilder[setterFnName] = function (value) {\n\t    // \"static\" method\n\t    return new UriBuilder()[setterFnName](value);\n\t  };\n\t});\n\t/**\n\t * Equivalent to <code>new UriBuilder().setParameter(name, value)</code>.\n\t * \n\t * @param {string} name The parameter name.\n\t * @param {string} value The parameter value.\n\t * @return New UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder.setParameter\n\t * @see UuApp.Uri.UriBuilder#setParameter\n\t */\n\tUriBuilder.setParameter = function (name, value) {\n\t  return new UriBuilder().setParameter(name, value);\n\t};\n\t\n\t/**\n\t * Merges (replaces / adds) provided parameters into the ones already present\n\t * in this UriBuilder.\n\t * \n\t * @param {Object} map Map with parameters to merge.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#mergeParameters\n\t */\n\tUriBuilder.prototype.mergeParameters = function (value) {\n\t  if (value) for (var k in value) {\n\t    this.setParameter(k, value[k]);\n\t  }return this;\n\t};\n\t\n\t/**\n\t * Replaces current path with specified absolute path (or adds a relative path to the current path) for this UriBuilder.\n\t * Works exactly the same way as {@link UuApp.Uri.Uri#join Uri#join} but returns UriBuilder instead of Uri.\n\t * \n\t * @param {...string} path Absolute or relative paths to replace / add.\n\t * @return This UriBuilder instance.\n\t * @method UuApp.Uri.UriBuilder#join\n\t * @see UuApp.Uri.Uri#join\n\t * @example\n\t *  // replace path with an absolute path\n\t *  var srcUri = \"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1\";\n\t *  var uriBuilder = UriBuilder.parse(srcUri);\n\t *  uriBuilder.join(\"/vendor2-app2/tid2-awid2\"); // https://uuos9.plus4u.net/vendor2-app2/tid2-awid2\n\t *  \n\t *  // add relative paths\n\t *  var uriBuilder = UriBuilder.parse(srcUri);\n\t *  uriBuilder.join(\"./sys/init?p=v\");         // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/sys/init\n\t *  var uriBuilder = UriBuilder.parse(srcUri);\n\t *  uriBuilder.join(\"+/sys/init?p=v\");         // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init\n\t */\n\tUriBuilder.prototype.join = function () /* ... */{\n\t  var uri = this.toUri();\n\t  return this.parse(uri.join.apply(uri, arguments));\n\t};\n\t\n\tvar uriPriv = Uri.priv;\n\t// delete Uri.priv;\n\t/**\n\t * Returns Uri instance from current values of this UriBuilder.\n\t * \n\t * @return {UuApp.Uri.Uri} Uri instance from current values of this UriBuilder.\n\t * @method UuApp.Uri.UriBuilder#toUri\n\t */\n\tUriBuilder.prototype.toUri = function () {\n\t  var missing = [];\n\t  if (this.scheme == null && (this.hostname != null || this.port != null)) missing.push(\"scheme\");\n\t  if (this.hostname == null && (this.scheme != null || this.port != null)) missing.push(\"hostname\");\n\t  if (this.vendor == null && (this.subApp != null || this.spp != null)) missing.push(\"vendor\");\n\t  if (this.app == null) missing.push(\"app\");\n\t  if (this.subApp == null && this.spp != null) missing.push(\"subApp\");\n\t  if (this.awid == null) missing.push(\"awid\");\n\t  if (missing.length) throw new Err(\"Missing Uri parts: \" + missing.join(\", \") + \". Values: \" + this.toString());\n\t\n\t  uriPriv.allowNew = true;\n\t  try {\n\t    return new Uri(this.scheme, this.hostname, this.port, this.vendor, this.app, this.subApp, this.spp, this.tid, this.awid, this.useCase, this.parameters);\n\t  } finally {\n\t    uriPriv.allowNew = false;\n\t  }\n\t};\n\t\n\tUriBuilder.prototype.toString = function () {\n\t  return JSON.stringify({\n\t    scheme: this.scheme, hostname: this.hostname, port: this.port,\n\t    vendor: this.vendor, app: this.app, subApp: this.subApp, spp: this.spp,\n\t    tid: this.tid, awid: this.awid, useCase: this.useCase, parameters: this.parameters\n\t  });\n\t};\n\t\n\t/**\n\t * Formats current values of this UriBuilder into a URI-like string.\n\t * \n\t * @return {string} Formatted string from current values of this UriBuilder.\n\t * @method UuApp.Uri.UriBuilder#format\n\t * @example\n\t *   var uriBuilder = UriBuilder.parse(\"https://uuos9.plus4u.net/vendor-app/tid-awid\");\n\t *   uriBuilder.format(); // https://uuos9.plus4u.net/vendor-app/tid-awid\n\t */\n\tUriBuilder.prototype.format = function () {\n\t  return UriBuilder.format(this.toUri());\n\t};\n\t\n\tUriBuilder.format = function (uri) {\n\t  return UriParser.format(uri);\n\t};\n\t\n\tUriBuilder.formatGateway = function (scheme, hostname, port) {\n\t  return UriParser.formatGateway(scheme, hostname, port);\n\t};\n\tUriBuilder.formatProduct = function (vendor, app, subApp, spp) {\n\t  return UriParser.formatProduct(vendor, app, subApp, spp);\n\t};\n\tUriBuilder.formatWorkspace = function (tid, awid) {\n\t  return UriParser.formatWorkspace(tid, awid);\n\t};\n\t\n\tUri.prototype.Builder = UriBuilder;\n\t\n\tmodule.exports = UriBuilder;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar Err = __webpack_require__(1);\n\t\n\tvar ASSET_CLASSIFIER = \"static|assets|public\";\n\tvar UNRESERVED = \"[\\\\w\\\\.\\\\-~]\";\n\tvar IDENTIFIER = \"[a-zA-Z0-9_]\";\n\tvar SCHEME = \"(\" + UNRESERVED + \"+)\";\n\t\n\t// No reason to match IPv4 (invalid IP address is always\n\t// matched as generic hostname - we cannot distinguish them)\n\t// IPV4_PART = \"(25[0-5]|2[0-5][0-9]|1[0-9][0-9]|[0-9][0-9]?)\"\n\t// IPV4 = \"(#{IPV4_PART}(\\\\.#{IPV4_PART}){3})\"\n\t\n\t// Only rough validation\n\t// see http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n\tvar IPV6_PART = \"([0-9a-fA-F]{1,4})\";\n\tvar IPV6 = \"(\\\\[\" + IPV6_PART + \"(:(\" + IPV6_PART + \")?){1,7}\\\\])\";\n\t\n\tvar HOSTNAME = \"(\" + IPV6 + \"|\" + UNRESERVED + \"+)\";\n\tvar PORT = \"(6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[0-5][0-9]{4}|[1-9][0-9]{0,3})\";\n\tvar GATEWAY = \"(\" + SCHEME + \"://\" + HOSTNAME + \"(:\" + PORT + \")?)\";\n\tvar VENDOR = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar APP = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar SUB_APP = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar SPP = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar PRODUCT = \"(?=[^/]{1,131}(?:/|$))((?:\" + VENDOR + \"\\\\-)?\" + APP + \"(?:\\\\-\" + SUB_APP + \"(?:\\\\-\" + SPP + \")?)?)\";\n\tvar TID = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar AWID = \"(\" + IDENTIFIER + \"{1,32})\";\n\tvar WORKSPACE = \"(?=[^/\\\\?]{1,65}(?:/|\\\\?|$))((?:\" + TID + \"\\\\-)?\" + AWID + \")\";\n\tvar USE_CASE = \"((?:/\" + UNRESERVED + \"*)*)\";\n\tvar PARAMETER_NAME = \"(?:\" + UNRESERVED + \"+)\";\n\tvar PARAMETER_VALUE = \"(?:[^=&]*)\";\n\tvar PARAMETER = \"(?:\" + PARAMETER_NAME + \"(?:=\" + PARAMETER_VALUE + \")?)\";\n\tvar PARAMETERS = \"(\" + PARAMETER + \"(?:&\" + PARAMETER + \")*)\";\n\tvar URI_REGEXP = new RegExp(\"^(?:\" + GATEWAY + \")?\\\\/\" + PRODUCT + \"\\\\/\" + WORKSPACE + USE_CASE + \"?(?:\\\\?\" + PARAMETERS + \"?)?$\");\n\t\n\t// console.log(\"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\".match(URI_REGEXP));                // non-opaque\n\t//\n\t// [\"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\", \"https://uuos9.plus4u.net:80\", \"https\", \"uuos9.plus4u.net\", undefined,\n\t//  undefined, undefined, undefined, undefined, \":80\",\n\t//  \"80\", \"vnd-app-subapp-spp\", \"vnd\", \"app\", \"subapp\",\n\t//  \"spp\", \"tid-awid\", \"tid\", \"awid\", \"/some/long/uc\",\n\t//  \"p1=v1&p2=v2&p3=%25\", index: 0, input: \"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\"]\n\t\n\tvar UriParser = {\n\t  ASSET_CLASSIFIER: ASSET_CLASSIFIER, UNRESERVED: UNRESERVED, IDENTIFIER: IDENTIFIER, SCHEME: SCHEME, IPV6_PART: IPV6_PART, IPV6: IPV6, HOSTNAME: HOSTNAME, PORT: PORT, GATEWAY: GATEWAY, VENDOR: VENDOR, APP: APP, SUB_APP: SUB_APP,\n\t  SPP: SPP, PRODUCT: PRODUCT, TID: TID, AWID: AWID, WORKSPACE: WORKSPACE, USE_CASE: USE_CASE, PARAMETER_NAME: PARAMETER_NAME, PARAMETER_VALUE: PARAMETER_VALUE, PARAMETER: PARAMETER, PARAMETERS: PARAMETERS, URI_REGEXP: URI_REGEXP,\n\t\n\t  parse: function parse(str, UriBuilder) {\n\t    if (!UriBuilder) throw new Err(\"UriBuilder must be provided.\");\n\t    var result = (str || \"\").match(URI_REGEXP);\n\t    //      console.log(result);\n\t    if (!result) throw new Err(\"Parse error - invalid uri: \" + (str || \"\"));\n\t    var uriBuilder = new UriBuilder().set({\n\t      scheme: result[2],\n\t      hostname: result[3],\n\t      port: result[10],\n\t      vendor: result[12],\n\t      app: result[13],\n\t      subApp: result[14],\n\t      spp: result[15],\n\t      tid: result[17],\n\t      awid: result[18],\n\t      useCase: result[19]\n\t    });\n\t    var params = result[20];\n\t    if (params) {\n\t      params.split(\"&\").forEach(function (pair) {\n\t        if (!pair) return;\n\t        var eqlSignIdx = pair.indexOf(\"=\");\n\t        var k = eqlSignIdx != -1 ? pair.substr(0, eqlSignIdx) : pair;\n\t        var v = eqlSignIdx != -1 ? pair.substr(eqlSignIdx + 1) : \"\";\n\t        uriBuilder.setParameter(k, decodeURIComponent(v)); // key contains only URL-safe characters\n\t      });\n\t    }\n\t    return uriBuilder;\n\t  },\n\t  format: function format(uri) {\n\t    var parts = [];\n\t    parts.push((uri.gateway || \"\") + \"/\" + (uri.product || \"\") + \"/\" + (uri.workspace || \"\"));\n\t    var uc = uri.useCase;\n\t    if (uc) {\n\t      if (uc.charAt(0) != \"/\") parts.push(\"/\");\n\t      parts.push(uc);\n\t    }\n\t    parts = [parts.join(\"\").replace(/\\/+$/, \"\")]; // remove all trailing slashes\n\t    var params = uri.parameters;\n\t    var paramKeys = Object.keys(params);\n\t    paramKeys.sort();\n\t    for (var i = 0; i < paramKeys.length; ++i) {\n\t      var k = paramKeys[i];\n\t      parts.push(i ? \"&\" : \"?\");\n\t      parts.push(k);\n\t      var value = params[k];\n\t      if (value == null || value === \"\") continue;\n\t      parts.push(\"=\");\n\t      parts.push(encodeURIComponent(value));\n\t    }\n\t    return parts.join(\"\");\n\t  },\n\t  parseGateway: function parseGateway(value) {\n\t    if (typeof value != \"string\") throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n\t    var result = value.match(new RegExp(\"^\" + GATEWAY + \"$\"));\n\t    if (!result) throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n\t    //  console.log(result);\n\t    //      [\"http://example.com:123\", \"http://example.com:123\", \"http\",\n\t    //       \"example.com\", undefined, undefined,\n\t    //       undefined, undefined, undefined,\n\t    //       \":123\", \"123\"]\n\t    return { scheme: result[2], hostname: result[3], port: result[10] };\n\t  },\n\t  formatGateway: function formatGateway(scheme, hostname, port) {\n\t    if (!scheme && !hostname && !port) return null;\n\t    UriParser.validateScheme(scheme);\n\t    UriParser.validateHostname(hostname);\n\t    if (port != null) UriParser.validatePort(port);\n\t    return scheme + \"://\" + hostname + (port != null ? \":\" + port : \"\");\n\t  },\n\t  parseProduct: function parseProduct(value) {\n\t    if (typeof value != \"string\") throw new InvalidUriPartError(\"product\", value, PRODUCT);\n\t    var result = value.match(new RegExp(\"^\" + PRODUCT + \"$\"));\n\t    if (!result) throw new InvalidUriPartError(\"product\", value, PRODUCT);\n\t    return { vendor: result[2], app: result[3], subApp: result[4], spp: result[5] };\n\t  },\n\t  formatProduct: function formatProduct(vendor, app, subApp, spp) {\n\t    if (!vendor && !app && !subApp && !spp) return null;\n\t    if (vendor) UriParser.validateVendor(vendor);\n\t    UriParser.validateApp(app);\n\t    if (subApp) UriParser.validateSubApp(subApp);\n\t    if (spp) UriParser.validateSpp(spp);\n\t\n\t    var result = [];\n\t    if (vendor) result.push(vendor + \"-\");\n\t    result.push(app);\n\t    if (subApp) result.push(\"-\" + subApp);\n\t    if (spp) result.push(\"-\" + spp);\n\t    return result.join(\"\");\n\t  },\n\t  parseWorkspace: function parseWorkspace(value) {\n\t    if (typeof value != \"string\") throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n\t    var result = value.match(new RegExp(\"^\" + WORKSPACE + \"$\"));\n\t    if (!result) throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n\t    return { tid: result[2], awid: result[3] };\n\t  },\n\t  formatWorkspace: function formatWorkspace(tid, awid) {\n\t    if (!tid && !awid) return null;\n\t    if (tid) UriParser.validateTid(tid);\n\t    UriParser.validateAwid(awid);\n\t\n\t    var result = [];\n\t    if (tid) result.push(tid + \"-\");\n\t    result.push(awid);\n\t    return result.join(\"\");\n\t  },\n\t  validateScheme: function validateScheme(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SCHEME + \"$\"))) throw new InvalidUriPartError(\"scheme\", value, SCHEME);\n\t  },\n\t  validateHostname: function validateHostname(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + HOSTNAME + \"$\"))) throw new InvalidUriPartError(\"hostname\", value, HOSTNAME);\n\t  },\n\t  validatePort: function validatePort(value) {\n\t    value = typeof value == \"number\" ? value + \"\" : value;\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PORT + \"$\"))) throw new InvalidUriPartError(\"port\", value, PORT);\n\t  },\n\t  validateGateway: function validateGateway(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + GATEWAY + \"$\"))) throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n\t  },\n\t  validateVendor: function validateVendor(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + VENDOR + \"$\"))) throw new InvalidUriPartError(\"vendor\", value, VENDOR);\n\t  },\n\t  validateApp: function validateApp(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + APP + \"$\"))) throw new InvalidUriPartError(\"app\", value, APP);\n\t  },\n\t  validateSubApp: function validateSubApp(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SUB_APP + \"$\"))) throw new InvalidUriPartError(\"subApp\", value, SUB_APP);\n\t  },\n\t  validateSpp: function validateSpp(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SPP + \"$\"))) throw new InvalidUriPartError(\"spp\", value, SPP);\n\t  },\n\t  validateProduct: function validateProduct(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PRODUCT + \"$\"))) throw new InvalidUriPartError(\"product\", value, PRODUCT);\n\t  },\n\t  validateTid: function validateTid(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + TID + \"$\"))) throw new InvalidUriPartError(\"tid\", value, TID);\n\t  },\n\t  validateAwid: function validateAwid(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + AWID + \"$\"))) throw new InvalidUriPartError(\"awid\", value, AWID);\n\t  },\n\t  validateWorkspace: function validateWorkspace(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + WORKSPACE + \"$\"))) throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n\t  },\n\t  validateUseCase: function validateUseCase(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + USE_CASE + \"$\"))) throw new InvalidUriPartError(\"useCase\", value, USE_CASE);\n\t  },\n\t  validateParameterName: function validateParameterName(value) {\n\t    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PARAMETER_NAME + \"$\"))) throw new InvalidUriPartError(\"parameterName\", value, PARAMETER_NAME);\n\t  },\n\t  validateParameterValue: function validateParameterValue(value) {\n\t    if (value != null && typeof value != \"string\") throw new InvalidUriPartError(\"parameterValue\", value, String);\n\t    // for our generic uuUri following check is always true; will skip for optimization\n\t    //      if (value != null && !encodeURIComponent(value).match(new RegExp(\"^\" + PARAMETER_VALUE + \"$\"))) throw new InvalidUriPartError(\"parameterValue\", value, PARAMETER_VALUE);\n\t  }\n\t};\n\t\n\tfunction InvalidUriPartError(partName, value, expected) {\n\t  var message;\n\t  if (typeof expected != \"string\") message = \"Value \\\"\" + value + \"\\\" of URI part [\" + partName + \"] must be \" + expected + \" but is typeof \" + (typeof value === \"undefined\" ? \"undefined\" : _typeof(value));else message = \"Value \\\"\" + value + \"\\\" of URI part [\" + partName + \"] does not match regular expression /\" + expected.replace(/\\//g, \"\\\\/\") + \"/\";\n\t  Err.call(this, message);\n\t}\n\tInvalidUriPartError.prototype = Object.create(Err.prototype);\n\tInvalidUriPartError.prototype.constructor = InvalidUriPartError;\n\t\n\tmodule.exports = UriParser;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t// NOTE If changed, update also JSDoc in Session.js.\n\texports.default = {\n\t    serverUri: \"https://oidc.plus4u.net/uu-oidcg01-main/0-0\",\n\t    sessionCheckInterval: 60\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SessionContext = function SessionContext(loginOptions, authResponse, claims) {\n\t  _classCallCheck(this, SessionContext);\n\t\n\t  this.loginOptions = loginOptions;\n\t  this.authResponse = authResponse;\n\t  this.claims = claims;\n\t\n\t  this.getClaims = function () {\n\t    return claims;\n\t  };\n\t\n\t  var identity;\n\t  this.getIdentity = function () {\n\t    if (identity) return identity;\n\t    return identity = {\n\t      id: claims[\"sub\"],\n\t      name: claims[\"name\"],\n\t      email: claims[\"email\"],\n\t      uuIdentity: claims[\"uu_identity\"],\n\t      levelOfAssurance: Number(claims[\"loa\"]),\n\t      loginLevelOfAssurance: Number(claims[\"acr\"])\n\t    };\n\t  };\n\t};\n\t\n\texports.default = SessionContext;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = SessionHandler;\n\t\n\tvar _uu_appg01_core = __webpack_require__(2);\n\t\n\tvar UuApp = _interopRequireWildcard(_uu_appg01_core);\n\t\n\tvar _Session = __webpack_require__(16);\n\t\n\tvar _Session2 = _interopRequireDefault(_Session);\n\t\n\tvar _StringUtil = __webpack_require__(22);\n\t\n\tvar _StringUtil2 = _interopRequireDefault(_StringUtil);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\t// NOTE Interceptor expects gateway present, i.e. it must be added after UriHandler.\n\t\n\t/**\n\t * @class UuOidc.SessionHandler\n\t * @classdesc\n\t * Interceptor for Client which authenticates command calls by using user from\n\t * current / specified session. Additionally, if server responds with authentication challenge\n\t * (e.g. user needs to login with more secure realm or re-login due to inactivity), the interceptor\n\t * performs session login and calls the command again.\n\t * \n\t * Interceptor is skipped if there's request header \"authorization\" set for the command call, even\n\t * if the header value is null.\n\t * \n\t * **Configuration**\n\t * \n\t * Interceptor recognizes following options for command call:\n\t * \n\t * * uuoidc.loginParameters - object with extra parameters for login. See {@link UuOidc.Session#login} for supported values.\n\t * * session - the session to use for authentication. By default {@link UuOidc.Session.currentSession Session.currentSession} is used.\n\t * \n\t * **Error handling**\n\t * \n\t * Interceptor might cause the command call to fail with these errors (in addition to standard Client ones):\n\t * \n\t * * UuApp.Error.AbortError - in case that the command requires user to be logged in but the user refused to do so.\n\t */\n\tfunction SessionHandler(request, options, nextInterceptorFn) {\n\t  var hasCustomAuthn = \"authorization\" in request.headers;\n\t  if (hasCustomAuthn) return nextInterceptorFn(request, options);\n\t\n\t  var session = options.session || _Session2.default.currentSession;\n\t  var loginParams = options[\"uuoidc.loginParameters\"];\n\t  if (loginParams) loginParams = Object.keys(loginParams).reduce(function (r, k) {\n\t    return r[_StringUtil2.default.toSnakeCase(k)] = loginParams[k], r;\n\t  }, {});\n\t  var count = 0;\n\t\n\t  function runWith(extraLoginParams) {\n\t    if (++count > 5) throw new UuApp.Error.AbortError(\"Command invocation stopped because user was not able to fulfill login requirements for the command within \" + count + \" attempts.\");\n\t\n\t    // depending on presence of login parameters, either perform the log-in or just use the current user (even if not logged in)\n\t    var usedLoginParams = Object.assign({}, loginParams, extraLoginParams);\n\t    return (Object.keys(usedLoginParams).length > 0 ? session._login(usedLoginParams, true) : Promise.resolve(session)).catch(function (e) {\n\t      // if user login failed then abort or throw\n\t      if (e === false) throw new UuApp.Error.AbortError(\"Command invocation stopped because user refused to log in.\");\n\t      throw new UuApp.Error.Error(\"Command invocation stopped because of a login error.\", e);\n\t    }).then(function (session) {\n\t      var isAuthenticated = session.isAuthenticated();\n\t      if (isAuthenticated) {\n\t        var baseUri = request.uri.baseUri;\n\t        return Promise.resolve(session.getCallToken(baseUri.toString())).then(function (callToken) {\n\t          return { isAuthenticated: isAuthenticated, callToken: callToken };\n\t        });\n\t      }\n\t      return { isAuthenticated: isAuthenticated, callToken: null };\n\t    }).then(function (data) {\n\t      var isAuthenticated = data.isAuthenticated;\n\t      var callToken = data.callToken;\n\t      var authToken = callToken ? callToken.token : null;\n\t      if (authToken) request.headers[\"authorization\"] = [callToken.tokenType || \"Bearer\", authToken].join(\" \");\n\t      return nextInterceptorFn(request, options).catch(function (response) {\n\t        // check for special response values in WWW-Authenticate response header which indicates\n\t        // that we shall run login procedure with additional parameters and then try again the same command\n\t        var wwwAuthenticate = response.headers(\"www-authenticate\");\n\t        if (wwwAuthenticate) {\n\t          var valueMap = {};\n\t          wwwAuthenticate.replace(/^\\S+\\s+/, \"\").split(/,/).map(function (it) {\n\t            return it.trim();\n\t          }).forEach(function (it) {\n\t            // remove \"Bearer \"\n\t            var idx = it.indexOf(\"=\");\n\t            var key = decodeUriWithPlus(idx == -1 ? it : it.substr(0, idx));\n\t            var value = decodeUriWithPlus(idx == -1 ? \"\" : it.substr(idx + 1));\n\t            valueMap[key] = decodeUriWithPlus(value);\n\t          });\n\t\n\t          var relevantValues = Object.keys(valueMap).filter(function (key) {\n\t            return key.match(/^(max_age|acr_values|prompt|scope)$/);\n\t          }).reduce(function (r, k) {\n\t            return r[k] = valueMap[k], r;\n\t          }, {});\n\t          // if there's any of relevant keys in the WWW-Authenticate response header then\n\t          // re-run the whole OIDC Handler with those values sent to login\n\t          if (Object.keys(relevantValues).length > 0) return runWith(relevantValues);\n\t\n\t          // OI if we weren't logged in at the time of invocation and there's wwwAuthenticate then re-run also\n\t          if (!isAuthenticated) return runWith({ acr_values: \"1\" }); // require non-anonymous\n\t        }\n\t        return Promise.reject(response);\n\t      });\n\t    });\n\t  }\n\t  return runWith(null);\n\t}\n\t\n\tfunction decodeUriWithPlus(txt) {\n\t  return decodeURIComponent(txt.replace(/\\+/g, \" \"));\n\t}\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Discovery = __webpack_require__(4);\n\t\n\tvar _Discovery2 = _interopRequireDefault(_Discovery);\n\t\n\tvar _HttpClient = __webpack_require__(21);\n\t\n\tvar _HttpClient2 = _interopRequireDefault(_HttpClient);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar jwkSetCache = {};\n\tvar cacheBustCounter = 0;\n\t\n\t// JWK - JSON Web Key https://tools.ietf.org/html/rfc7517\n\t\n\tvar _class = function () {\n\t  function _class(options) {\n\t    _classCallCheck(this, _class);\n\t\n\t    if (!options || !options.serverUri) throw new Error(\"Jwks must be initialized with options containing serverUri.\");\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(_class, [{\n\t    key: \"getKey\",\n\t    value: function getKey(keyId, keyType) {\n\t      return this._getKey(keyId, keyType, false);\n\t    }\n\t  }, {\n\t    key: \"_getKey\",\n\t    value: function _getKey(keyId, keyType, forceKeySetReload) {\n\t      var _this = this;\n\t\n\t      // load set of OIDC server JSON Web Key-s\n\t      return _Discovery2.default.getMetadata(this.options.serverUri).then(function (metadata) {\n\t        // TODO Use also localStorage cache as optimization.\n\t        var jwkSetMeta = jwkSetCache[metadata.jwks_uri];\n\t        if (!jwkSetMeta || forceKeySetReload) {\n\t          var url = metadata.jwks_uri;\n\t          if (forceKeySetReload) url = url.replace(/(\\?.*)?$/, function (m) {\n\t            return \"?cachebust=\" + Date.now().toString(36) + \"_\" + (cacheBustCounter++).toString(36) + (m ? \"&\" + m.substr(1) : \"\");\n\t          });\n\t          jwkSetMeta = jwkSetCache[metadata.jwks_uri] = _HttpClient2.default.get(url).then(function (value) {\n\t            return { jwkSet: value, url: url };\n\t          });\n\t        }\n\t        return jwkSetMeta;\n\t      }).then(function (jwkSetMeta) {\n\t        var jwkSet = jwkSetMeta.jwkSet;\n\t        // choose key by id & type\n\t        var keys = jwkSet.keys;\n\t        if (keyId) keys = keys.filter(function (it) {\n\t          return it.kid === keyId;\n\t        }); // if specific key ID is used then use it (note that there might still be multiple of keys in the result)\n\t        if (keyType) keys = keys.filter(function (it) {\n\t          return it.kty === keyType;\n\t        });\n\t        // keys = keys.filter(it => it.use === \"sig\" || (it.key_ops||[]).indexOf(\"verify\") !== -1 || (!it.key_ops && !it.use)); // consider only keys for verification / signing (or unspecified)\n\t        if (keys.length != 1) {\n\t          // try force-reloading of the JWK set because the URL from which we downloaded it might have been previously cached by browser\n\t          // and the server might have changed keys (e.g. due to restart or just because it changes them from time to time)\n\t          if (!forceKeySetReload) return _this._getKey(keyId, keyType, true);\n\t          throw new Error(\"There's \" + keys.length + \" JSON Web Key(s) in JWK Set with kid='\" + keyId + \"' kty='\" + keyType + \"'. There must be exactly 1. JWK Set has been downloaded from: \" + jwkSetMeta.url);\n\t        }\n\t        return keys[0];\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return _class;\n\t}();\n\t\n\texports.default = _class;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Base64Url = __webpack_require__(20);\n\t\n\tvar _Base64Url2 = _interopRequireDefault(_Base64Url);\n\t\n\tvar _InvalidTokenError = __webpack_require__(5);\n\t\n\tvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\t\n\tvar _JwtVerifierWebCrypto = __webpack_require__(46);\n\t\n\tvar _JwtVerifierWebCrypto2 = _interopRequireDefault(_JwtVerifierWebCrypto);\n\t\n\tvar _JwtVerifierJsrsasign = __webpack_require__(45);\n\t\n\tvar _JwtVerifierJsrsasign2 = _interopRequireDefault(_JwtVerifierJsrsasign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// JWT - JSON Web Token https://tools.ietf.org/html/rfc7519\n\t//     - JSON (containing claims) encoded in a JWS / JWE structure\n\t// JWS - JSON Web Signature https://tools.ietf.org/html/rfc7515\n\t// JWE - JSON Web Encryption https://tools.ietf.org/html/rfc7516\n\t\n\t// NOTE WebCrypto API works only via https://* or http://localhost (rare exception), but not on http://localhost.plus4u.net\n\t// so we're falling back to on-demand loaded jsrsasign library (which will be therefore used mostly during development,\n\t// but not on production; it's ~90kB of minified code).\n\tvar hasWebCrypto = typeof crypto != \"undefined\" && crypto.subtle && crypto.subtle.importKey;\n\tvar useWebCrypto = hasWebCrypto && (typeof location == \"undefined\" || location.protocol == \"https:\");\n\tvar verifier = useWebCrypto ? _JwtVerifierWebCrypto2.default : _JwtVerifierJsrsasign2.default;\n\t\n\tvar DEFAULT_ALG = \"RS256\";\n\texports.default = {\n\t  /**\n\t   * \n\t   */\n\t  decode: function decode(token, verifyOpts, getKeyFn) {\n\t    var tokenParts;\n\t    var header;\n\t    return Promise.resolve().then(function () {\n\t      if (typeof token != \"string\") throw new Error(\"Invalid JSON Web Token - it must be a string (result of JWS / JWE Compact Serialization as per RFC7515 / RFC7516).\");\n\t      tokenParts = token.split(\".\");\n\t      if (tokenParts.length != 3) throw new Error(\"Unsupported JSON Web Token - the token doesn't consist of header+body+signature (only JWS Compact Serialization is supported - RFC7515, section-3). Token: \" + token);\n\t\n\t      // parse header\n\t      var headerB64U = tokenParts[0];\n\t      var headerStr = _Base64Url2.default.decode(headerB64U);\n\t      header = JSON.parse(headerStr);\n\t      if (header.typ != \"JWT\") throw new Error(\"Invalid JSON Web Token - the header 'typ' field is not set to 'JWT'. Token: \" + token);\n\t\n\t      // get key\n\t      return getKeyFn(header);\n\t    }).then(function (key) {\n\t      // NOTE Check the whole importKey call if adding support for other key types.\n\t      if (!key || key.kty != \"RSA\") throw new Error(\"Unsupported key type. Only RSA keys are supported for JSON Web Token signature verification. Key: \" + JSON.stringify(key));\n\t      // always verify algorithm against the one is JOSE header\n\t      var alg = key.alg || DEFAULT_ALG;\n\t      if (alg !== header.alg) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token or wrong verification key - algorithms don't match. Token uses '\" + header.alg + \"', verification key uses '\" + key.alg + \"' (with default of '\" + DEFAULT_ALG + \"'). Token: \" + token + \" Key: \" + JSON.stringify(key));\n\t\n\t      return verifier.verify(key, alg, verifyOpts, header, tokenParts, token);\n\t    }).then(function (valid) {\n\t      if (!valid) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token: \" + token);\n\t      var bodyStr = _Base64Url2.default.decode(tokenParts[1]);\n\t      var body = JSON.parse(bodyStr);\n\t      return body;\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _module = __webpack_require__(23);\n\t\n\tvar _module2 = _interopRequireDefault(_module);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar scriptUri = ((_module2.default ? _module2.default.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName(\"script\"), -1)[0] || {}).src) || \"\").toString();\n\tvar jsrsasign = undefined;\n\tvar Verifier = {\n\t  verify: function verify(key, alg, verifyOpts, header, tokenParts, token) {\n\t    var _this = this;\n\t\n\t    return Promise.resolve().then(function () {\n\t      // load jsrsasign library on 1st verification\n\t      if (jsrsasign === undefined) {\n\t        var continueFn = Verifier.verify.bind(_this, key, alg, verifyOpts, header, tokenParts, token);\n\t        var isMin = scriptUri.indexOf(\".min.\") != -1;\n\t        var baseUrl = scriptUri.replace(/^(.*\\/).*/, \"$1\");\n\t        var url = baseUrl + \"jsrsasign\" + (isMin ? \".min\" : \"\") + \".js\";\n\t        var loadPromise;\n\t        if (typeof System != \"undefined\") loadPromise = System.import(url);else loadPromise = new Promise(function (resolve, reject) {\n\t          var script = document.createElement(\"script\");\n\t          script.onload = function () {\n\t            resolve(window[\"Jsrsasign\"]);\n\t          };\n\t          script.onerror = function (e) {\n\t            reject(e);\n\t          };\n\t          script.src = url;\n\t          document.head.appendChild(script);\n\t        });\n\t        return loadPromise.then(function (obj) {\n\t          jsrsasign = obj || null;\n\t          return continueFn();\n\t        }, function (e) {\n\t          console.error(e);\n\t          jsrsasign = null;\n\t          return continueFn();\n\t        });\n\t      }\n\t      if (!jsrsasign) throw new Error(\"Unable to verify token because jsrsasign library failed to load.\");\n\t\n\t      // var exampleKey = {\"kty\":\"RSA\",\"e\":\"AQAB\",\"n\":\"yXxJt2xevNsgGGGFfX5e22Jvy0_Eopgkumz7mJ7ScWlPfsMsAi8BZsF7nbDjA3T3v2vy2_-DaLDg-z-BjRwQIPL1LRzQGeDDSVmPcZtbexqkpjouxZ6-abpefSAFX5cA8NJ5h4JknFJWAsxxKEw4Ogy6XFd_BEaDmyXlLcV65Bs\",\"alg\":\"RS256\",\"kid\":\"rJZx5vzX1FOt_Nt8sB8jUA\",\"use\":\"sig\"};\n\t      // var pem = KEYUTIL.getPEM(jsrsasign.KEYUTIL.getKey(exampleKey));\n\t      //   =>\n\t      // -----BEGIN PUBLIC KEY-----\n\t      // MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDJfEm3bF682yAYYYV9fl7bYm/L\n\t      // T8SimCS6bPuYntJxaU9+wywCLwFmwXudsOMDdPe/a/Lb/4NosOD7P4GNHBAg8vUt\n\t      // HNAZ4MNJWY9xm1t7GqSmOi7Fnr5pul59IAVflwDw0nmHgmScUlYCzHEoTDg6DLpc\n\t      // V38ERoObJeUtxXrkGwIDAQAB\n\t      // -----END PUBLIC KEY-----\n\t\n\t      // do the verification\n\t      var keyInst = jsrsasign.KEYUTIL.getKey(key);\n\t      var result = jsrsasign.jws.JWS.verifyJWT(token, keyInst, verifyOpts); // see lib/jsrsasign-.../jws-3.3.js\n\t      return result || Promise.reject(new Error(\"Token is not valid. Token: \" + token));\n\t    });\n\t  }\n\t};\n\t\n\tmodule.exports = Verifier;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _Base64Url = __webpack_require__(20);\n\t\n\tvar _Base64Url2 = _interopRequireDefault(_Base64Url);\n\t\n\tvar _InvalidTokenError = __webpack_require__(5);\n\t\n\tvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = {\n\t  verify: function verify(key, alg, verifyOpts, header, tokenParts, token) {\n\t    var webCryptoAlgorithm = {\n\t      name: \"RSASSA-PKCS1-v1_5\",\n\t      hash: { name: \"SHA-\" + alg.substr(2) }\n\t    };\n\t    // MS Edge throws error if the key contains field \"use\" => remove it\n\t    // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n\t    var usedKey = JSON.parse(JSON.stringify(key));\n\t    delete usedKey.use;\n\t\n\t    return crypto.subtle.importKey(\"jwk\", usedKey, webCryptoAlgorithm, false, [\"verify\"]).then(function (webCryptoKey) {\n\t      // validate signature\n\t      var signatureB64U = tokenParts[2];\n\t      var data = tokenParts[0] + \".\" + tokenParts[1];\n\t      var signatureBytes = asciiToUint8Array(_Base64Url2.default.decodeToAscii(signatureB64U));\n\t      var dataBytes = asciiToUint8Array(data);\n\t      return crypto.subtle.verify(webCryptoKey.algorithm, webCryptoKey, signatureBytes, dataBytes);\n\t    }, function (importError) {\n\t      var e = new Error(\"Unable to verify JSON Web Token - importing key via WebCrypto API failed.\\nKey: \" + JSON.stringify(usedKey) + \"\\nToken: \" + token + \"\\nError: \" + importError);\n\t      e.cause = importError;\n\t      return Promise.reject(e);\n\t    }).then(function (signatureValid) {\n\t      if (!signatureValid) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token - signature is not valid. Token: \" + token);\n\t      var bodyStr = _Base64Url2.default.decode(tokenParts[1]);\n\t      var body = JSON.parse(bodyStr);\n\t      var throwError = function throwError(txt, failedClaim) {\n\t        throw new _InvalidTokenError2.default(\"Invalid token: \" + txt + \"\\nFailed claim: \" + JSON.stringify(failedClaim) + \"\\nIssued by: \" + JSON.stringify(body.iss) + \"\\nVerification options: \" + JSON.stringify(verifyOpts) + \"\\nToken: \" + token);\n\t      };\n\t\n\t      // verify claims\n\t\n\t      // 'alg' is always checked\n\t      if (!verifyOpts.alg) throw new Error(\"Unable to verify JWT claim - 'alg' field must be always given for verification.\");\n\t      if (verifyOpts.alg.indexOf(header.alg) == -1) throwError(\"Algorithm \" + JSON.stringify(header.alg) + \" used by token is not valid - expected one of \" + JSON.stringify(verifyOpts.alg) + \".\", \"alg\");\n\t\n\t      // 'iss'\n\t      var v;\n\t      v = asArray(verifyOpts.iss);\n\t      if (v && v.indexOf(body.iss) === -1) throwError(\"Issuer URI \" + JSON.stringify(body.iss) + \" in token is not valid - expected one of \" + JSON.stringify(v) + \". Token was issued by different OpenID Connect server or it was forged.\", \"iss\");\n\t\n\t      // 'sub'\n\t      v = asArray(verifyOpts.sub);\n\t      if (v && v.indexOf(body.sub) === -1) throwError(\"Subject \" + JSON.stringify(body.sub) + \" in token is not valid - expected one of \" + JSON.stringify(v) + \".\", \"sub\");\n\t\n\t      // 'aud' - all values from verifyOpts.aud must be present in body.aud \n\t      v = asArray(verifyOpts.aud);\n\t      var bodyV = asArray(body.aud) || [];\n\t      if (v && bodyV.some(function (bv) {\n\t        return v.indexOf(bv) == -1;\n\t      })) throwError(\"Audience list \" + JSON.stringify(bodyV) + \" in token is not valid - some of following values are missing: \" + JSON.stringify(v) + \".\", \"aud\");\n\t\n\t      // time validity: (nbf - gracePeriod < now < exp + gracePeriod) && (iat - gracePeriod < now)\n\t      var now = Date.now() / 1000;\n\t      if (verifyOpts.verifyAt) now = verifyOpts.verifyAt;\n\t      var gracePeriod = verifyOpts.gracePeriod || 0;\n\t\n\t      // 'exp' - expires\n\t      if (typeof body.exp === \"number\" && body.exp + gracePeriod < now) throwError(\"Token already expired at \" + toTimeString(body.exp) + \", current time is \" + toTimeString(now) + \".\", \"exp\");\n\t\n\t      // 'nbf' - not before\n\t      if (typeof body.nbf === \"number\" && now < body.nbf - gracePeriod) throwError(\"Token is not yet valid - it will become valid at \" + toTimeString(body.nbf) + \", current time is \" + toTimeString(now) + \". Check that your system time is correctly set.\", \"nbf\");\n\t\n\t      // 'iat' - issued at time\n\t      if (typeof body.iat === \"number\" && now < body.iat - gracePeriod) throwError(\"Token seems to have been issued in the future - \" + toTimeString(body.iat) + \", current time is \" + toTimeString(now) + \". Check that your system time is correctly set.\", \"iat\");\n\t\n\t      // 'jti' - JWT id\n\t      if (verifyOpts.jti && body.jti !== verifyOpts.jti) throwError(\"Token ID \" + JSON.stringify(body.jti) + \" not valid - expected \" + JSON.stringify(verifyOpts.jti) + \".\", \"jti\");\n\t\n\t      return true;\n\t    });\n\t  }\n\t};\n\t\n\tfunction asciiToUint8Array(ascii) {\n\t  return new Uint8Array(ascii.split(\"\").map(function (c) {\n\t    return c.charCodeAt(0);\n\t  }));\n\t}\n\tfunction asArray(value) {\n\t  if (value == null) return null;\n\t  if (Array.isArray(value)) return value;\n\t  return [value];\n\t}\n\tfunction toTimeString(seconds) {\n\t  return new Date(seconds * 1000).toISOString().replace(/T/, \" \");\n\t}\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _CallbackHandler = __webpack_require__(19);\n\t\n\tvar _CallbackHandler2 = _interopRequireDefault(_CallbackHandler);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Default visual component for presenting login/logout prompt to the user. It displays the\n\t * URL in a popup window and waits until the user logs in / closes the window. After that\n\t * initAttrs.onResult(authResultUrl) is called as callback.\n\t * \n\t * @param initAttrs.url The URL to be called on OpenID Connect Server for user authentication.\n\t * @param initAttrs.onResult The callback to call after login finishes. If the login finished\n\t *   by user closing the window (e.g. via close button), the passed value is <code>false</code>.\n\t *   Otherwise it's the URL that was deemed as final response from OpenID Connect server (which\n\t *   contains the authentication response in fragment). \n\t */\n\tvar PopupComponent = function PopupComponent(initAttrs) {\n\t  var attrs = Object.assign({}, initAttrs);\n\t  var state = {\n\t    loginWindow: null,\n\t    closeCheckInterval: null\n\t  };\n\t\n\t  // add self to the list of opened loginWindows\n\t  _CallbackHandler2.default.registerForCallback(this, state);\n\t\n\t  this.finalize = function (result) {\n\t    // cleanup & do the callback\n\t    this.destroy();\n\t    if (attrs.onResult) attrs.onResult(result);\n\t  }.bind(this);\n\t\n\t  var closeCheck = function () {\n\t    if (!state.loginWindow || !state.loginWindow.closed) return;\n\t    this.finalize(false); // closed without calling callback (i.e. refused to login or some other reason) => notify with special value \"false\"\n\t  }.bind(this);\n\t\n\t  this.render = function () {\n\t    var _this = this;\n\t\n\t    // open popup window centered on screen and wait until global callback is called (or window is closed in other way)\n\t    if (!state.loginWindow) {\n\t      var rect = { width: 599, height: 600 };\n\t      rect.left = (screen.availWidth - rect.width) / 2 + screen.availLeft;\n\t      rect.top = (screen.availHeight - rect.height) / 2 + screen.availTop;\n\t      state.loginWindow = window.open(attrs.url, \"_blank\", \"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=\" + rect.width + \",height=\" + rect.height + \",top=\" + rect.top + \",left=\" + rect.left);\n\t      if (!state.loginWindow) {\n\t        // popup blocked or not yet allowed (which means we won't be able to detect window closing) => handle as if user refused to log in\n\t        Promise.resolve().then(function () {\n\t          return _this.finalize(false);\n\t        }); // finalize in async way\n\t      } else {\n\t        state.closeCheckInterval = setInterval(closeCheck.bind(this), 200);\n\t      }\n\t    }\n\t  };\n\t\n\t  this.destroy = function () {\n\t    if (state.loginWindow && !state.loginWindow.closed) state.loginWindow.close();\n\t    if (state.closeCheckInterval) clearInterval(state.closeCheckInterval);\n\t    this.destroy = function () {};\n\t    _CallbackHandler2.default.unregisterForCallback(this);\n\t  };\n\t};\n\t\n\texports.default = PopupComponent;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar isBrowser = new Function(\"try {return this===window;}catch(e){ return false;}\")();\n\tvar domReadyPromise = isBrowser ? document.readyState === \"interactive\" || document.readyState === \"complete\" ? Promise.resolve() : new Promise(function (resolve) {\n\t  document.addEventListener(\"DOMContentLoaded\", resolve, false);\n\t}) : Promise.resolve();\n\t\n\texports.default = {\n\t  domReady: domReadyPromise\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = generateUuid;\n\tfunction generateUuid() {\n\t  // generate UUID (RFC4122 version 4 compliant) for the event ID\n\t  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n\t  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t    var r = Math.random() * 16 | 0,\n\t        v = c == 'x' ? r : r & 0x3 | 0x8;\n\t    return v.toString(16);\n\t  });\n\t  return uuid;\n\t}\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _IframeComponent = __webpack_require__(6);\n\t\n\tvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\t\n\tvar _ImplicitFlow = __webpack_require__(17);\n\t\n\tvar _ImplicitFlow2 = _interopRequireDefault(_ImplicitFlow);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Os8Auth = function () {\n\t\n\t  /**\n\t   * @param options.serverUri\n\t   * @param options.clientId\n\t   * @param options.redirectUri\n\t   */\n\t  function Os8Auth(options) {\n\t    _classCallCheck(this, Os8Auth);\n\t\n\t    if (!options || !options.serverUri || !options.clientId || !options.redirectUri) throw new Error(\"Os8Auth must be initialized with options containing serverUri, clientId and redirectUri.\");\n\t    this.options = options;\n\t  }\n\t\n\t  /**\n\t   * @param parameters\n\t   * @param parameters.subject_token\n\t   */\n\t\n\t\n\t  _createClass(Os8Auth, [{\n\t    key: \"grantExchangeToken\",\n\t    value: function grantExchangeToken(parameters) {\n\t      var params = parameters || {};\n\t      if (!params.subject_token) throw new Error(\"Os8Auth.grantExchangeToken must be called with parameter subject_token.\");\n\t      var urlParams = Object.assign({}, params, {\n\t        response_type: \"id_token token\",\n\t        client_id: this.options.clientId,\n\t        redirect_uri: this.options.redirectUri\n\t      });\n\t      var urlParamsParts = Object.keys(urlParams).filter(function (k) {\n\t        return urlParams[k] != null;\n\t      }).map(function (k) {\n\t        return encodeURIComponent(k) + \"=\" + encodeURIComponent(urlParams[k] + \"\");\n\t      });\n\t      var url = this.options.serverUri.replace(/\\/*$/, \"/\") + \"exchangeOs8Token\" + \"?\" + urlParamsParts.join(\"&\");\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        new _IframeComponent2.default({\n\t          url: url,\n\t          onResult: function onResult(aLoginResult) {\n\t            var authResponse = _ImplicitFlow2.default.getAuthResponseFromCallback(aLoginResult);\n\t            if (!authResponse || authResponse.error) reject(authResponse);else resolve(authResponse);\n\t          }\n\t        }).render();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Os8Auth;\n\t}();\n\t\n\texports.default = Os8Auth;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// uu_appg01.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8e841229a0ffbc728674","var mod=require(\"module\");\n  var uri = ((mod ? mod.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName(\"script\"), -1)[0] || {}).src) || \"\").toString();\n  __webpack_public_path__=uri.split(/\\//).slice(0, -1).join(\"/\") + \"/\"; // runtime publicPath configuration required for proper linking of styles, background images, ...\n  module.exports = require(\"__project__/index-withDeps.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../.tmp/index-withDeps.js\n// module id = 0\n// module chunks = 0","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// make native Error-s (TypeError, ...) be converted to JSON \"somehow\", because right now they always end up as {}\ntry {\n  if (JSON.stringify(new Error()) == \"{}\") {\n    Error.prototype.toJSON = function () {\n      if (Object.hasOwnProperty(this, \"toJSON\")) return this; // to be on the safe-side\n      // we might be in a sub-classed error (TypeError, even custom Error) so temporarily override\n      // toJSON with as-is serialization and use toString() only if we would get no information otherwise\n      this.toJSON = function () {\n        return this;\n      };\n      var useToString = JSON.stringify(this) == \"{}\";\n      delete this.toJSON; // deletes override; toJSON on prototype chain (this one or any other) is preserved\n      // use this or toString() for final serialization\n      return useToString ? this.toString() + (this.stack != null ? \"\\n\" + this.stack : \"\") : this;\n    };\n  }\n} catch (e) {}\n// ignore\n\n\n//  /**\n//   * Creates new Error.\n//   * \n//   * This constructor can be also called with a single object literal containing any fields that\n//   * are to be set to the Error object. \n//   *\n//   * @param {string} message The message.\n//   * @param {Error} cause (optional) The cause (original error).\n//   * @constructor UuApp.Error.Error\n//   */\n\n// TODO JSDoc doesn't support describing multiple signatures for the same method :-(.\n//  /**\n//   * Creates new Error.\n//   *\n//   * @param {Object} errorObject Object with any attributes to set to the Error instance.\n//   * @constructor UuApp.Error.Error\n//   */\nfunction _Error(msgOrObj) {\n  var self = this;\n  if (!(self instanceof _Error)) return new (_Error.bind.apply(_Error, arguments))(); // make an instance even if developer forgot to use \"new\" keyword\n  var errorObject = msgOrObj;\n  if (!errorObject || (typeof errorObject === \"undefined\" ? \"undefined\" : _typeof(errorObject)) != \"object\") {\n    errorObject = {\n      message: arguments[0],\n      cause: arguments[1]\n    };\n  }\n  Object.assign(this, errorObject);\n  if (!this.id) this.id = generateUuid();\n  if (!this.stack) this.stack = new Error().stack;\n  /**\n   * ID of the error. If not specified, it'll be automatically generated.\n   * @name UuApp.Error.Error#id\n   */\n  /**\n   * The message of the error.\n   * @name UuApp.Error.Error#message\n   */\n  /**\n   * The cause (nested error) of the error.\n   * @name UuApp.Error.Error#cause\n   */\n  /**\n   * Stacktrace of the error. If not specified, it'll be automatically filled via browser.\n   * @name UuApp.Error.Error#stack\n   */\n}\n_Error.prototype = Object.create(Error.prototype);\n_Error.prototype.constructor = _Error;\n\nfunction generateUuid() {\n  // generate UUID (RFC4122 version 4 compliant) for the event ID\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n  return uuid;\n}\n\nmodule.exports = _Error;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/Error.js\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Perflog = exports.Util = exports.Logging = exports.Error = exports.Uri = exports.AppClient = undefined;\n\nrequire(\"./polyfills.js\");\n\nvar _index = require(\"./app-client/index.js\");\n\nvar AppClient = _interopRequireWildcard(_index);\n\nvar _index2 = require(\"./uri/index.js\");\n\nvar Uri = _interopRequireWildcard(_index2);\n\nvar _index3 = require(\"./error/index.js\");\n\nvar Error = _interopRequireWildcard(_index3);\n\nvar _index4 = require(\"./logging/index.js\");\n\nvar Logging = _interopRequireWildcard(_index4);\n\nvar _index5 = require(\"./util/index.js\");\n\nvar Util = _interopRequireWildcard(_index5);\n\nvar _index6 = require(\"./perflog/index.js\");\n\nvar Perflog = _interopRequireWildcard(_index6);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.AppClient = AppClient;\nexports.Uri = Uri;\nexports.Error = Error;\nexports.Logging = Logging;\nexports.Util = Util;\nexports.Perflog = Perflog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/index.js\n// module id = 2\n// module chunks = 0","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Error = require(\"../error/Error.js\");\n\n/**\n * Initializes new configuration object from provided key-value map, URL or from another Promise resolving\n * to one of those.\n * \n * @class UuApp.Util.Config\n * @classdesc\n * \"Global\" configuration for components such as Client, Logger, ... The configuration\n * is a flat map containing data such as addresses to gateways, logging configuration and others and\n * is typically configured somewhere on server-side, therefore it should be explicitly downloaded and\n * processed using {@link UuApp.Util.Config.init Config.init} method, e.g.:\n * \n *     // initialize configuration from URL\n *     UuApp.Util.Config.init(\"/vendor-app/0-0/getClientConfig\");\n * \n *     // alternatively, configuration can be initialized directly\n *     UuApp.Util.Config.init({\n *       \"gatewayUri\": \"https://uuappsg01.plus4u.net\",\n *       \"logLevel\": \"DEBUG\"\n *     });\n *\n * Note that the intialization via URL is an asynchronous operation, so components will wait until\n * it's downloaded.\n *      \n * Each component describes its own supported configuration options in its class descriptions.\n * \n * @param {(string|Object|Promise)} envOrUrl URL from which to download the key-value map\n *   (using GET method, expecting application/json data). Alternatively, it can be the key-value\n *   map directly or a Promise resolving to it. \n * @return {Promise} Promise resolved to this instance of Config. Promise is resolved after the key-value map\n *                   is loaded from given URL, or after given Promise is resolved, or immediately if key-value\n *                   map was given directly).\n * @example\n *     // initialize custom configuration from server\n *     var myEnv = new UuApp.Util.Config(\"/vendor-app/0-0/getClientConfig\");\n *     myEnv.initPromise.then(function (env) { // env === myEnv\n *       console.log(\"'myEnv' is ready. Values:\", env.get());\n *       var client = new UuApp.AppClient.Client(env.get()); // pass configuration to UuApp.AppClient.Client (gatewayUri, ...)\n *     });\n *     \n *     // initialize custom configuration with directly specified configuration\n *     var myEnv2 = new UuApp.Util.Config({\n *       \"logLevel\": \"DEBUG\"\n *     });\n *     console.log(\"'myEnv2' is ready. Values:\", myEnv2.get());\n * \n *     // use configuration from the result of another promise\n *     var somePromise = ...; // resolves to key-value map\n *     var myEnv3 = new UuApp.Util.Config(somePromise);\n *     myEnv3.then(function (env) { ... }); // env === myEnv3\n */\nfunction Config(envOrUrl) {\n  this._env = {};\n\n  // initialize (but only if not instructed to skip it which is used so that globalConfig can be initialized on-demand)\n  if (envOrUrl !== false) initInstance.apply(this, arguments);\n}\n\nConfig.prototype.initInvoked = false;\n/**\n * Whether the configuration has finished loading. For configuration that was\n * initialized by providing key-value map directly, it'll be true from the start.\n * \n * @type {boolean}\n * @name UuApp.Util.Config#initComplete\n */\nConfig.prototype.initComplete = false;\n/**\n * Promise resolved when configuration has finished loading.\n * \n * @type {Promise}\n * @name UuApp.Util.Config#initPromise\n */\nConfig.prototype.initPromise = null;\n/**\n  * URL from which the configuration has been loaded, or null if it wasn't loaded\n  * via URL.\n  * \n  * @type {string}\n  * @name UuApp.Util.Config#initUrl\n  */\nConfig.prototype.initUrl = null;\n\n/**\n * Returns value of the specified configuration setting. If no name is given,\n * map with all settings is returned.\n * \n * @param {string} name The setting whose value to return. If not given,\n *   map with all settings is returned.\n * @param {boolean} [recursive=true] Whether to lookup the setting recursively. For example\n *   retrieving value for name \"A.B.C.logLevel\" would try \"A.B.C.logLevel\" first,\n *   then \"A.B.logLevel\", then \"A.logLevel\" and finally \"logLevel\".\n * @method UuApp.Util.Config#get\n */\nConfig.prototype.get = function (name, recursive) {\n  if (arguments.length == 0) return this._env;\n  if (recursive === false) return this._env[name];\n  var parts = name.split(/\\./);\n  while (parts.length > 1) {\n    var v = this._env[parts.join(\".\")];\n    if (v != null) return v;\n    parts.splice(parts.length - 2, 1);\n  }\n  return this._env[parts[0]];\n};\n\n// create default (global) configuration instance but don't initialize it - consumer of the library\n// must do it via Config.init()\nvar globalConfig = new Config(false);\n\n/**\n * Initializes default (global) configuration from given URL or by given key-value map.\n * The method accepts the same arguments as the {@link UuApp.Util.Config Config(...)} constructor.\n * \n * Note that components such as UuApp.AppClient.Client will automatically wait until default configuration\n * is loaded (if .init has been invoked prior to their usage).\n * \n * @return Promise ({@link UuApp.Util.Config#initPromise Config#initPromise) resolved to the loaded key-value map.\n * @method UuApp.Util.Config.init\n * @example\n *     // initialize default (global) configuration from server\n *     UuApp.Util.Config.init(\"/vendor-app/0-0/getClientConfig\").then(function (env) {\n *       console.log(\"Components have been configured using environment\", env.get());\n *     });\n *     \n *     // initialize default (global) configuration with directly specified data\n *     UuApp.Util.Config.init({\n *       \"logLevel\": \"DEBUG\"\n *     });\n */\nConfig.init = function (envOrUrl) {\n  initInstance.apply(globalConfig, Array.prototype.slice.call(arguments));\n  initInvokedPromiseResolve();\n  globalConfig.initPromise.then(initCompletePromiseResolve, initCompletePromiseReject);\n  return globalConfig.initPromise;\n};\n\nObject.defineProperties(Config, {\n  /**\n   * Whether the *global* configuration has started loading.\n   * \n   * @type {boolean}\n   * @name UuApp.Util.Config.initInvoked\n   */\n  initInvoked: { get: function get() {\n      return globalConfig.initInvoked;\n    } },\n  /**\n   * Whether the *global* configuration has finished loading.\n   * \n   * @type {boolean}\n   * @name UuApp.Util.Config.initComplete\n   */\n  initComplete: { get: function get() {\n      return globalConfig.initComplete;\n    } },\n  /**\n   * Promise resolved when *global* configuration has finished loading. Note that\n   * the field is null prior to Config.init call.\n   * \n   * @type {Promise}\n   * @name UuApp.Util.Config.initPromise\n   */\n  initPromise: { get: function get() {\n      return globalConfig.initPromise;\n    } },\n  /**\n   * URL from which the configuration has been loaded, or null if it wasn't loaded\n   * via URL.\n   * \n   * @type {string}\n   * @name UuApp.Util.Config.initUrl\n   */\n  initUrl: { get: function get() {\n      return globalConfig.initUrl;\n    } }\n});\n\n// promise (always non-null) which resolves after Config.init is completed\n// (if it never gets called, the promise won't get resolved)\nvar initCompletePromiseResolve;\nvar initCompletePromiseReject;\nConfig.initCompletePromise = new Promise(function (rs, rj) {\n  return initCompletePromiseResolve = rs, initCompletePromiseReject = rj;\n});\n\n// promise (always non-null) which resolves after Config.init is called,\n// even if it wasn't completed yet (if it never gets called, the promise won't get resolved)\nvar initInvokedPromiseResolve;\nvar initInvokedPromiseReject;\nConfig.initInvokedPromise = new Promise(function (rs, rj) {\n  return initInvokedPromiseResolve = rs, initInvokedPromiseReject = rj;\n});\n\n/**\n * Returns value of the specified setting from *global* configuration. If no name is given,\n * map with all settings is returned.\n * \n * @param {string} name The setting whose value to return. If not given,\n *   map with all settings is returned.\n * @param {boolean} [recursive=true] Whether to lookup the setting recursively. For example\n *   retrieving value for name \"A.B.C.logLevel\" would try \"A.B.C.logLevel\" first,\n *   then \"A.B.logLevel\", then \"A.logLevel\" and finally \"logLevel\".\n * @see UuApp.Util.Config#get\n * @method UuApp.Util.Config.get\n */\nConfig.get = function () {\n  return globalConfig.get.apply(globalConfig, arguments);\n};\n\nfunction initInstance(options) {\n  if (this.initInvoked) throw new Error(\"UuApp.Util.Config can be initialized only once (#init method). \" + \"If a private / separate environment is needed, use new UuApp.Util.Config().\");\n  this.initInvoked = true;\n\n  // load environment (sync / async)\n  var loadResult;\n  if (typeof options == \"string\") {\n    this.initUrl = arguments[0];\n    loadResult = load.apply(this, arguments); // it's a URL\n  } else if (options != null && typeof options.then === \"function\") loadResult = { promise: Promise.resolve(options) }; // it's a Promise\n  else if (options == null || (typeof options === \"undefined\" ? \"undefined\" : _typeof(options)) == \"object\" || typeof options == \"function\") loadResult = { immediateResult: options }; // it's a direct value\n    else throw new Error(\"UuApp.Util.Config can be initialized only with object-like structure, but typeof says '\" + (typeof options === \"undefined\" ? \"undefined\" : _typeof(options)) + \"'. Initialized with: \" + JSON.stringify(options));\n\n  // process load result\n  if (loadResult.immediateResult) {\n    this._env = loadResult.immediateResult;\n    this.initComplete = true;\n    this.initPromise = Promise.resolve(this);\n  } else {\n    this.initPromise = loadResult.promise.then(function (env) {\n      this._env = env;\n      this.initComplete = true;\n      return this;\n    }.bind(this)); // in case of error just propagate it (no error handler here) - we don't want to call services against wrong domains (config contains gateway URIs, ...) \n  }\n\n  return this.initPromise;\n}\n\nfunction load(url, options) {\n  var result;\n  var p = new Promise(function (resolve, reject) {\n    if (!url) return resolve({});\n    var opts = options || {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, opts.sync !== true);\n    xhr.setRequestHeader(\"Accept\", \"application/json\");\n    xhr.onerror = function (e) {\n      return reject(new Error(\"Unable to load environment configuration from \" + url + \" - network error.\"));\n    };\n    xhr.onload = function (e) {\n      if (xhr.status >= 200 && xhr.status < 300) {\n        try {\n          result = (xhr.responseText ? JSON.parse(xhr.responseText) : null) || {};\n          resolve(result || {});\n          return;\n        } catch (e) {\n          reject(new Error(\"Unable to load environment configuration from \" + url + \" - not a JSON. Response:\\n\" + xhr.responseText));\n        }\n      } else {\n        reject(new Error(\"Unable to load environment configuration from \" + url + \" - status \" + xhr.status + \". Response:\\n\" + xhr.responseText));\n      }\n    };\n    xhr.send(null);\n  });\n  return { immediateResult: result, promise: p };\n}\n\n// if running in browser with SystemJS loader, use UU_ENVIRONMENT module if it's configured\nvar inited = false;\nif (typeof window != \"undefined\") {\n  if (typeof System != \"undefined\" && window && System && System.has && System.get && System.normalizeSync) {\n    try {\n      // for backward compatibility try initialization via module named \"UU_ENVIRONMENT\"\n      var normModule = System.normalizeSync(\"UU_ENVIRONMENT\");\n      if (System.has(normModule)) {\n        // the module has been already instantiated\n        var mod = System.get(normModule);\n        Config.init(mod[\"default\"] || mod);\n        if (!normModule.match(/\\/UU_ENVIRONMENT$/)) globalConfig.initUrl = normModule;\n        inited = true;\n      } else if (!normModule.match(/\\/UU_ENVIRONMENT$/)) {\n        // the module is not ready yet but it is defined (has configured URL to be downloaded from)\n        Config.init(System.import(\"UU_ENVIRONMENT\"));\n        globalConfig.initUrl = normModule;\n        inited = true;\n      }\n    } catch (e) {\n      console.error(\"Failed to initialize configuration from UU_ENVIRONMENT. Error:\", e);\n    }\n  }\n  // initialize configuration from UU5.Environment variable\n  if (!inited && window.UU5 && window.UU5.Environment) {\n    Config.init(window.UU5.Environment);\n    inited = true;\n  }\n}\n\nmodule.exports = Config;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/util/Config.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _HttpClient = require(\"../util/HttpClient.js\");\n\nvar _HttpClient2 = _interopRequireDefault(_HttpClient);\n\nvar _PromiseUtil = require(\"../util/PromiseUtil.js\");\n\nvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar oidcMetadataCache = {}; // stores Promises\n\nexports.default = {\n  /**\n   * @return Promise resolving to OIDC discovery metadata for given issuerUri.\n   */\n  getMetadata: function getMetadata(aIssuerUri) {\n    var issuerUri = aIssuerUri.replace(/\\/+$/, \"\"); // strip trailing slash(es) (this also normalizes it as a key to cache)\n    var metadata = oidcMetadataCache[issuerUri];\n    if (metadata) return metadata;\n    var discoveryEndpoint = issuerUri + \"/.well-known/openid-configuration\";\n    return oidcMetadataCache[issuerUri] = _PromiseUtil2.default.wrapForImmediateThen(_HttpClient2.default.get(discoveryEndpoint).catch(function (e) {\n      delete oidcMetadataCache[issuerUri]; // don't cache errors so that e.g. clicking a button 2nd time (after network is up again) has chance to work\n      throw e;\n    }));\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/discovery/Discovery.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _uu_appg01_core = require(\"uu_appg01_core\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InvalidTokenError = function (_Errors$Error) {\n  _inherits(InvalidTokenError, _Errors$Error);\n\n  function InvalidTokenError() {\n    _classCallCheck(this, InvalidTokenError);\n\n    return _possibleConstructorReturn(this, (InvalidTokenError.__proto__ || Object.getPrototypeOf(InvalidTokenError)).apply(this, arguments));\n  }\n\n  return InvalidTokenError;\n}(_uu_appg01_core.Error.Error);\n\nexports.default = InvalidTokenError;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/jwt/InvalidTokenError.js\n// module id = 5\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CallbackHandler = require(\"./CallbackHandler.js\");\n\nvar _CallbackHandler2 = _interopRequireDefault(_CallbackHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Visual component for attempting user login/logout on a background in an iframe. Usable only for prompt=\"none\" cases.\n * After login/logout initAttrs.onResult(authResultUrl) is called as callback.\n * \n * @param initAttrs.url The URL to be called on OpenID Connect Server for user authentication.\n * @param initAttrs.onResult The callback to call after login/logout finishes.\n */\nvar IframeComponent = function IframeComponent(initAttrs) {\n  var attrs = Object.assign({}, initAttrs);\n  var state = {\n    iframe: null\n  };\n  Object.defineProperty(state, \"loginWindow\", {\n    get: function get() {\n      try {\n        // needs try-catch depending on which phase we're being asked (might be during redirect, ..., which can be cross-domain)\n        return state.iframe != null ? state.iframe.contentWindow : null;\n      } catch (e) {\n        // ignore\n      }\n      return null;\n    }\n  });\n\n  // add self to the list of openend loginWindows\n  _CallbackHandler2.default.registerForCallback(this, state);\n\n  // finalization callback (for this component instance) called after login from redirect_uri page\n  this.finalize = function (aLoginResult) {\n    // cleanup & do the callback\n    this.destroy();\n    if (attrs.onResult) attrs.onResult(aLoginResult);\n  }.bind(this);\n\n  // TODO Maybe use timeout ~30s and destroy in case that something is seriously wrong (network errors, ...).\n\n  this.render = function () {\n    if (!state.iframe) {\n      state.iframe = document.createElement(\"iframe\");\n      state.iframe.style.cssText = \"position: absolute;top: -300px; left: -300px; width: 200px; height: 200px; opacity: 0;\";\n      state.iframe.src = attrs.url;\n      document.body.appendChild(state.iframe);\n    }\n  };\n\n  this.destroy = function () {\n    if (state.iframe && state.iframe.parentNode) state.iframe.parentNode.removeChild(state.iframe);\n    this.destroy = function () {};\n    _CallbackHandler2.default.unregisterForCallback(this);\n  };\n};\n\nexports.default = IframeComponent;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/ui/IframeComponent.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  /**\n   * Wraps Promise so that it can then be used in immediateThen function.\n   */\n  wrapForImmediateThen: function wrapForImmediateThen(promise) {\n    promise.then(function (v) {\n      return promise._immediateValue = v;\n    }, function (e) {\n      return promise._immediateError = e;\n    });\n    return promise;\n  },\n\n  /**\n   * If promise has already been resolved, thenFn is called immediately (or catchFn in\n   * case that the promise has been rejected). Otherwise thenFn and catchFn callbacks\n   * are simply registered via promise.then(thenFn, catchFn).\n   * \n   * Note that this works only on promises that were wrapped via #wrapForImmediateThen\n   * function.\n   * \n   * @return Return value of thenFn/catchFn (if invoked immediately) or promise.then(thenFn, catchFn).\n   */\n  immediateThen: function immediateThen(promise, thenFn, catchFn) {\n    if (\"_immediateValue\" in promise) return typeof thenFn == \"function\" ? thenFn(promise._immediateValue) : promise._immediateValue;\n    if (\"_immediateError\" in promise) {\n      if (typeof catchFn == \"function\") return catchFn(promise._immediateError);\n      throw promise._immediateError;\n    }\n    return promise.then(thenFn, catchFn);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/PromiseUtil.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimeoutError = exports.RemoteError = exports.NetworkError = exports.AbortError = exports.Error = undefined;\n\nvar _Error = require(\"./Error.js\");\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nvar _AbortError = require(\"./AbortError.js\");\n\nvar _AbortError2 = _interopRequireDefault(_AbortError);\n\nvar _NetworkError = require(\"./NetworkError.js\");\n\nvar _NetworkError2 = _interopRequireDefault(_NetworkError);\n\nvar _RemoteError = require(\"./RemoteError.js\");\n\nvar _RemoteError2 = _interopRequireDefault(_RemoteError);\n\nvar _TimeoutError = require(\"./TimeoutError.js\");\n\nvar _TimeoutError2 = _interopRequireDefault(_TimeoutError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Error = _Error2.default;\nexports.AbortError = _AbortError2.default;\nexports.NetworkError = _NetworkError2.default;\nexports.RemoteError = _RemoteError2.default;\nexports.TimeoutError = _TimeoutError2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/index.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\n// TODO Change into ES6 imports / exports. Beware that some tests are run via Node environment\n// and it doesn't recognize import / export statements (so tests will stop working). Might get it working\n// by running tests against dist-node/ folder (where the files are downcompiled to ES5).\nvar Config = require(\"../util/Config.js\");\n\n/**\n * @class UuApp.Logging.Logger\n * @classdesc\n * Component for logging. Each logged message has a severity level and each logger can be\n * configured to process only messages with sufficient severity level. Loggers are hierarchical,\n * i.e. when configuration is processed they inherit severity level from parent modules/packages.\n * \n * Contrary to usual <code>console.log</code>, <code>console.error</code>, ... statements (which\n * are typically removed from production code), statements using Logger-s are intended to be\n * preserved in the production environment and turned on/off via {@link UuApp.Util.Config Config}\n * configuration.\n * \n * **Configuration**\n * \n * Default severity level for loggers is Logger.LEVEL_WARN. Logging is automatically configured from the\n * global configuration (initialized via {@link UuApp.Util.Config Config.init} call).\n * Supported environment options:\n * \n *     {\n *       \"logLevel\": \"ERROR\",\n *       \"My.Namespace.logLevel\": \"WARN\"\n *     }\n * \n * As already said, loggers are hierarchical - with configuration above, logger \"My.Namespace.Component\"\n * would have logLevel \"WARN\" whereas logger \"My\" would have logLevel \"ERROR\". Hierarchical logging can\n * be turned off when initializing a logger - see {@link UuApp.Logging.LoggerFactory.get LoggerFactory.get}.\n * \n * **Typical usage**\n * \n *     // get logger instance and log a message\n *     var logger = UuApp.Logging.LoggerFactory.get(\"My.Namespace.Component\");\n *     logger.warn(\"Universe expansion is accelerating.\", {speedBefore: 68, speedAfter: 68.01});\n *     \n *     // if logging requires lenghty computation, it can be made conditional so that it\n *     // doesn't slow down the rest of page if the message wouldn't get logged in the end\n *     if (logger.isDebugLoggable()) {\n *       var computedValue = ...; // some lenghty computation\n *       logger.debug(\"Value computed to\", computedValue);\n *     }\n *     \n */\nfunction Logger(name) {\n  var _this = this;\n\n  if (!priv.allowLoggerNew) throw new Error(\"Use UuApp.Logging.LoggerFactory.get(name) to get an instance of Logger.\");\n  this.name = name;\n\n  // logger can be configured after delay because Util.Config can be loaded asynchronously,\n  // therefore we'll buffer the debug/info/warn/error calls until the configuration is ready\n  var ready = false;\n  this._buffer = [];\n  Object.defineProperty(this, \"ready\", {\n    get: function get() {\n      return ready && (!Config.initInvoked || Config.initComplete);\n    },\n    set: function set(value) {\n      ready = value;\n      if (ready) flushBuffer.call(_this);\n    }\n  });\n}\nvar priv = Logger.priv = {}; // TODO This is not-so-ellegant solution for allowing UriBuilder to call Uri constructor (and forbid it for everyone else).\n\n/** @name UuApp.Logging.Logger.LEVEL_DEBUG */\n/** @name UuApp.Logging.Logger.LEVEL_INFO */\n/** @name UuApp.Logging.Logger.LEVEL_WARN */\n/** @name UuApp.Logging.Logger.LEVEL_ERROR */\n/** @name UuApp.Logging.Logger.LEVEL_OFF */\nvar levels = { DEBUG: 100, INFO: 200, WARN: 300, ERROR: 400, OFF: Math.MAX_VALUE };\nvar levelsInverted = Object.keys(levels).reduce(function (r, name) {\n  return r[levels[name]] = name, r;\n}, {}); // { 100: \"DEBUG\", ...}\nObject.keys(levels).forEach(function (level) {\n  // publish levels as constants\n  Logger[\"LEVEL_\" + level.toUpperCase()] = levels[level];\n});\n\n/**\n * Sets severity level of this Logger to given value. Messages with lower (less important)\n * severity will be ignored when attempted to be logged via this logger. Order of importance:\n * DEBUG < INFO < WARN < ERROR < OFF.\n * \n * **It's strongly advised not to configure loggers directly using this method** because\n * if such code gets deployed to production, it'll effectively override settings from\n * environment and therefore could prevent logging of necessary information.\n * **Use environment configuration instead - see Configuration chapter in {@link UuApp.Logging.Logger Logger}.\n * \n * @param {(number|string)} level Severity level to set. See Logger.LEVEL_* constants. If null\n *   is given, default is used (LEVEL_WARN).\n * @method UuApp.Logging.Logger#setLevel\n */\nLogger.prototype.setLevel = function (level) {\n  if (level == null) level = Logger.LEVEL_WARN;\n  var num = typeof level == \"string\" ? levels[level.toUpperCase()] : Number(level);\n  if (typeof num != \"number\" || isNaN(num)) return; // ignore\n  this.level = num;\n};\n\n/**\n * @return {number} Level of this logger.\n * @method UuApp.Logging.Logger#getLevel\n */\nLogger.prototype.getLevel = function () {\n  return this.level;\n};\n\n/**\n * @return {string} Upper-cased name of the level, such as \"ERROR\".\n * @method UuApp.Logging.Logger#getLevelName\n */\nLogger.prototype.getLevelName = function () {\n  return levelsInverted[this.level];\n};\nLogger.prototype.level = levels.WARN;\n\n/**\n * Logs message with severity level \"DEBUG\".\n * \n * @param {string} message The message to log.\n * @param {...Object} any Additional values to log with the message.\n * @method UuApp.Logging.Logger#debug\n */\nLogger.prototype.debug = function () /* ... */{\n  if (!this.ready) return logToBuffer.call(this, \"debug\", Array.prototype.slice.call(arguments));\n  if (this.level <= levels.DEBUG) logToAppenders.call(this, { level: levels.DEBUG, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n};\n\n/**\n * @return {boolean} Whether this logger logs message with severity level \"DEBUG\".\n * @method UuApp.Logging.Logger#isDebugLoggable\n */\nLogger.prototype.isDebugLoggable = function () {\n  return !this.ready || this.level <= levels.DEBUG;\n};\n\n/**\n * Logs message with severity level \"INFO\".\n * \n * @param {string} message The message to log.\n * @param {...Object} any Additional values to log with the message.\n * @method UuApp.Logging.Logger#info\n */\nLogger.prototype.info = function () /* ... */{\n  if (!this.ready) return logToBuffer.call(this, \"info\", Array.prototype.slice.call(arguments));\n  if (this.level <= levels.INFO) logToAppenders.call(this, { level: levels.INFO, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n};\n/**\n * @return {boolean} Whether this logger logs message with severity level \"INFO\".\n * @method UuApp.Logging.Logger#isInfoLoggable\n */\nLogger.prototype.isInfoLoggable = function () {\n  return !this.ready || this.level <= levels.INFO;\n};\n/**\n * Logs message with severity level \"WARN\".\n * \n * @param {string} message The message to log.\n * @param {...Object} any Additional values to log with the message.\n * @method UuApp.Logging.Logger#warn\n */\nLogger.prototype.warn = function () /* ... */{\n  if (!this.ready) return logToBuffer.call(this, \"warn\", Array.prototype.slice.call(arguments));\n  if (this.level <= levels.WARN) logToAppenders.call(this, { level: levels.WARN, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n};\n/**\n * @return {boolean} Whether this logger logs message with severity level \"WARN\".\n * @method UuApp.Logging.Logger#isWarnLoggable\n */\nLogger.prototype.isWarnLoggable = function () {\n  return !this.ready || this.level <= levels.WARN;\n};\n/**\n * Logs message with severity level \"ERROR\".\n * \n * @param {string} message The message to log.\n * @param {...Object} any Additional values to log with the message.\n * @method UuApp.Logging.Logger#error\n */\nLogger.prototype.error = function () /* ... */{\n  if (!this.ready) return logToBuffer.call(this, \"error\", Array.prototype.slice.call(arguments));\n  if (this.level <= levels.ERROR) logToAppenders.call(this, { level: levels.ERROR, message: arguments[0] != null ? arguments[0] + \"\" : \"\", args: Array.prototype.slice.call(arguments, 1) });\n};\n/**\n * @return {boolean} Whether this logger logs message with severity level \"ERROR\".\n * @method UuApp.Logging.Logger#isErrorLoggable\n */\nLogger.prototype.isErrorLoggable = function () {\n  return !this.ready || this.level <= levels.ERROR;\n};\n\nfunction logToAppenders(opts) {\n  // TODO Add support for appenders. Currently we'll log only to the console.\n  // TODO Might want to collect additional information (stack frames, ...) - https://github.com/stacktracejs/stacktrace.js\n  // log to console\n  var msg = this.name + \": \" + opts.message;\n  Logger.console[levelsInverted[opts.level].toLowerCase()].apply(Logger.console, [msg].concat(opts.args));\n}\nfunction logToBuffer(method, args) {\n  this._buffer.push({ method: method, args: args });\n}\nfunction flushBuffer() {\n  var _this2 = this;\n\n  var v = this._buffer;\n  this._buffer = [];\n  v.forEach(function (it) {\n    return _this2[it.method].apply(_this2, it.args);\n  }); // re-run each method\n}\n\n// NOTE Logger-s append to Logger.console instead of directly console object\n// so that this can be mocked in tests.\nLogger.console = console;\n\n// export\nmodule.exports = Logger;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/logging/Logger.js\n// module id = 9\n// module chunks = 0","\"use strict\";\n\nvar Logger = require(\"./Logger.js\");\nvar Config = require(\"../util/Config.js\");\n\nvar loggers = {};\nvar LoggerFactory = {};\nvar loggerPriv = Logger.priv;\n// delete Logger.priv;\n\n/**\n * @class UuApp.Logging.LoggerFactory\n * @classdesc\n * Factory class for getting access to loggers. See {@link UuApp.Logging.Logger Logger} for more information.\n */\n\n/**\n * Returns an instance of the logger with given name. Settings of the logger are\n * taken from global configuration (see {@link UuApp.Util.Config.init Config.init}).\n * Default global logLevel is Logger.{@link UuApp.Logging.Logger.LEVEL_WARN LEVEL_WARN}.\n * \n * Successive calls with the same logger name return the same logger instance.\n * \n * @param {string} name The name of the logger. Typically, it's a fully-qualified name of\n *   the component that uses the logger, e.g. \"My.Namespace.Component\".\n * @param {boolean} hierarchical Whether the logger shall inherit settings from its parent\n *   package names, e.g. whether logger with name \"My.Namespace\" should inherit logLevel from \"My\"\n *   or from root (hierarchical = true, default) or only settings directly for \"My.Namespace\" apply\n *   (hierarchical = false). The parameter is used only during 1st invocation for given logger name,\n *   in successive calls it's ignored.\n * @return {UuApp.Logging.Logger} An instance of the logger with given name.\n * @method UuApp.Logging.LoggerFactory.get\n */\nLoggerFactory.get = function (name, hierarchical) {\n  if (typeof name != \"string\") throw new Error(\"LoggerFactory.get() must be called with a string argument (logger name).\");\n  if (loggers[name]) return loggers[name].logger;\n  loggerPriv.allowLoggerNew = true;\n  var logger;\n  try {\n    // create & configure the logger (configure only if configuration is not being loaded at the moment)\n    logger = new Logger(name);\n    if (!Config.initInvoked || Config.initComplete) configure(logger, hierarchical, Config);\n  } finally {\n    loggerPriv.allowLoggerNew = false;\n  }\n  return (loggers[name] = { logger: logger, hierarchical: hierarchical }).logger;\n};\n\n// configures logger from given environment object\nfunction configure(logger, hierarchical, env) {\n  // only \"logLevel\" is currently recognized\n  var logLevel = env.get(logger.name + \".logLevel\", hierarchical !== false);\n  logger.setLevel(logLevel);\n\n  logger.ready = true;\n}\n\n// create root logger\nLogger.getRootLogger = function () {\n  return rootLogger;\n};\nloggerPriv.allowLoggerNew = true;\nloggers[\"\"] = { logger: new Logger(\"\"), hierarchical: false };\nvar rootLogger = loggers[\"\"].logger;\nloggerPriv.allowLoggerNew = false;\n\n// re-configure existing loggers after global configuration is loaded (if loggers were created sooner than\n// configuration got loaded)\nif (!Config.initComplete) {\n  Config.initInvokedPromise.then(function () {\n    // change loggers to \"not-ready\" state (they'll buffer logging calls)\n    for (var k in loggers) {\n      loggers[k].logger.ready = false;\n    }\n  });\n  Config.initCompletePromise.then(function (env) {\n    // re-configure loggers and switch to \"ready\" state\n    for (var k in loggers) {\n      configure(loggers[k].logger, loggers[k].hierarchical, env);\n    }\n  });\n}\n\nmodule.exports = LoggerFactory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/logging/LoggerFactory.js\n// module id = 10\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoggerFactory = exports.Logger = undefined;\n\nvar _Logger = require(\"./Logger.js\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _LoggerFactory = require(\"./LoggerFactory.js\");\n\nvar _LoggerFactory2 = _interopRequireDefault(_LoggerFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Logger = _Logger2.default;\nexports.LoggerFactory = _LoggerFactory2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/logging/index.js\n// module id = 11\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PerfLog = undefined;\n\nvar _PerfLog = require(\"./PerfLog.js\");\n\nvar _PerfLog2 = _interopRequireDefault(_PerfLog);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.PerfLog = _PerfLog2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/perflog/index.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\nvar Err = require(\"../error/Error.js\");\n\n/**\n * @class UuApp.Uri.Uri\n * @classdesc\n * Immutable representation of uuUri. An instance of the Uri can be obtained either by\n * {@link UuApp.Uri.Uri.parse Uri.parse} or by using {@link UuApp.Uri.UriBuilder UriBuilder} class.\n * Note that minimal Uri consists of at least \"app\" and \"tid\".\n * \n * Examples of usage:\n * \n *     // uri from parsing current location\n *     var locationUri = Uri.parse(location.protocol + \"//\" + location.host + location.pathname); // \"http://example.com/vendor-app/0-0/some/uc\"\n *     var baseUri = locationUri.baseUri; // \"http://example.com/vendor-app/0-0\"\n *     var callUri = baseUri.join(\"+/getConfig\"); // \"http://example.com/vendor-app/0-0/getConfig\"\n *    \n *     // uri from parsing\n *     var uri = UuApp.Uri.Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subapp-spp/tid-awid/useCase?p1=v1\");\n *     console.log(uri.gateway, uri.product, uri.workspace, uri.useCase); \n *     var params = uri.parameters; // always returns new copy of parameter map\n *     for (var k in params) console.log(k, \"=\", params[k]); // p1 = v1\n *     \n *     // uri from UriBuilder\n *     var uri2 = UuApp.Uri.UriBuilder.parse(uri).setWorkspace(\"0-0\").setUseCase(\"/sys/init\").toUri();\n *     console.log(uri2.toString()); // https://uuos9.plus4u.net/vendor-app-subapp-spp/0-0/sys/init?p1=v1\n *     \n *     // uri from parsing (with ECMAScript6 template string, e.g. when using transpilers like Babel)\n *     // Note that query parameter values shouldn't be injected via template string as they might need\n *     // to be encoded first.\n *     var product = \"vendor-app\";\n *     var workspace = \"tid-awid\";\n *     var uri3 = UuApp.Uri.Uri.parse(`https://uuos9.plus4u.net/${product}/${workspace}`);\n *    \n * @see UuApp.Uri.UriBuilder\n */\n\n// NOTE Constructor is \"private\".\nvar priv = Uri.priv = {}; // TODO This is not-so-ellegant solution for allowing UriBuilder to call Uri constructor (and forbid it for everyone else).\nvar EMPTY = {};\nfunction Uri(scheme, hostname, port, vendor, app, subApp, spp, tid, awid, useCase, parameters) {\n  var _this = this;\n\n  if (!priv.allowNew) throw new Err(\"Use UuApp.Uri.Uri.parse to obtain an instance of uuUri.\");\n\n  if (port && typeof port != \"number\") port = parseInt(port + \"\", 10);\n  if ((port == null || port === \"\") && scheme) port = scheme.match(/^https$/) ? 443 : 80;\n  var gateway = { value: EMPTY, lazyGet: function lazyGet() {\n      return gateway.value !== EMPTY ? gateway.value : gateway.value = _this.Builder.formatGateway(scheme, hostname, port);\n    } };\n  var product = { value: EMPTY, lazyGet: function lazyGet() {\n      return product.value !== EMPTY ? product.value : product.value = _this.Builder.formatProduct(vendor, app, subApp, spp);\n    } };\n  var workspace = { value: EMPTY, lazyGet: function lazyGet() {\n      return workspace.value !== EMPTY ? workspace.value : workspace.value = _this.Builder.formatWorkspace(tid, awid);\n    } };\n  var params = Object.assign({}, parameters); // make a copy to guard against mutation of original \"parameters\" object\n  var uri = this;\n\n  // NOTE Attributes are defined as properties so that they throw error when developer\n  // tries tu mutate them (even in non-strict mode).\n  function throwOnSet(attr) {\n    return function () {\n      throw new Err(\"Cannot set \" + attr + \" on Uri because instances of Uri are immutable. Use UriBuilder instead.\");\n    };\n  }\n  Object.defineProperties(this, {\n    /** @name UuApp.Uri.Uri#scheme */\n    scheme: { get: function get() {\n        return scheme;\n      }, set: throwOnSet(\"scheme\") },\n\n    /** @name UuApp.Uri.Uri#hostname */\n    hostname: { get: function get() {\n        return hostname;\n      }, set: throwOnSet(\"hostname\") },\n\n    /** @name UuApp.Uri.Uri#port */\n    port: { get: function get() {\n        return port;\n      }, set: throwOnSet(\"port\") },\n\n    /**\n     * Formatted string containing scheme, hostname and port. For example for scheme \"https\",\n     * hostname \"example.com\" and port \"123\" it returns \"https://example.com:123\".\n     * \n     * @name UuApp.Uri.Uri#gateway\n     */\n    gateway: { get: gateway.lazyGet, set: throwOnSet(\"gateway\") },\n\n    /** @name UuApp.Uri.Uri#vendor */\n    vendor: { get: function get() {\n        return vendor;\n      }, set: throwOnSet(\"vendor\") },\n\n    /** @name UuApp.Uri.Uri#app */\n    app: { get: function get() {\n        return app;\n      }, set: throwOnSet(\"app\") },\n\n    /** @name UuApp.Uri.Uri#subApp */\n    subApp: { get: function get() {\n        return subApp;\n      }, set: throwOnSet(\"subApp\") },\n\n    /** @name UuApp.Uri.Uri#spp */\n    spp: { get: function get() {\n        return spp;\n      }, set: throwOnSet(\"spp\") },\n\n    /** @name UuApp.Uri.Uri#product */\n    product: { get: product.lazyGet, set: throwOnSet(\"product\") },\n\n    /** @name UuApp.Uri.Uri#tid */\n    tid: { get: function get() {\n        return tid;\n      }, set: throwOnSet(\"tid\") },\n\n    /** @name UuApp.Uri.Uri#awid */\n    awid: { get: function get() {\n        return awid;\n      }, set: throwOnSet(\"awid\") },\n\n    /** @name UuApp.Uri.Uri#workspace */\n    workspace: { get: workspace.lazyGet, set: throwOnSet(\"workspace\") },\n\n    /** @name UuApp.Uri.Uri#useCase */\n    useCase: { get: function get() {\n        return useCase;\n      }, set: throwOnSet(\"useCase\") },\n\n    /**\n     * Map containing query parameters. If there're no parameters, empty map is returned (not a null).\n     * Note that each access returns new copy of the map (to achieve immutability of the Uri class),\n     * therefore usage should look like this:\n     * \n     *     // OPTIMAL (single read of \"parameters\" field on uri)\n     *     var params = uri.parameters;\n     *     for (var k in params) console.log(params[k]);\n     *     \n     *     // SUB-OPTIMAL (multiple reads and therefore multiple copying of parameter map)\n     *     // for (var k in uri.parameters) console.log(uri.parameters[k]);\n     * \n     * @name UuApp.Uri.Uri#parameters\n     */\n    parameters: { get: function get() {\n        return Object.assign({}, params);\n      }, set: throwOnSet(\"parameters\") },\n\n    /**\n     * URI containing only mandatory routing data (includes only \"gateway\", \"product\" and \"workspace\").\n     * @name UuApp.Uri.Uri#baseUri\n     */\n    baseUri: { get: getBaseUri, set: throwOnSet(\"baseUri\") },\n    /**\n     * Relative URI (without \"gateway\").\n     * @name UuApp.Uri.Uri#relativeUri\n     */\n    relativeUri: { get: getRelativeUri, set: throwOnSet(\"relativeUri\") }\n  });\n\n  var baseUri, relativeUri;\n  function getBaseUri() {\n    if (baseUri !== undefined) return baseUri;\n    if (uri.gateway == null || uri.product == null || uri.workspace == null) throw new Err(\"Insufficient URI - at least one of gateway, product and workspace is not set. Uri: \" + uri.toString());\n    baseUri = uri.Builder.parse(uri).set({ useCase: null }).clearParameters().toUri();\n    return baseUri;\n  }\n  function getRelativeUri() {\n    if (relativeUri !== undefined) return relativeUri;\n    relativeUri = uri.Builder.parse(uri).set({ gateway: null }).toUri();\n    return relativeUri;\n  }\n\n  var str;\n  /**\n   * Converts URI to string.\n   * \n   * @return URI converted to string.\n   * @method UuApp.Uri.Uri#toString\n   */\n  this.toString = function () {\n    return str !== undefined ? str : str = _this.Builder.format(_this);\n  };\n\n  //    /**\n  //     * Converts URI to an object literal (a map) containing keys scheme, hostname, ...\n  //     * \n  //     * @function UuApp.Uri.Uri#toObject\n  //     */\n  //    this.toObject = () => ({\n  //      scheme: scheme, hostname: hostname, port: port, vendor: vendor, app: app, subApp: subApp, spp: spp,\n  //      tid: tid, awid: awid, useCase: useCase, parameters: Object.assign({}, params)\n  //    });\n\n  // serialize as string when stringifying to JSON\n  this.toJSON = this.toString;\n\n  // prevent any modification of the Uri object\n  Object.freeze(this);\n}\n\n/**\n * Replaces current path with specified absolute path (or adds a relative path to the current path) returning new Uri.\n * Query parameters are preserved only on last path. Resolving relative path and usage of \"./\" and \"../\" works as in standard\n * URLs (see {@link https://tools.ietf.org/html/rfc2396#appendix-C RFC 2396, examples}).\n * \n * Additionally, it's possible to use \"+/\" at the beginning of paths - paths starting\n * with \"+/\" are joined as if current path (to which new path is being joined) denoted a \"folder\", i.e. current path\n * is appended with slash (unless it already ends with slash) and new path is appended afterwards (see examples). \n * \n * @param {...string} path Absolute or relative paths to replace / add.\n * @return New Uri whose path is the result of the join.\n * @method UuApp.Uri.Uri#join\n * @example\n *  // replace path with an absolute path (effectively removing also query parameters)\n *  var uri = Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1?a=b\");\n *  var uri2 = uri.join(\"/vendor2-app2/tid2-awid2\"); // https://uuos9.plus4u.net/vendor2-app2/tid2-awid2\n *  \n *  // add relative paths\n *  var uri = Uri.parse(\"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1\");\n *  var uri2 = uri.join(\"sys/init?p=v\");             // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/sys/init?p=v\n *  var uri3 = uri.join(\"+/sys/init?p=v\");           // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init?p=v\n *  var uri4 = uri.join(\"+/sys/?a=b\", \"init?c=d\");   // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init?c=d\n */\nUri.prototype.join = function () /* ... */{\n  if (arguments.length <= 0) return this;\n  var root = this.gateway || \"\";\n  var path = this.toString().substr(root.length);\n\n  for (var i = 0; i < arguments.length; ++i) {\n    var pathPart = arguments[i];\n    if (!pathPart) continue;\n    path = path.replace(/[?#].*/, \"\"); // remove query part because we're going to add / replace path\n    pathPart = pathPart.replace(/((^|\\/)\\.\\.?)$/, \"$1/\"); // if new path part ends with two dots / one dot, treat it as a \"folder\", i.e. append \"/\"\n    if (pathPart.charAt(0) == \"/\") path = pathPart; // new path part is absolute => replace whole path\n    else if (pathPart.match(/^\\+(\\/|$)/)) path = path.replace(/\\/?$/, \"/\") + pathPart; // new path part is relative with \"+/\" => append \"/\" and then new path\n      else if (path.charAt(path.length - 1) == \"/\") path += pathPart; // new path part is relative and current path is a \"folder\" => append new path\n        else path = path.replace(/(^|\\/)[^\\/]*$/, \"$1\") + pathPart; // new path part is relative and current path is not a \"folder\" => replace last segment of current path\n  }\n\n  // normalize (modify segments to eliminate \"../\" and \"./\" from the path)\n  var segments = [];\n  path.split(\"/\").forEach(function (part) {\n    if (part === \"..\") segments.pop();else if (part !== \".\" && part !== \"+\") segments.push(part);\n  });\n  if (segments[0] !== \"\") segments.unshift(\"\"); // make sure that after \"join\" operation the path starts with \"/\"\n  var resultPath = segments.join(\"/\");\n  return Uri.parse(root + resultPath);\n};\n\n/**\n * Checks whether the other URI is equal to this one and returns true iff it is.\n * \n * @param {UuApp.Uri.Uri} uri Uri to check equality against.\n * @return True iff the specified uri is equal to this one.\n * @method UuApp.Uri.Uri#equals\n */\nUri.prototype.equals = function (aUri2) {\n  return this.toString() === (aUri2 || \"\").toString();\n};\n\n/**\n * @param {(string|UuApp.Uri.Uri)} uriStr The string to parse as URI. If an instance of Uri class is given, it's returned as-is.\n * @return {UuApp.Uri.Uri} Parsed URI.\n * @method UuApp.Uri.Uri.parse\n * @example\n *    var uri = UuApp.Uri.Uri.parse(\"https://uuos9.plus4u.net/vendor-app/tid-awid/useCase?p1=v1\");\n *    console.log(uri.gateway, uri.product, uri.workspace, uri.useCase, uri.parameters);\n */\nUri.parse = function (uriStr) {\n  if (uriStr instanceof Uri) return uriStr;\n  return Uri.prototype.Builder.parse(uriStr).toUri();\n};\n\nmodule.exports = Uri;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/uri/Uri.js\n// module id = 13\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UriBuilder = exports.Uri = undefined;\n\nvar _Uri = require(\"./Uri.js\");\n\nvar _Uri2 = _interopRequireDefault(_Uri);\n\nvar _UriBuilder = require(\"./UriBuilder.js\");\n\nvar _UriBuilder2 = _interopRequireDefault(_UriBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Uri = _Uri2.default;\nexports.UriBuilder = _UriBuilder2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/uri/index.js\n// module id = 14\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Config = undefined;\n\nvar _Config = require(\"./Config.js\");\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Config = _Config2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/util/index.js\n// module id = 15\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _uu_appg01_core = require(\"uu_appg01_core\");\n\nvar _Defaults = require(\"./Defaults.js\");\n\nvar _Defaults2 = _interopRequireDefault(_Defaults);\n\nvar _ImplicitFlow = require(\"./flow/ImplicitFlow.js\");\n\nvar _ImplicitFlow2 = _interopRequireDefault(_ImplicitFlow);\n\nvar _SessionContext = require(\"./SessionContext.js\");\n\nvar _SessionContext2 = _interopRequireDefault(_SessionContext);\n\nvar _Uuid = require(\"./util/Uuid.js\");\n\nvar _Uuid2 = _interopRequireDefault(_Uuid);\n\nvar _Jwt = require(\"./jwt/Jwt.js\");\n\nvar _Jwt2 = _interopRequireDefault(_Jwt);\n\nvar _InvalidTokenError = require(\"./jwt/InvalidTokenError.js\");\n\nvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\nvar _Jwks = require(\"./jwks/Jwks.js\");\n\nvar _Jwks2 = _interopRequireDefault(_Jwks);\n\nvar _Discovery = require(\"./discovery/Discovery.js\");\n\nvar _Discovery2 = _interopRequireDefault(_Discovery);\n\nvar _Os8Auth = require(\"./uuos8/Os8Auth.js\");\n\nvar _Os8Auth2 = _interopRequireDefault(_Os8Auth);\n\nvar _Dom = require(\"./util/Dom.js\");\n\nvar _Dom2 = _interopRequireDefault(_Dom);\n\nvar _PromiseUtil = require(\"./util/PromiseUtil.js\");\n\nvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\nvar _StringUtil = require(\"./util/StringUtil.js\");\n\nvar _StringUtil2 = _interopRequireDefault(_StringUtil);\n\nvar _IframeComponent = require(\"./ui/IframeComponent.js\");\n\nvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Error = _uu_appg01_core.Error.Error;\n\nvar Session = function () {\n\n  /**\n   * Creates new Session with specified options.\n   * \n   * @class UuOidc.Session\n   * @classdesc\n   * \n   * Session handling via OpenID Connect server.\n   * \n   * **Configuration**\n   * \n   * Login via OpenID Connect server **requires a special callback HTML page be present on the domain where application is running**. The callback\n   * HTML page should be copied from the contents of this library (callbacks/oidc-callback.html) to the application and URL path to it must be\n   * configured as described below - configuration parameter \"uuoidc.redirectUri\".\n   * \n   * Following global configuration parameters are used for initializing {@link UuOidc.Session.currentSession Session.currentSession}:\n   * \n   * * **uuoidc.clientId** - OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user.\n   *   Default is auto-generated which means that the application will be treated as an anonymous application and therefore might not be authorized for\n   *   accessing most of user data.\n   * * **uuoidc.redirectUri** - Redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application\n   *   and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative\n   *   to document.baseURI (current URL). Default is \"callbacks/oidc-callback.html\".\n   * * **uuoidc.serverUri** - OpenID Connect server to perform login / logout against. Default is \"https://oidc.plus4u.net/uu-oidcg01-main/0-0\".\n   * * **uuoidc.sessionCheckInterval** - how often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds. Default is 60.\n   * \n   * @param options {Object|UuApp.Util.Config} Options.\n   * @param options.serverUri OpenID Connect server to perform login / logout against.\n   * @param options.clientId OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user.\n   * @param options.redirectUri Redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application\n   *   and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative\n   *   to document.baseURI (current URL).\n   * @param options.sessionCheckInterval How often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds.\n   */\n  function Session(options) {\n    var _this = this;\n\n    _classCallCheck(this, Session);\n\n    if (!options) throw new Error(\"Session must be initialized with proper options or UuApp.Util.Config.\");\n    this._optionsMergedPromise = _PromiseUtil2.default.wrapForImmediateThen(Promise.resolve(options && typeof options.get == \"function\" ? options.initPromise : options).then(function (env) {\n      if (env && typeof env.get == \"function\") {\n        _this.serverUri = env.get(\"uuoidc.serverUri\", false);\n        _this.clientId = env.get(\"uuoidc.clientId\", false);\n        _this.implicitFlowRedirectUri = env.get(\"uuoidc.redirectUri\", false);\n        _this.sessionCheckInterval = env.get(\"uuoidc.sessionCheckInterval\", false);\n      } else if (env) {\n        _this.serverUri = env[\"serverUri\"];\n        _this.clientId = env[\"clientId\"];\n        _this.implicitFlowRedirectUri = env[\"redirectUri\"];\n        _this.sessionCheckInterval = env[\"uuoidc.sessionCheckInterval\"];\n      }\n      if (_this.serverUri == null) _this.serverUri = _Defaults2.default.serverUri;\n      if (_this.clientId == null) _this.clientId = \"uu-oidc:unregistered-client:\" + (0, _Uuid2.default)();\n      if (_this.sessionCheckInterval == null) _this.sessionCheckInterval = _Defaults2.default.sessionCheckInterval;\n      if (!_this.implicitFlowRedirectUri) {\n        // console.warn(\"Session login will work only with directly provided access token because no callback URL for OpenID Connect server was specified in\" + \n        //   \" the configuration. To support login via popup, specify redirectUri when creating session, or initialize UuApp.Util.Config with \\\"uuoidc.redirectUri\\\" option.\");\n        _this.implicitFlowRedirectUri = \"callbacks/oidc-callback.html\";\n      }\n      // if redirect URI is relative then absolutize it (relative to current document.baseURI)\n      if (!_this.implicitFlowRedirectUri.match(/^[a-z]+:/i)) {\n        // no protocol present\n        var baseUrl = toFullUrl(document.baseURI || location.pathname).replace(/^([^?#]*\\/).*/, \"$1\");\n        if (_this.implicitFlowRedirectUri.charAt(0) != \"/\") _this.implicitFlowRedirectUri = toFullUrl(baseUrl + _this.implicitFlowRedirectUri);else _this.implicitFlowRedirectUri = toFullUrl(_this.implicitFlowRedirectUri);\n      }\n\n      // add session state checking which, in case that we were logged in and a logout\n      // against OIDC is detected (e.g. in another browser tab), will log us out\n      // TODO This is a hotfix solution - proper way is that there's a component scoped by serverUri which performs the session checks.\n      var timeout = Math.max(5, _this.sessionCheckInterval) * 1000;\n      var check = function () {\n        var _this2 = this;\n\n        // if not logged in then just plan another check (we don't want to auto-login in this tab if user logs in another browser tab)\n        if (!this._loginCtx) return setTimeout(check, timeout);\n\n        // check login state via login (but don't actually use the newly issued token)\n        this._login({\n          acr_values: \"1\",\n          prompt: \"none\"\n        }, false).then(function () {\n          // still logged in => just plan another check\n          setTimeout(check, timeout);\n        }, function (e) {\n          // assume logout\n          delete _this2._loginCtx;\n          _this2._runListeners();\n          setTimeout(check, timeout);\n        });\n      }.bind(_this);\n      setTimeout(check, timeout);\n    }));\n    this._loginInProgress = [];\n\n    var listeners = [];\n    /**\n     * @return {boolean} True iff the user is authenticated (logged in).\n     * @method UuOidc.Session#isAuthenticated\n     */\n    this.isAuthenticated = function () {\n      return !!_this._loginCtx;\n    };\n    /**\n     * Adds listener for changes of user identity (logins / logouts).\n     * \n     * @param {Function(Object)} listener The listener function to add. The function receives identity object or null.\n     * @return {Function()} Function for unregistering the listener (the listener can be unregistered also by {@link UuOidc.Session#removeIdentityChangeListener}).\n     * @see UuOidc.Session#getIdentity\n     * @method UuOidc.Session#addIdentityChangeListener\n     */\n    this.addIdentityChangeListener = function (listener) {\n      listeners.push(listener);\n      return _this.removeIdentityChangeListener.bind(_this, listener);\n    };\n    /**\n     * Removes listener for changes of user identity (logins / logouts).\n     * \n     * @param {Function(Object)} listener The listener to remove.\n     * @return {boolean} True if the listener got removed, false otherwise (listener was not registered).\n     * @method UuOidc.Session#removeIdentityChangeListener\n     */\n    this.removeIdentityChangeListener = function (listener) {\n      var idx = listeners.indexOf(listener);\n      if (idx != -1) listeners.splice(idx, 1);\n      return idx != -1;\n    };\n    this._runListeners = function () {\n      var identity = _this.getIdentity();\n      listeners.forEach(function (it) {\n        return it.call(_this, identity);\n      });\n    };\n\n    this.nonce = Math.random().toString(32).substr(2);\n\n    // add planning & executing of token refresh when its nearing expiration\n    // NOTE This assumes that each token refresh ends with running the identity-change listeners.\n    this.addIdentityChangeListener(function (identity) {\n      // console.log(\"Identity change:\", identity);\n      if (_this._sessionRefreshTimeout) {\n        clearTimeout(_this._sessionRefreshTimeout);\n        delete _this._sessionRefreshTimeout;\n      }\n      var claims = _this.getClaims();\n      var expiresAt = (claims || {})[\"exp\"];\n      if (!expiresAt) return;\n      expiresAt = expiresAt * 1000; // let it be in milliseconds\n      var LEEWAY = 5 * 60 * 1000;\n      var now = new Date().getTime();\n      var delay = expiresAt - now - LEEWAY;\n      if (delay < 0) delay = 0;\n      // expiresAt = now + 30000;\n      // delay = 20000;\n      // console.log(\"Planning token refresh in \", delay, \"ms.\");\n      _this._sessionRefreshTimeout = setTimeout(function () {\n        delete _this._sessionRefreshTimeout;\n        // refresh token by calling login() un-interactively\n        _this._login({\n          prompt: \"none\", // no user interaction\n          acr_values: \"1\" // non-anonymous user\n        }).catch(function (e) {\n          if (_this._sessionRefreshTimeout) return; // identity changed in-between (maybe due to login with directly provided access_token)\n          // refresh failed => perform logout few seconds before the token expires\n          var autoLogoutAfter = Math.max(0, expiresAt - new Date().getTime() - 30 * 1000);\n          // console.log(\"Token refresh failed - will perform auto-logout in\", autoLogoutAfter, \"ms.\");\n          _this._sessionRefreshTimeout = setTimeout(function () {\n            delete _this._loginCtx;\n            _this._runListeners();\n          }, autoLogoutAfter);\n        });\n      }, delay);\n    });\n  }\n\n  /**\n   * Returns identity of currently logged in user or null if not logged in. The identity contains following fields:\n   * \n   * * id\n   * * name\n   * * uuIdentity\n   * * email\n   * * levelOfAssurance\n   * * loginLevelOfAssurance\n   * \n   * @return {Object} Identity of currently logged in user or null if not logged in.\n   * @method UuOidc.Session#getIdentity\n   */\n\n\n  _createClass(Session, [{\n    key: \"getIdentity\",\n    value: function getIdentity() {\n      return this._loginCtx ? this._loginCtx.getIdentity() : null;\n    }\n\n    /**\n     * Returns all claims present in the token (or null if not logged in).\n     * \n     * @method UuOidc.Session#getClaims\n     */\n\n  }, {\n    key: \"getClaims\",\n    value: function getClaims() {\n      return this._loginCtx ? this._loginCtx.getClaims() : null;\n    }\n\n    /**\n     * Login against OpenID Connect server. If no or empty options are used, user will be required to\n     * log in as non-anonymous user (as if { acrValues: 1 } was used). If user is already logged in\n     * and options don't indicate that a re-login is necessary, then the method does nothing. Re-login can\n     * be forced by using option \"prompt\" set to \"login\".\n     * \n     * @param options {Object} Options.\n     * @param options.prompt {string} (optional) One of \"\" (default), \"none\" (check login state without user interaction), \"login\" (re-request authentication).\n     * @param options.acrValues (optional) One of: 0 (allow log in as anonymous), 1 (require non-anonymous user).\n     * @param options.accessToken {string} (optional) Authentication token to use for login. Currently, only id_token (JWT) is supported.\n     * @param options.tokenTypeHint {string} (optional) Hint about the type of the authentication token (accessToken in options) if it\n     *   isn't standard id_token. Supported values depend on OpenID Connect server. uuOS9 server supports these values:\n     * \n     * * \"urn:ietf:params:oauth:token-type:jwt-uuos8\" - indicates that the token being passed to the login was originally issued by uuOS8\n     * \n     * @return Promise resolved after the login ends. The resolved value is this session instance, identity of logged in user can be obtained\n     *   via sessionInstance.{@link UuOidc.Session#getIdentity getIdentity()}. Rejection value is one of:\n     * \n     *   * false - user refused to log in\n     *   * Error - any other error such as network problems, ...\n     * \n     * @method UuOidc.Session#login\n     */\n\n  }, {\n    key: \"login\",\n    value: function login(options) {\n      // NOTE For backward compatibility within version 1.x.y, this method must accept also snake_cased options keys (access_token, ...).\n\n      // convert keys in options to snake_case (that's what is used in the code base of this library as OpenID & OAuth uses it too)\n      var opts;\n      if (options) opts = Object.keys(options).reduce(function (r, k) {\n        return r[_StringUtil2.default.toSnakeCase(k)] = options[k], r;\n      }, {});\n\n      return this._login(opts, true);\n    }\n\n    // NOTE Uses snake_case in options because that's how OpenID & OAuth is specified.\n\n  }, {\n    key: \"_login\",\n    value: function _login(options) {\n      var _this3 = this;\n\n      var updateSessionWithLoginResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var opts = Object.assign({}, options);\n\n      // there's a special case in which we support providing uuOS8 token\n      var os8Token;\n      if (opts.token_type_hint === \"urn:ietf:params:oauth:token-type:jwt-uuos8\") {\n        os8Token = opts.access_token;\n        delete opts.access_token;\n        delete opts.token_type_hint;\n      }\n\n      // use accessToken directly if it's provided\n      var accessToken = opts.access_token;\n      delete opts.access_token;\n\n      var doLogin = function doLogin() {\n        _this3._loginInProgress.push(1);\n\n        // if calling Session.login() with no parameters, log in as non-anonymous user\n        if (Object.keys(opts).length == 0) opts[\"acr_values\"] = 1;\n\n        // if we have user then login only if options indicate that we have to\n        if (!accessToken && _this3._loginCtx) {\n          var useCurrent = true;\n          if (opts[\"prompt\"] || opts[\"max_age\"] || opts[\"access_token\"]) useCurrent = false; // TODO Check max_age in more detail and use current if we're within the limit.\n\n          // check required login level of assurance\n          var acr_values = (opts[\"acr_values\"] != null ? opts[\"acr_values\"] + \"\" : \"\").split(/\\s+/);\n          var identity = _this3.getIdentity();\n          if (acr_values.every(function (v) {\n            return Number(v) > identity.loginLevelOfAssurance;\n          })) useCurrent = false; // all acceptable login levels of assurance, that are requested, are greater than current one => do the login\n\n          // check current token expiration\n          if (_this3._authResponseExpired(_this3._loginCtx.authResponse)) useCurrent = false; // our token expired => do the login\n\n          // use current token if everything seems fine\n          if (useCurrent) {\n            _this3._loginInProgress.pop();\n            return Promise.resolve(_this3);\n          }\n        }\n\n        // login using implicit flow\n        var authResponse = accessToken ? { id_token: accessToken } : null;\n        var state;\n        var nonce = accessToken || \"nonce\" in opts ? opts[\"nonce\"] : _this3.nonce;\n\n        // NOTE Clicking a button, which launches this login method, can result in\n        // at most 1 Promise resolution. If 2 or more Promises are chained, mobile\n        // devices such as iPhone 4 will block popup opening. That's why this._optionsMergedPromise\n        // is wrapped via PromiseUtil which then allows us here to call our \"then\" function immediately\n        // if the this._optionsMergedPromise has already been resolved.\n        // TODO Maybe reimplement by using some sort of ImmediatePromiseWrapper which in case of .then(fn)\n        // will invoke the fn immediately. Note that Promise chaining must be somehow resolved which is\n        // not trivial.\n        var authResponsePromise = Promise.resolve(authResponse || _PromiseUtil2.default.immediateThen(_this3._optionsMergedPromise, function () {\n          // handle uuOS8 token - we need to obtain standard OIDC id_token and start OIDC session (set session cookie) - we'll\n          // do this by exchanging tokens via non-standard endpoint for uuOS8\n          if (os8Token) {\n            nonce = null;\n            var os8Auth = new _Os8Auth2.default({\n              serverUri: _this3.serverUri,\n              clientId: _this3.clientId,\n              redirectUri: _this3.implicitFlowRedirectUri\n            });\n            return os8Auth.grantExchangeToken({\n              subject_token: os8Token\n            });\n          }\n\n          // authenticate using implicit flow\n          opts.nonce = nonce;\n          opts.state = state = Math.random().toString(32).substr(2);\n          return _ImplicitFlow2.default.login({\n            serverUri: _this3.serverUri,\n            clientId: _this3.clientId,\n            redirectUri: _this3.implicitFlowRedirectUri,\n            loginParams: opts\n          });\n        }, function (e) {\n          return Promise.reject(e);\n        }));\n        return authResponsePromise.then(function (authResponse) {\n          // ImplicitFlow response validation: http://openid.net/specs/openid-connect-core-1_0.html#ImplicitAuthResponseValidation\n          // 1. process only recognized fields in response (id_token, expires_in, ...)\n          // 2. validate implicit flow callback response (\"state\")\n          // 3. validate id_token with nonce => http://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation\n          //      i. validate as authorization code flow - http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\n          //     ii. validate signature\n          //    iii. validate nonce\n          // 4. validate access_token\n\n          // 2.i. validate state\n          if (state && authResponse.state !== state) throw new Error(\"Invalid 'state' in received token. Expected \" + state + \" but got \" + authResponse.state + \". Token: \" + JSON.stringify(authResponse));\n\n          // 2.ii. validate expiration\n          if (_this3._authResponseExpired(authResponse)) throw new Error(\"Token expired \" + JSON.stringify(authResponse));\n\n          // 3. validate id_token with nonce\n          return _this3._validateIdToken(authResponse.id_token, nonce).then(function (claims) {\n            if (updateSessionWithLoginResult !== false) {\n              _this3._loginCtx = new _SessionContext2.default(opts, authResponse, claims);\n              _this3._runListeners();\n            }\n            return _this3;\n          });\n        }).then(function (r) {\n          _this3._loginInProgress.pop();\n          return r;\n        }, function (e) {\n          _this3._loginInProgress.pop();\n          return Promise.reject(e);\n        });\n      };\n\n      // wait for session restoring in case that this instance of the session is the \"main\" session\n      return this === Session.currentSession && !accessToken && !os8Token && Object.keys(opts).length === 0 ? _PromiseUtil2.default.immediateThen(Session.initPromise, doLogin) : doLogin();\n    }\n\n    /**\n     * @return Promise resolved after the user gets logged out.\n     * @method UuOidc.Session#logout\n     */\n\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this4 = this;\n\n      if (!this._loginCtx) return Promise.resolve();\n\n      // TODO Logout using end_session_endpoint when it's implemented on server-side.\n      // logout using uuOidc-specific logout endpoint for now\n      return this._optionsMergedPromise.then(function () {\n        return new Promise(function (resolve, reject) {\n          var oidcServerUri = _this4.serverUri;\n          var logoutCallbackUri = _this4.implicitFlowRedirectUri;\n          var logoutUrl = oidcServerUri + \"/logout?redirect_uri=\" + encodeURIComponent(logoutCallbackUri);\n          new _IframeComponent2.default({\n            url: logoutUrl,\n            onResult: function onResult(result) {\n              // assume that the user is now logged out (regardless of result)\n              delete _this4._loginCtx;\n              _this4._runListeners();\n              resolve();\n            }\n          }).render();\n        });\n      });\n    }\n\n    /**\n     * Returns token and its type for calling commands. Returned object contains following fields:\n     * \n     * * tokenType - the type of the token, such as \"Bearer\",\n     * * token - the token itself.\n     * \n     * If the user is not logged in, null is returned.\n     * \n     * @param {(string|UuApp.Uri.Uri)} callUri (optional) Command URI that is going to be called with the token.\n     * @return Object containing token and its type, or null if user is not logged in.\n     * @method UuOidc.Session#getCallToken\n     */\n\n  }, {\n    key: \"getCallToken\",\n    value: function getCallToken(callUri) {\n      var authResponse = (this._loginCtx || {}).authResponse;\n      if (!authResponse) return null;\n      var result = {\n        tokenType: authResponse.token_type || null,\n        token: authResponse.id_token || null\n      };\n      return result;\n    }\n  }, {\n    key: \"_authResponseExpired\",\n    value: function _authResponseExpired(authResponse) {\n      var now = new Date().getTime() / 1000;\n      var leeway = 60;\n      var expired = false;\n      if (!authResponse.issued_at) authResponse.issued_at = now;\n      if (authResponse.expires_at) expired = expired || authResponse.expires_at < now - leeway;\n      if (authResponse.expires_in && authResponse.issued_at) expired = expired || Number(authResponse.expires_in) + Number(authResponse.issued_at) < now - leeway;\n      return expired;\n    }\n\n    /**\n     * @return {Promise<Object>} Promise resolved to JWT claims or rejected with validation error.\n     */\n\n  }, {\n    key: \"_validateIdToken\",\n    value: function _validateIdToken(token, nonce) {\n      var _this5 = this;\n\n      // 3. validate id_token => http://openid.net/specs/openid-connect-core-1_0.html#ImplicitIDTValidation\n      //      i. validate as authorization code flow - http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\n      //         1. -Decrypt JWE - not supported.\n      //         2. +REQUIRED validate 'iss'\n      //         3. +REQUIRED validate 'aud'\n      //         4. -SHOULD validate multiple 'aud' vs. 'azp'\n      //         5. -SHOULD validate 'azp'\n      //         6. -REQUIRED <applicable only for token_endpoint, not for implicit flow>\n      //         7. -SHOULD validate 'alg' in header vs. 'alg' sent during client registration\n      //         8. -REQUIRED <for MAC-based algos> - not supported (we use RSA)\n      //         9. +REQUIRED current time < 'exp'\n      //        10. +CAN check 'iat'\n      //        11. +REQUIRED (for implicit flow) validate nonce\n      //        12. -SHOULD check if 'acr' is appropriate\n      //        13. -SHOULD check if 'auth_time' was requested.\n      //     ii. validate signature\n      //    iii. validate nonce\n\n      return this._optionsMergedPromise.then(function () {\n        return _Discovery2.default.getMetadata(_this5.serverUri).then(function (metadata) {\n          var verifyOptions = {\n            // NOTE IE11 doesn't have RS512 (but it has \"RS256\" and \"RS384\").\n            alg: [\"RS256\"], // 3.i.7. (we'll allow only RSA algorithms for signature verification)\n            iss: [metadata.issuer], // 3.i.2.\n            // aud: this.clientId, // 3.i.3. TODO We don't have the proper value.\n            // 3.i.9. - 'exp' is checked automatically if present in JWT claims (as well as 'iat', 'nbf') \n            gracePeriod: 300\n          };\n          return _Jwt2.default.decode(token, verifyOptions, function (jwtHeader) {\n            // 3.ii.\n            if (!jwtHeader.alg || !jwtHeader.alg.match(/^RS\\d+$/)) throw new Error(\"Invalid token. Only RSA signature is supported, but token uses algorithm '\" + jwtHeader.alg + \"'. Token: \" + token);\n            var keyType = \"RSA\";\n\n            // check algorithm in token (whether it's really supported by the server)\n            var supportedAlgs = metadata.id_token_signing_alg_values_supported || [];\n            if (supportedAlgs.indexOf(jwtHeader.alg) == -1) throw new Error(\"Invalid token. Token was signed using algorithm '\" + jwtHeader.alg + \"' but the OIDC server '\" + _this5.serverUri + \"' supports only \" + JSON.stringify(supportedAlgs) + \". Token: \" + token);\n\n            // pick the key from JWK Set\n            var jwks = new _Jwks2.default({ serverUri: _this5.serverUri });\n            return jwks.getKey(jwtHeader.kid, keyType).catch(function (e) {\n              throw new Error(\"Invalid token. Unable to match key from JWT header to list of keys used by OpenID Connect server \" + _this5.serverUri + \". Token: \" + token, e);\n            });\n          }).then(function (claims) {\n            // 3.i.11., 3.iii. validate nonce\n            if (nonce && claims.nonce !== nonce) throw new _InvalidTokenError2.default(\"Invalid nonce in ID token claims. Expected \" + nonce + \" but got \" + claims.nonce);\n            return claims;\n          });\n        });\n      });\n    }\n  }]);\n\n  return Session;\n}();\n\nexports.default = Session;\n\n\nfunction toFullUrl(path) {\n  var a = document.createElement(\"a\");\n  a.href = path;\n  return a.href.toString(); // browser-normalized URL (removed \"../\" sequences, ...)\n}\n\n/**\n * Current session.\n * \n * @name UuOidc.Session.currentSession\n * @type UuOidc.Session\n */\nvar currentSession;\nvar allowAutoInitSession = true;\nObject.defineProperty(Session, \"currentSession\", {\n  get: function get() {\n    if (allowAutoInitSession && !currentSession) {\n      currentSession = new Session(_uu_appg01_core.Util.Config); // TODO As it is now, accessing Session.currentSession prior to invoking Config.init will use defaults-only (for whole page duration).\n      currentSession.initComplete = false;\n      currentSession.initPromise = Session.initPromise;\n    }\n    return currentSession;\n  },\n  set: function set(value) {\n    allowAutoInitSession = false;\n    currentSession = value;\n  }\n});\n\nvar finalizeInit;\n/**\n * Promise resolved after session initialization (restoring state) finishes.\n * \n * @type {Promise<UuOidc.Session>}\n * @name UuOidc.Session.initPromise \n */\n/**\n * Promise resolved after session initialization (restoring state) finishes.\n * Note that this field is available only on a session instance that is\n * created automatically during page load.\n * \n * @type {Promise<UuOidc.Session>}\n * @name UuOidc.Session#initPromise \n */\nSession.initPromise = _PromiseUtil2.default.wrapForImmediateThen(new Promise(function (resolve, reject) {\n  finalizeInit = function finalizeInit(isOk, result) {\n    Session.initComplete = true;\n    Session.currentSession.initComplete = true;\n    if (!isOk) console.log(\"Session initialization failed:\", result);\n    resolve(Session.currentSession); // always resolve as success even if checking session state failed\n    return Session.initPromise;\n  };\n}));\n\n/**\n * Whether the session initialization performed during page load has already completed.\n * \n * @type {boolean}\n * @name UuOidc.Session.initComplete\n */\n/**\n * Whether the session initialization performed during page load has already completed.\n * Note that this field is available only on a session instance that is\n * created automatically during page load.\n * \n * @type {boolean}\n * @name UuOidc.Session#initComplete\n */\nSession.initComplete = false;\n\nfunction tryAutoLogin() {\n  if (Session.currentSession.isAuthenticated() || Session.currentSession._loginInProgress.length > 0) return;\n\n  // if there's access_token parameter in current URL, consider it as the id_token of the user\n  var id_token;\n  location.search.replace(/[?&]access_token=([^&#]*)/, function (m, g) {\n    id_token = decodeURIComponent(g.replace(/\\+/g, \" \"));\n  });\n  if (id_token) {\n    return Session.currentSession._login({\n      access_token: id_token,\n      nonce: null\n    });\n  }\n\n  // TODO Maybe we should use localStorage/sessionStorage too so that navigating between pages won't unnecessarily trigger\n  // re-login every time.\n\n  // try to login with no user interaction\n  return Session.currentSession._login({\n    prompt: \"none\", // no user interaction\n    acr_values: \"1\" // non-anonymous user\n  }).catch(function (e) {\n    if (e && (typeof e === \"undefined\" ? \"undefined\" : _typeof(e)) == \"object\" && typeof e[\"error_description\"] == \"string\" && e[\"error_description\"].match(/interaction/i) && e[\"error_description\"].match(/required/i)) return; // everything is fine, we just aren't logged in\n    throw e; // some other error happenned\n  });\n}\n\n// try to login without prompting user (only for browser environment)\nvar isBrowser = new Function(\"try {return this===window;}catch(e){ return false;}\")();\nif (isBrowser) {\n  // wait until DOM is ready because we need BODY element to be present due to how implicit flow works\n  _Dom2.default.domReady.then(function () {\n    return Promise.resolve(tryAutoLogin()); // ASAP login, possibly from URL parameter\n  }).then(finalizeInit.bind(null, true), finalizeInit.bind(null, false));\n} else {\n  finalizeInit(true);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/Session.js\n// module id = 16\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Discovery = require(\"../discovery/Discovery.js\");\n\nvar _Discovery2 = _interopRequireDefault(_Discovery);\n\nvar _PromiseUtil = require(\"../util/PromiseUtil.js\");\n\nvar _PromiseUtil2 = _interopRequireDefault(_PromiseUtil);\n\nvar _PopupComponent = require(\"../ui/PopupComponent.js\");\n\nvar _PopupComponent2 = _interopRequireDefault(_PopupComponent);\n\nvar _IframeComponent = require(\"../ui/IframeComponent.js\");\n\nvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ImplicitFlow = {\n  /**\n   * @param options.serverUri\n   * @param options.clientId\n   * @param options.redirectUri\n   * @param options.loginVisualComponent\n   * @param options.loginParams\n   */\n  login: function login(options) {\n    var opts = options || {};\n\n    // check that required data is available\n    var serverUri = opts.serverUri;\n    if (!serverUri) throw new Error(\"ImplicitFlow.login requires option 'serverUri'.\");\n    var clientId = opts.clientId;\n    if (!clientId) throw new Error(\"ImplicitFlow.login requires option 'clientId'.\");\n    var redirectUri = opts.redirectUri;\n    if (!redirectUri) throw new Error(\"ImplicitFlow.login requires option 'redirectUri'.\");\n\n    // NOTE Using PromiseUtil.immediateThen which will run our \"then\" callback immediately if\n    // the Discovery.getMetadata is already resolved. The idea is that this login could have\n    // been triggered from \"click\" event and we need to open popup window within this event's\n    // lifetime or within single Promise (but not Promise chain because that doesn't work on\n    // iPhones).\n    return _PromiseUtil2.default.immediateThen(_Discovery2.default.getMetadata(serverUri), function (oidcMetadata) {\n      // prepare login URL\n      var loginParams = Object.assign({ scope: \"openid\" }, opts.loginParams, {\n        response_type: \"id_token token\",\n        client_id: clientId,\n        redirect_uri: redirectUri\n      });\n      var loginParamsParts = [];\n      for (var k in loginParams) {\n        var v = loginParams[k];\n        if (v == null) continue;\n        loginParamsParts.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(v + \"\"));\n      }\n      var loginUrl = oidcMetadata.authorization_endpoint + \"?\" + loginParamsParts.join(\"&\");\n\n      // display visual component for logging in (popup window)\n      var LoginVisualComponent = opts.loginVisualComponent || (loginParams.prompt != \"none\" ? _PopupComponent2.default : _IframeComponent2.default);\n      return new Promise(function (resolve, reject) {\n        new LoginVisualComponent({\n          url: loginUrl,\n          onResult: function onResult(aLoginResult) {\n            var authResponse = ImplicitFlow.getAuthResponseFromCallback(aLoginResult);\n            if (authResponse === false) return reject(new Error(\"User refused to sign in or the operation didn't complete successfully, e.g. due to popup blocking.\"));\n\n            // resolve the promise successfully with the token (iff there's no \"error\" field)\n            if (authResponse.error) reject(authResponse);else resolve(authResponse);\n          }\n        }).render();\n      });\n    }, function (e) {\n      return Promise.reject(e);\n    });\n  },\n\n  /**\n   * \n   * @param {*} aLoginCallbackResult \n   * @return One of: \n   * * false - user refused to log in (or popups are blocked)\n   * * object with \"error\" field set - an error\n   * * object - the OpenID Authentication Response with fields such as id_token, token_type, issued_at, ...\n   */\n  getAuthResponseFromCallback: function getAuthResponseFromCallback(aLoginCallbackResult) {\n    if (aLoginCallbackResult === false) return aLoginCallbackResult;\n\n    // extract login token\n    // example of successful aLoginCallbackResult: \"...#access_token=UUOIDCAT-27a13a6e626a40c49e036cbab55f3e27&id_token=eyJ0eXAiOi...&token_type=Bearer&expires_in=7200&scope=openid\" \n    // example of error aLoginCallbackResult:      \"...#error=server_error&error_description=Interaction+required+to+authenticate+user%2C+but+parameter+%27prompt%3Dnone%27+specified+by+client%2C+so+interaction+is+not+possible.&uu_oidc_error_id=047a06f806d1b13-6f55e2af8c2ff99d&uu_oidc_error_code=UU.OIDC-SERVER%2FE000_UNEXPECTED_ERROR\"\n    var authResponse = {};\n    aLoginCallbackResult.replace(/^[^#]*#?/, \"\").split(/&/).forEach(function (it) {\n      var eqlIdx = it.indexOf(\"=\");\n      var key = decodeURIComponent((eqlIdx == -1 ? it.substr(0) : it.substr(0, eqlIdx)).replace(/\\+/g, \" \"));\n      var value = decodeURIComponent((eqlIdx == -1 ? \"\" : it.substr(eqlIdx + 1)).replace(/\\+/g, \" \"));\n      authResponse[key] = value;\n    });\n    return authResponse;\n  }\n};\n\nexports.default = ImplicitFlow;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/flow/ImplicitFlow.js\n// module id = 17\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SessionHandler = exports.Session = undefined;\n\nvar _Session = require(\"./Session.js\");\n\nvar _Session2 = _interopRequireDefault(_Session);\n\nvar _SessionHandler = require(\"./SessionHandler.js\");\n\nvar _SessionHandler2 = _interopRequireDefault(_SessionHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// make UuOidc always present in global variable so that there're no issues\n// with detecting it (even during load via SystemJS)\nif (typeof window !== \"undefined\") window.UuOidc = { Session: _Session2.default, SessionHandler: _SessionHandler2.default };\n\nexports.Session = _Session2.default;\nexports.SessionHandler = _SessionHandler2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/index.js\n// module id = 18\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// login callback handling\nvar VC_CALLBACK_FN_NAME = \"uuOidcCallbackFn\"; // !!! Must be in sync with the one in callbacks/oidc-callback.html.\n\n// make sure that callback works correctly even if multiple invocations using visual component below were\n// done (e.g. user clicked 2 different buttons for command invocations which each opened a login popup\n// and are now displayed both)\nif (typeof window != \"undefined\" && !window[VC_CALLBACK_FN_NAME]) {\n  window[VC_CALLBACK_FN_NAME] = function (aLoginResult, aSourceWindow) {\n    var loginWindows = window[VC_CALLBACK_FN_NAME].loginWindows;\n    // received callback from a popup => find out which component is using the source window and notify it\n    for (var i = 0; i < loginWindows.length; ++i) {\n      var p = loginWindows[i];\n      if (p.state.loginWindow == aSourceWindow) {\n        p.component.finalize(aLoginResult);\n        return;\n      }\n    }\n    console.warn(\"Received unexpected callback from window\", aSourceWindow, \"Passed result was:\", aLoginResult, \"Ignoring the callback.\");\n  };\n  window[VC_CALLBACK_FN_NAME].loginWindows = [];\n}\n\nexports.default = {\n  registerForCallback: function registerForCallback(component, state) {\n    window[VC_CALLBACK_FN_NAME].loginWindows.push({ component: component, state: state });\n  },\n  unregisterForCallback: function unregisterForCallback(component) {\n    var loginWindows = window[VC_CALLBACK_FN_NAME].loginWindows;\n    for (var i = 0; i < loginWindows.length; ++i) {\n      // remove self from opened loginWindows\n      if (loginWindows[i].component === component) {\n        loginWindows.splice(i, 1);\n        break;\n      }\n    }\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/ui/CallbackHandler.js\n// module id = 19\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Base64Url = {\n  /**\n   * @param txtAscii Ascii string to encode (each character is in range 0-255).\n   * @return {string} Provided string encoded to Base64Url encoding.\n   */\n  encodeAscii: function encodeAscii(txtAscii) {\n    if (!txtAscii) return txtAscii;\n    return btoa(txtAscii).replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n  },\n  /**\n   * @param txtUtf8 UTF-8 string to encode.\n   * @return {string} Provided string encoded to Base64Url encoding.\n   */\n  encode: function encode(txtUtf8) {\n    if (!txtUtf8) return txtUtf8;\n    return Base64Url.encodeAscii(unescape(encodeURIComponent(txtUtf8)));\n  },\n  /**\n   * @return {string} Base64Url decoded to an Ascii string (each character is in range 0-255).\n   */\n  decodeToAscii: function decodeToAscii(base64Url) {\n    if (!base64Url) return null;\n    var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return atob(base64);\n  },\n  /**\n   * @return {string} Base64Url decoded to a UTF-8 string.\n   */\n  decode: function decode(base64Url) {\n    var ascii = Base64Url.decodeToAscii(base64Url);\n    return ascii != null ? decodeURIComponent(escape(ascii)) : null;\n  }\n};\nexports.default = Base64Url;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/Base64Url.js\n// module id = 20\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// helper for invoking Ajax requests and returning Promise\nfunction xhrJson(method, url, body, extraSettingFn) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.withCredentials = true;\n    xhr.setRequestHeader(\"Accept\", \"application/json\");\n    xhr.onreadystatechange = function (e) {\n      if (xhr.readyState == 4) {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            var json = JSON.parse(xhr.responseText);\n            resolve(json);\n          } catch (err) {\n            reject(err);\n          }\n        } else {\n          reject(new Error(\"Server responded with status \" + xhr.status)); // TODO Better error.\n        }\n      }\n    };\n    xhr.withCredentials = true;\n    if (extraSettingFn) extraSettingFn(xhr);\n    xhr.send(body);\n  });\n}\n\nexports.default = {\n  get: function get() {\n    return xhrJson.bind(this, \"GET\").apply(this, Array.prototype.slice.call(arguments));\n  },\n  post: function post() {\n    return xhrJson.bind(this, \"POST\").apply(this, Array.prototype.slice.call(arguments));\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/HttpClient.js\n// module id = 21\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  toSnakeCase: function toSnakeCase(aText) {\n    return (aText || \"\").replace(/[A-Z]/g, function (m) {\n      return \"_\" + m.toLowerCase();\n    });\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/StringUtil.js\n// module id = 22\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"amd\":\"module\",\"commonjs\":\"module\",\"commonjs2\":\"module\",\"root\":\"undefined\"}\n// module id = 23\n// module chunks = 0","import * as UuApp from \"uu_appg01_core\";\nimport {SessionHandler} from \"uu_oidcg01\";\n\n/**\n * @class UuApp.Client\n * @classdesc\n * The Client allows communication with remote uuOS9 endpoints which conform to uuUri format.\n * In addition to the basic UuApp.AppClient.Client, this client is preconfigured to use authentication\n * via uuOS OpenID Connect server.\n * \n * See {@link UuApp.AppClient.Client} for standard usage scenarios and configuration, as well as \n * {@link UuOidc.Session} for basic session handling examples.\n * \n * @see UuApp.AppClient.Client\n * @see UuOidc.Session\n */\nfunction Client(/*...*/) {\n  UuApp.AppClient.Client.apply(this, arguments);\n  this.defaults = Client.defaults;\n}\nClient.prototype = Object.create(UuApp.AppClient.Client.prototype);\nClient.prototype.constructor = Client;\n\n// use UuApp default client when invoking get/post\nvar defClient;\n/**\n * @name UuApp.Client.get\n * @see UuApp.AppClient.Client.get\n */\nClient.get = function () {\n  if (!defClient) defClient = new Client();\n  return defClient.get.apply(defClient, arguments);\n};\n/**\n * @name UuApp.Client.post\n * @see UuApp.AppClient.Client.post\n */\nClient.post = function (uri, parameters, options) {\n  if (!defClient) defClient = new Client();\n  return defClient.post.apply(defClient, arguments);\n};\n\n// delegate this Client's defaults to UuApp.AppClient.Client defaults, but override interceptors\nvar A = function () {};\nA.prototype = UuApp.AppClient.Client.defaults;\nClient.defaults = new A();\nvar interceptors = [].concat(UuApp.AppClient.Client.defaults.interceptors); // make copy\ninterceptors.splice(interceptors.indexOf(UuApp.AppClient.Client.UriHandler) + 1, 0, SessionHandler); // add after UriHandler\n/**\n * @name UuApp.Client.defaults\n * @see UuApp.AppClient.Client.defaults\n */\nClient.defaults.interceptors = interceptors;\n\n// export\nexport default Client;\n\n\n// WEBPACK FOOTER //\n// ./Client.js","import * as UuApp from \"uu_appg01_core\";\nimport * as UuOidc from \"uu_oidcg01\";\n\n// export dependencies to window explicitly\nvar Cmd = window.UuApp = window.UuApp || {};\nfor (var k in UuApp) Cmd[k] = UuApp[k];\n\nvar Oidc = window.UuOidc = window.UuOidc || {};\nfor (var k in UuOidc) Oidc[k] = UuOidc[k];\n\n// export self in a standard way\nexport * from \"./index.js\";\n\n\n// WEBPACK FOOTER //\n// ./index-withDeps.js","import Client from \"./Client.js\";\n\nexport * from \"uu_appg01_core\";\nexport {Client};\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/object-assign/index.js\n// module id = 27\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/process/browser.js\n// module id = 28\n// module chunks = 0","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.0.5\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        _resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      _reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      _reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    _reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return _resolve(promise, value);\n    }, function (reason) {\n      return _reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      _reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction _resolve(promise, value) {\n  if (promise === value) {\n    _reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction _reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      _reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      _resolve(promise, value);\n    }, function rejectPromise(reason) {\n      _reject(promise, reason);\n    });\n  } catch (e) {\n    _reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    _reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var _input = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$ = c.resolve;\n\n  if (resolve$$ === resolve) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$) {\n        return resolve$$(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      _reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve;\nPromise.reject = reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nfunction polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\n\nreturn Promise;\n\n})));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/es6-promise/dist/es6-promise.js\n// module id = 29\n// module chunks = 0","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _index = require(\"../error/index.js\");\n\nvar _index2 = require(\"../uri/index.js\");\n\nvar _index3 = require(\"../util/index.js\");\n\nvar _index4 = require(\"../logging/index.js\");\n\nvar _index5 = require(\"../perflog/index.js\");\n\nvar logger = _index4.LoggerFactory.get(\"UuApp.AppClient.Client\");\n\n/**\n * Creates an instance of command client which will use specified configuration when invoking commands.\n * Unspecified values are taken from global defaults ({@link UuApp.AppClient.Client.defaults Client.defaults}). Most\n * values can be further overridden when invoking the remote call - see {@link UuApp.AppClient.Client#post Client#post}.\n * \n * **Interceptors**\n * \n * It's possible to provide a list of interceptors which pre-/post-process HTTP requests. An interceptor\n * is a JavaScript function {Promise<Response>} interceptorFn({Object} request, {Object} options, {Function} nextInterceptorFn).\n * Request object contains fields uri, method, body and options object contains any remaining options passed down to\n * interceptors, e.g. transformParameters). Example:\n * \n *     function MyInterceptor(request, options, nextInterceptorFn) {\n *       // pre-process in any way\n *       request.headers[\"x-extra-header-computed-value\"] = Math.random() + \"\";\n *       console.log(\"Launching Ajax request. Method:\", request.method, \"Uri:\", request.uri, \"Parameters:\", request.body, \"Other options:\", options);\n *       var start = new Date().getTime();\n *       return nextInterceptorFn(request, options).then(function (response) {\n *         // post-process in any way, e.g. add extra field to the response object\n *         response.timeTaken = new Date().getTime() - start;\n *         return response;\n *       }, function error(response) {\n *         // ...\n *         return Promise.reject(response); // keep it rejected (i.e. in error state)\n *       });\n *     }\n *     \n *     // usage of the interceptor\n *     var client = new UuApp.AppClient.Client({\n *       interceptors: [MyInterceptor].concat(UuApp.AppClient.Client.defaults.interceptors)\n *     });\n *     \n * @class UuApp.AppClient.Client\n * @classdesc\n * The Client allows communication with remote uuOS9 endpoints which conform to uuUri format.\n * Besides communication, the client solves also other points of interest, such as authentication or\n * performance logging.\n * \n * Client uses standardized {@link https://developer.mozilla.org/cs/docs/Web/JavaScript/Reference/Global_Objects/Promise Promise API}\n * to provide access to the result of the call.\n * \n *     UuApp.AppClient.Client.get(\"/cds-gb/UU-BT/guestbook/123/getAttributes\").then(function (response) {\n *       console.log(response.data, response.status, response.headers());\n *     }, function (response) { // error\n *       console.log(response.error, response.status, response.headers());\n *     });\n * \n * When used as above, client uses global defaults (timeout, headers, ...). If the call needs to be parametrized, it can\n * be parametrized directly in {@link UuApp.AppClient.Client#post Client#post} ({@link UuApp.AppClient.Client#get Client#get})\n * call or, alternatively, a client instance can be created with defaults that override the global ones.\n * \n * For pre-/post-processing of HTTP requests use custom interceptors (see constructor).\n * \n * **Configuration**\n * \n * Some options are automatically configured from the environment during\n * {@link UuApp.Util.Config.init Config.init} call. These can be overridden when instantiating\n * the client or in method invocations. Supported environment options:\n * \n *     {\n *       \"gatewayUri\": \"https://uuappsg01.plus4u.net\", // default gateway for command calls using uuUri that doesn't contain gateway\n *       \"vendor-app-subapp-spp.gatewayUri\": \"https://elsewhere.plus4u.net\"\n *     }\n * \n * @param {Object} options Default options for this instance of the command client.\n * @param {number} options.requestTimeout The default HTTP timeout for this instance of the command client, in seconds.\n * @param {Object} options.headers The default HTTP headers for command invocations using this instance of the command client.\n * @param {Object[]} options.interceptors List of interceptors to use. Interceptors can arbitrarily pre-/post-process\n *   HTTP requests.\n * @param {*} options.* Any other parameters are passed to the interceptors. These can include environmental options such\n *   as \"gatewayUri\" which then take precedence over those from global environment.\n * \n * @example\n *    var client = new UuApp.AppClient.Client({\n *      requestTimeout: 20,\n *      headers: {\n *        \"x-my-extra-header\": \"abcd\"\n *      },\n *      interceptors: [MyInterceptor].concat(UuApp.AppClient.Client.defaults.interceptors)\n *    });\n * \n *    // ... all calls using \"client.get(...)\" or \"client.post()\" will have timeout 20s (unless the timeout\n *    // is overridden in the invoke call directly) and will have an extra HTTP header.\n */\nfunction Client(options) {\n  this.options = options || {};\n  this.options.headers = keysToLowerCase(this.options.headers);\n}\n\n/**\n * Global defaults for command client. \n * \n *     {\n *       requestTimeout: 300,   // timeout in seconds\n *       interceptors: [ // default set of interceptors\n *         // ...\n *       ]\n *     }\n * \n * @name UuApp.AppClient.Client.defaults\n */\nClient.defaults = {\n  requestTimeout: 300,\n  interceptors: [UriHandler, RemoteErrorHandler, UujsonHandler, TransformParametersHandler, PerfLogHandler]\n};\n\nfunction keysToLowerCase(map) {\n  if (!map || (typeof map === \"undefined\" ? \"undefined\" : _typeof(map)) != \"object\") return null;\n  var result = {};\n  for (var k in map) {\n    result[k.toLowerCase()] = map[k];\n  }return result;\n}\nClient.prototype.invoke = function (method, uri, parameters, options) {\n  // prepare data for interceptors & http client\n  var interceptorOpts = Object.assign({}, this.options, options);\n  delete interceptorOpts.requestTimeout;\n  delete interceptorOpts.headers;\n  delete interceptorOpts.interceptors;\n  var request = {\n    method: (method || \"post\").toLowerCase(),\n    uri: uri,\n    body: parameters,\n    headers: Object.assign({}, this.options.headers, keysToLowerCase((options || {}).headers))\n  };\n  var httpClientOpts = {\n    requestTimeout: (options || {}).requestTimeout != null ? (options || {}).requestTimeout : this.options.requestTimeout\n  };\n\n  // run interceptors (with 1st interceptor being the entry-point of the chain; last interceptor will continue with InvokeXhr method)\n  var interceptors = this.options.interceptors || this.constructor.defaults.interceptors || [];\n  var lastResponse;\n  var chainFn = interceptors.reduceRight(function (chainFn, interceptorFn) {\n    return function (req, opts) {\n      var result;\n      try {\n        result = interceptorFn(req, opts, chainFn);\n        if (!result || (typeof result === \"undefined\" ? \"undefined\" : _typeof(result)) != \"object\" || typeof result.then != \"function\") result = Promise.resolve(result);\n      } catch (e) {\n        result = Promise.reject(e);\n      }\n      // make sure that interceptor always returns \"response\" object\n      // (even if some unexpected / unhandled error happened)\n      return result.then(function (anyValue) {\n        var response = anyValue;\n        if (!anyValue || !(\"status\" in anyValue)) {\n          // it's not a \"response\" object and it's not rejected (i.e. bugged interceptor) => use it as \"data\" on last known \"response\"\n          logger.warn(\"Client interceptor %s resolved the promise into a value that is not a Response object - auto-wrapping.\", interceptorFn.name);\n          response = lastResponse || interceptorMakeResponse(null, req, opts);\n          if (anyValue !== undefined) response.data = anyValue; // don't overwrite data if interceptor just didn't use \"return response;\"\n        }\n        lastResponse = response;\n        if (lastResponse.error) logger.warn(\"Client interceptor %s resolved response successfully but kept the error object set - unsetting. Error object:\", interceptorFn.name, lastResponse.error);\n        lastResponse.error = null;\n        return response;\n      }, function wrapAsResponse(anyValue) {\n        if (!anyValue || !(\"status\" in anyValue)) {\n          // it's not a \"response\" object => take the last known \"response\" and update its \"error\" field\n          if (!lastResponse) lastResponse = interceptorMakeResponse(null, req, opts);\n          lastResponse.error = anyValue instanceof _index.Error ? anyValue : new _index.Error(\"Client interceptor \" + interceptorFn.name + \" ended with error.\", anyValue);\n        } else {\n          // it's a \"response\" object => use it as-is\n          lastResponse = anyValue;\n        }\n        return Promise.reject(lastResponse);\n      });\n    };\n  }, InvokeXhr.bind(null, this, httpClientOpts));\n  var resultPromise = chainFn(request, interceptorOpts);\n\n  // add support for aborting on-going requests\n  var aborted = false;\n  resultPromise.abort = function () {\n    aborted = true;\n    if (httpClientOpts.xhr) httpClientOpts.xhr.abort(); // Ajax might not have been called yet\n  };\n\n  return resultPromise;\n\n  function InvokeXhr(cmdClient, httpClientOpts, finalRequest, finalOpts) {\n    if (aborted) return Promise.reject(interceptorMakeResponse(null, finalRequest, { error: new _index.AbortError(\"The Client call has been aborted.\") }));\n\n    var xhr = httpClientOpts.xhr = new XMLHttpRequest();\n    return new Promise(function executor(resolve, reject) {\n      var canHaveBody = finalRequest.method.match(/^(put|post)$/i);\n      var url = finalRequest.uri.toString();\n      var body;\n      if (!canHaveBody) {\n        if (finalRequest.body) url += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + finalRequest.body;\n      } else {\n        body = finalRequest.body;\n      }\n      var headers = finalRequest.headers;\n      var timeout = httpClientOpts.requestTimeout = httpClientOpts.requestTimeout != null ? httpClientOpts.requestTimeout : cmdClient.constructor.defaults.requestTimeout;\n      if (logger.isDebugLoggable()) logger.debug(\"Invoking Ajax request.\", { method: finalRequest.method, url: url, body: body, requestTimeout: timeout, headers: headers });else if (logger.isInfoLoggable()) logger.info(\"Invoking Ajax request.\", { method: finalRequest.method, url: url });\n\n      xhr.open(finalRequest.method, url, true);\n      if (timeout > 0) xhr.timeout = timeout * 1000;\n      xhr.withCredentials = true;\n      for (var k in headers) {\n        var v = headers[k];\n        if (k && v != null) {\n          // omit \"Content-Type\" header if it's multipart/form-data, otherwise the browser doesn't update\n          // it with proper boundary and server won't be able to parse the body\n          if (k === \"content-type\" && body instanceof FormData && v === \"multipart/form-data\") continue;\n          xhr.setRequestHeader(k.replace(/(^|-)./g, function (m) {\n            return m.toUpperCase();\n          }), v + \"\");\n        }\n      }\n      xhr.ontimeout = function (e) {\n        // TimeoutError\n        logger.info(\"Request timed out.\", { url: url });\n        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.TimeoutError(\"Request timed out - \" + url) }));\n      };\n      xhr.onload = function (e) {\n        // status 200 - 5xx\n        if (logger.isDebugLoggable()) logger.debug(\"Received response.\", { url: url, status: xhr.status, data: xhr.response });else logger.info(\"Received response.\", { url: url, status: xhr.status });\n        resolve(interceptorMakeResponse(xhr, finalRequest, { data: xhr.response }));\n      };\n      xhr.onabort = function (e) {\n        // user / developer abort; AbortError\n        logger.info(\"Request has been aborted.\", { url: url });\n        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.AbortError(\"Request has been aborted - \" + url) }));\n      };\n      xhr.onerror = function (e) {\n        // network error; NetworkError\n        logger.info(\"Request ended with network error.\", { url: url });\n        reject(interceptorMakeResponse(xhr, finalRequest, { error: new _index.NetworkError(\"Network error - \" + url), data: xhr.response }));\n      };\n      xhr.send(body);\n    });\n  }\n};\n\n/**\n * Invokes remote call using HTTP GET request. See {@link UuApp.AppClient.Client#post Client#post}\n * for detailed options and behaviour.\n * \n * Keep in mind that the \"parameters\" parameter is sent via URL parameter(s)\n * and browsers impose limit to the maximal length of the URL. To be safe, limit the amount of data so that the URL\n * doesn't exceed 2048 bytes.\n * \n * @param {(string|UuApp.Uri.Uri)} uri Uri of the uuOS9 endpoint.\n * @param {*} parameters The parameters to send in the request URL.\n * @param {Object} options Optional options for the remote call.\n * @return Promise resolving to a response object (or rejecting to a response object with error field).\n * @method UuApp.AppClient.Client#get\n * @see {@link UuApp.AppClient.Client#post Client#post}\n * \n * @example\n *    // simple call\n *    var baseUri = Uri.parse(location.protocol + \"//\" + location.host + location.pathname).baseUri; // \"http://example.com/vendor-app/tid-awid\"\n *    Client.get(baseUri.join(\"+/getAttributes\"), { param1: \"v1\" }).then(function success(response) {\n *      var data = response.data; // contains parsed response entity\n *      console.log(response.status, response.headers(), response.data);\n *    }, function error(response) {\n *      var error = response.error; // contains parsed response error\n *      console.log(response.status, response.headers(), response.error);\n *    });\n *    \n * @example\n *    // parameterizing uuUri and the call\n *    var uri = new UuApp.Uri.UriBuilder(\"/cds-gb-main/0-0/getAttributes\", {\n *      workspace: \"15634-34e5684da3435\",\n *      useCase: \"/getConfig\",\n *      parameters: { p1: \"v1\" }\n *    }).toUri();\n *    client.get(uri, null, {\n *      requestTimeout: 5,\n *      headers: {\n *        \"x-my-header\": \"abc\"\n *      }\n *    }).then(console.log.bind(console), console.log.bind(console));\n *    \n * @example\n *    // accept any response and don't parse it\n *    var workspace = \"...\";\n *    var guestbookId = \"...\";\n *    client.get(`/cds-gb/${workspace}/guestbook/${guestbookId}/downloadData`, null, {\n *      transformResponse: false,\n *      headers: {\n *        \"accept\": \"*\\/*\"\n *      }\n *    }).then(console.log.bind(console), console.log.bind(console));\n */\nClient.prototype.get = function (uri, parameters, options) {\n  return this.invoke(\"get\", uri, parameters, options);\n};\n\n/**\n * Invokes remote call using HTTP POST request. Default values for settings will\n * be filled in from Client instance configuration and then from global defaults.\n * \n * The client serializes data to and from server using {@link UuApp.AppClient.Client.contentTransformers} according\n * to the specified \"content-type\" HTTP request/response header.\n * Default value for \"content-type\" request header for requests with body entity is \"application/json; charset=utf-8\",\n * except for case when sending {@link https://developer.mozilla.org/en-US/docs/Web/API/FormData FormData} object or \n * {@link https://developer.mozilla.org/en-US/docs/Web/API/File File} (or \n * {@link https://developer.mozilla.org/en-US/docs/Web/API/Blob Blob}) object for which the default value is\n * \"multipart/form-data\". Default accepted response (\"accept\" request header) is \"application/json\".\n * Note that default accepted response can be extended in the future to support formats such as MessagePack and others.\n * \n * **Return value**\n * \n * Return value is a {@link https://developer.mozilla.org/cs/docs/Web/JavaScript/Reference/Global_Objects/Promise Promise}\n * resolving / rejecting to a response object which contains following fields:\n * \n * * {Object} data - response data. Data is parsed with content handler according to \"content-type\" response header\n *     unless option transformResponse is false (in which case it's left as received from browser).\n * * {Error} error - the error instance (see Error handling below). This field is set if and only if the Promise is rejected. \n * * {number} status - the HTTP status code.\n * * {function(string)} headers - function which returns value of the specified (case-insenstive) response header.\n *   If called with no arguments, an array with all response headers is returned.\n * * {Object} config - final configuration options that were used for launching AJAX request.\n * \n * The returned Promise instance additionally contains method {function()} abort for aborting ongoing remote call.\n * \n * **File upload**\n * \n * Use \"content-type\" header with \"multipart/form-data\" value when uploading binary data (File, Blob). Alternatively, it's\n * possible to use standard {@link https://developer.mozilla.org/en-US/docs/Web/API/FormData FormData} object - see examples\n * below. Note that when using FormData object, the order of appending the form fields matters - append simple values first\n * and only in the end append file objects. The reason is that in this order, the server might decide not to allow the upload\n * based on the other already-available fields thus allowing to end the connection without full upload of the file(s).\n * _(Client will fix the order of values in FormData object, however not all browsers support this operation.)_\n * \n * Don't forget to **disable timeout when performing the upload** so that it doesn't get cancelled.  \n * \n * **Error handling**\n * \n * If an error happens during the call invocation (determined by HTTP response status code), the resulting Promise is\n * rejected with response object which will contain \"error\" field set to an instance of one of these error types\n * (when using default interceptors):\n * \n *   * null - if server sent response with error HTTP status code but it contained no recognizable error data.\n *   * {@link UuApp.Error.RemoteError} - error as sent from remote server. Note that the response can contain\n *     several errors - in such case only first error is extracted into \"error\" field.\n *   * {@link UuApp.Error.NetworkError} - in case of problems with connecting to remote server.\n *   * {@link UuApp.Error.TimeoutError} - when the request didn't end within specified timeout.\n *   * {@link UuApp.Error.AbortError} - when invocation is aborted by invoking promise.abort() method.\n *   \n * The resulting response object contains also HTTP status code and will contain \"data\"\n * field set to the response entity (usually containing parsed error list).\n * \n * **Timeout**\n * \n * The timeout applies to the remote call duration only. If an interceptor is used which performs lengthy or asynchronous\n * operation prior to executing the remote call, it's not counted towards the timeout.\n * \n * @param {(string|UuApp.Uri.Uri)} uri Uri of the uuOS9 endpoint.\n * @param {(FormData|*)} parameters The DTO to send in the request body.\n * @param {Object} options Optional options for the remote call.\n * @param {number} options.requestTimeout The timeout for the command invocation. Default is 300.\n * @param {Object} options.headers The HTTP headers to send. Header names are case-insensitive, but it's advised\n *   to use lowercased names to prevent duplicities within the map. Headers are merged with default headers from\n *   Client / global configuration. If a header is in defaults and it's required to prevent it from being\n *   sent during this invocation, specify the header and use null as its value. \n * @param {boolean} options.transformParameters If false, processing of the command parameters (DTO) will be skipped so they'll be\n *   sent exactly as-is (the browser must support sending the value as-is in XmlHttpRequest). Default value is true.\n * @param {boolean} options.transformResponse If false, processing of the response (such as parsing the response as JSON) will be skipped. Default is true.\n * @param {*} options.* Any other parameters are passed to the interceptors. These can include environmental options such\n *   as \"gatewayUri\" which then take precedence over those from global environment.\n * @return Promise resolving to a response object (or rejecting to a response object with error field).\n * @method UuApp.AppClient.Client#post\n * \n * @example\n *    // command call sending data \n *    var tenant = \"UU-BT\";\n *    var guestbookId = \"123\";\n *    client.post(`/cds-gb/${tenant}/guestbook/${guestbookId}/setAttributes`, {\n *      name: \"Modified guestbook\",\n *      invitesLimit: 10,\n *      public: true\n *    }).then(console.log.bind(console), console.log.bind(console));\n *    \n * @example\n *     // uploading file(s) - variant 1 (explicit Content-Type header)\n *     var file = inputElement.files[0];\n *     var params = {\n *       file: file,\n *       anotherValue: \"abc\"\n *     }\n *     client.post(\"/cds-gb/UU-BT/guestbook/123/uploadData\", params, {\n *       requestTimeout: 0,\n *       headers: {\n *         \"content-type\": \"multipart/form-data\"\n *       }\n *     });\n *     \n *     // uploading file(s) - variant 2 (usage of FormData)\n *     // !!! append files as the last values\n *     var formData = new FormData();\n *     formData.append(\"anotherValue\", \"abc\");\n *     formData.append(\"file\", file);\n *     var promise = client.post(\"/cds-gb/UU-BT/guestbook/123/uploadData\", formData, {\n *       requestTimeout: 0\n *     });\n *     promise.then(...); // process response / error\n *     \n *     // aborting ongoing call\n *     elementForUploadCancel.onclick = function (e) {\n *       promise.abort(); // promise will be rejected with UuApp.Error.AbortError instance\n *     };\n *     \n * @example\n *    // error distinguishing\n *    client.get(\"/cds-gb/UU-BT/guestbook/123/getAttributes\").then(function success(response) {\n *      console.log(response.status, response.headers(), response.data);\n *    }, function error(response) {\n *      console.log(response.status, response.headers(), response.data);\n *      var error = response.error;\n *      if (error instanceof UuApp.Error.TimeoutError) console.log(\"Timed out.\");\n *      else if (error instanceof UuApp.Error.AbortError) console.log(\"Aborted.\");\n *      else if (error instanceof UuApp.Error.NetworkError) console.log(\"Communication / network error.\");\n *      else if (response.status == 401) console.log(\"Not authenticated.\");\n *      else if (response.status < 500) {\n *        console.log(\"User or client problem - invalid data / unfulfilled business rules / invalid call / ...\", response.data);\n *      } else if (response.status >= 500) console.log(\"Server-side problem.\", response.data);\n *      else console.log(\"Unrecognized problem.\", error);\n *    });\n * \n * @example\n *    // send data in custom format\n *    client.post(\"/cds-gb/UU-BT/guestbook/123/setSomething\", convertToMySuperFormat(dto), {\n *      transformParameters: false,\n *      headers: {\n *        \"content-type\": \"text/x-my-super-format\"\n *      }\n *    }).then(console.log.bind(console), console.log.bind(console));\n */\nClient.prototype.post = function (uri, parameters, options) {\n  return this.invoke(\"post\", uri, parameters, options);\n};\n//  Client.prototype.put = function (uri, parameters, options) {\n//    return this.invoke(\"put\", uri, parameters, options);\n//  };\n//  Client.prototype.delete = function (uri, options) {\n//    return this.invoke(\"delete\", uri, null, options);\n//  };\n\nvar defClient;\n/**\n * Equivalent to {@link UuApp.AppClient.Client#get} using Client with default\n * configuration, i.e.:\n * \n *     new UuApp.AppClient.Client().get(uri, options)\n * \n * @see {@link UuApp.AppClient.Client#get Client#get}\n * @method UuApp.AppClient.Client.get\n */\nClient.get = function () /*uri, options*/{\n  if (!defClient) defClient = new Client();\n  return defClient.get.apply(defClient, arguments);\n};\n\n/**\n * Equivalent to {@link UuApp.AppClient.Client#post} using Client with default\n * configuration, i.e.:\n * \n *     new UuApp.AppClient.Client().post(uri, parameters, options)\n * \n * @see {@link UuApp.AppClient.Client#post Client#post}\n * @method UuApp.AppClient.Client.post\n */\nClient.post = function () /*uri, parameters, options*/{\n  if (!defClient) defClient = new Client();\n  return defClient.post.apply(defClient, arguments);\n};\n\n/**\n * Interceptor for finalizing uuUri URL in case it's incomplete (missing gateway).\n * \n * @name UuApp.AppClient.Client.UriHandler\n */\nClient.UriHandler = UriHandler;\nfunction UriHandler(request, options, nextInterceptorFn) {\n  // take gateway from environment only when gateway is missing in URI (and environment was initialized)\n  var uri = _index2.Uri.parse(request.uri);\n  request.uri = uri;\n  if (uri.gateway) return nextInterceptorFn(request, options);\n\n  function carryOn(env) {\n    if (baseUrl == null) {\n      var optName = uri.product + \".gatewayUri\"; // vendor-app-subapp-spp.gatewayUri\n      baseUrl = env ? env.get(optName) : null;\n      if (baseUrl == null) baseUrl = \"https://uuappsg01.plus4u.net\";\n    }\n\n    if (baseUrl) request.uri = _index2.UriBuilder.parse(uri).set({ gateway: baseUrl }).toUri();\n    return nextInterceptorFn(request, options);\n  }\n  var baseUrl = options[\"gatewayUri\"];\n  if (baseUrl == null) return Promise.resolve(_index3.Config.initPromise).then(carryOn);\n  return carryOn();\n}\n\n/**\n * Interceptor for extracting error information from response.\n * \n * @name UuApp.AppClient.Client.RemoteErrorHandler\n */\nClient.RemoteErrorHandler = RemoteErrorHandler;\nfunction RemoteErrorHandler(request, options, nextInterceptorFn) {\n  // NOTE We assume that the \"content-type\" transformation has been already performed on response data.\n  return nextInterceptorFn(request, options).then(checkError.bind(null, false), checkError.bind(null, true));\n\n  function checkError(isReject, response) {\n    if (response.status >= 400) {\n      var errorData = response.data;\n      // fill first error from response data into \"error\" field (if any)\n      if (errorData && (typeof errorData === \"undefined\" ? \"undefined\" : _typeof(errorData)) === \"object\" && \"uuAppErrorMap\" in errorData) {\n        var errorMap = errorData[\"uuAppErrorMap\"];\n        var firstErrorKey = null;\n        if (errorMap) for (var k in errorMap) {\n          if (errorMap[k] && errorMap[k].type === \"error\") {\n            firstErrorKey = k;\n            break;\n          }\n        }if (firstErrorKey) response.error = new _index.RemoteError(Object.assign({}, errorMap[firstErrorKey], { code: k }));\n      }\n      return Promise.reject(response);\n    }\n    return isReject ? Promise.reject(response) : response;\n  }\n}\n\n/**\n * In case uuJSON format is used, validates input parameters to match uuJSON specification\n * (including validation of declared schema to match invoked command) and ensures uuJSON\n * usage is properly reported to remote server.\n * \n * Recognized options:\n * \n * * uujson {boolean} - whether uuJSON format is used. Parameters must contain schema and data.\n *  \n * @name UuApp.AppClient.Client.UujsonHandler\n */\nClient.UujsonHandler = UujsonHandler;\nfunction UujsonHandler(request, options, nextInterceptorFn) {\n  var uri = _index2.Uri.parse(request.uri);\n  var isUujson = \"_uujson\" in uri.parameters || options[\"uujson\"];\n  if (isUujson) {\n    if (/^(put|post)$/i.test(request.method)) {\n      if (!(_typeof(request.body) == \"object\" && request.body && \"schema\" in request.body && \"data\" in request.body)) throw new _index.Error(\"DTO is not valid uuJSON - missing schema or data.\");\n      var schema = \"\" + uri.product + uri.useCase + \"-in\";\n      if (request.body[\"schema\"] !== schema) throw new _index.Error(\"DTO schema \" + request.body[\"schema\"] + \" does not match expected \" + schema);\n    }\n    request.uri = _index2.UriBuilder.parse(uri).setParameter(\"_uujson\", \"\").toUri();\n  }\n  return nextInterceptorFn(request, options); // no .then(...) - no response post-processing\n}\n\n/**\n * Interceptor for transforming request parameters / response entity according to the Content Type.\n * Recognized options:\n * \n * - transformParameters {boolean} - whether to transform (serialize by Content-Type) request body\n * - transformResponse {boolean} - whether to transform (deserialize by Content-Type) response body\n * - wrapQuery {boolean} - whether to wrap request body with { dto: ... }\n * \n * @name UuApp.AppClient.Client.TransformParametersHandler\n */\nClient.TransformParametersHandler = TransformParametersHandler;\nfunction TransformParametersHandler(request, options, nextInterceptorFn) {\n  function getMimeMainType(mimeType) {\n    return (mimeType || \"\").replace(/[+;].*/, \"\").trim();\n  }\n\n  // add default Content-Type & Accept headers\n  var paramsInBody = request.method.match(/^(put|post)$/i);\n  var contentTransformers = Client.contentTransformers || {};\n  var contentType = request.headers[\"content-type\"];\n  if (!(\"content-type\" in request.headers)) {\n    if (paramsInBody) {\n      var isMultipartPreferred = request.body != null && (request.body instanceof FormData || request.body instanceof Blob || _typeof(request.body) == \"object\" && Object.keys(request.body).some(function (it) {\n        return it instanceof FormData || it instanceof Blob;\n      }));\n      contentType = isMultipartPreferred ? \"multipart/form-data\" : \"application/json; charset=utf-8\";\n      request.headers[\"content-type\"] = contentType;\n    } else {\n      contentType = \"application/x-www-form-urlencoded\";\n    }\n  }\n  if (!(\"accept\" in request.headers)) request.headers[\"accept\"] = \"application/json\";\n\n  // wrap request data into \"dto\" parameter if requested to do so\n  if (options.transformParameters !== false && !paramsInBody && request.body != null && options.wrapQuery && contentType == \"application/x-www-form-urlencoded\") {\n    request.body = {\n      dto: JSON.stringify(request.body)\n    };\n  }\n\n  // transform request data\n  if (options.transformParameters !== false && request.body != null) {\n    var contentHandler = contentTransformers[getMimeMainType(contentType)];\n    try {\n      if (contentHandler) request.body = contentHandler.serialize(request.body);\n    } catch (e) {\n      throw new _index.Error(\"Error while serializing data.\", e);\n    }\n  }\n\n  // continue and transform response data afterwards (regardless of success / failure)\n  return nextInterceptorFn(request, options).then(transformResponse.bind(null, false), transformResponse.bind(null, true));\n\n  function transformResponse(isReject, response) {\n    if (options.transformResponse !== false) {\n      var respContentType = response.headers(\"content-type\");\n      var contentHandler = contentTransformers[getMimeMainType(respContentType)];\n      try {\n        if (contentHandler) response.data = contentHandler.deserialize(response.data);else if (response.status === 204) response.data = null;\n      } catch (e) {\n        throw new _index.Error(\"Error while deserializing response data.\", e);\n      }\n    }\n    return isReject ? Promise.reject(response) : response;\n  }\n}\n\n/**\n * Interceptor for performance logging.\n * \n * @name UuApp.AppClient.Client.PerfLogHandler\n */\nfunction PerfLogHandler(request, options, nextInterceptorFn) {\n  var promise;\n  _index5.PerfLog.measureSection(\"commandInvocation\", function (section) {\n    request.headers[\"x-request-id\"] = section.id;\n    promise = nextInterceptorFn(request, options);\n    return promise.then(function (response) {\n      section.attributes[\"uri\"] = request.uri;\n      return response;\n    }, function (response) {\n      section.attributes[\"uri\"] = request.uri;\n      return Promise.reject(response);\n    });\n  });\n  return promise;\n}\n\nfunction interceptorMakeResponse(xhr, request, extraFields) {\n  return Object.assign({\n    status: xhr ? xhr.status : 0,\n    headers: function headers(aHeader) {\n      if (!aHeader) return xhr ? xhr.getAllResponseHeaders() : [];\n      return xhr ? xhr.getResponseHeader(aHeader) : null;\n    }\n  }, extraFields);\n}\n\nvar Json = {\n  serialize: function serialize(value) {\n    return JSON.stringify(value);\n  },\n  deserialize: function deserialize(value) {\n    return value ? JSON.parse(value) : null;\n  }\n};\nvar Form = {\n  serialize: function serialize(value) {\n    if (value == null) return value;\n    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n      logger.warn(\"Unrecognized value when serializing as application/x-www-form-urlencoded - passing as-is. Value:\", { value: value });\n      return value;\n    }\n    var result = [];\n    for (var k in value) {\n      result.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(value[k]));\n    }return result.join(\"&\");\n  },\n  deserialize: function deserialize(value) {\n    if (value == null) return value;\n    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n      logger.warn(\"Unrecognized value when deserializing as application/x-www-form-urlencoded - passing as-is. Value:\", { value: value });\n      return value;\n    }\n    var pairs = value.replace(/\\+/g, \" \").split(\"&\");\n    var result = {};\n    for (var i = 0; i < pairs.length; ++i) {\n      var pair = pairs[i];\n      pair.replace(/^([^=]*)=?(.*)$/, function (m, g1, g2) {\n        return result[decodeURIComponent(g1)] = decodeURIComponent(g2);\n      });\n    }\n    return result;\n  }\n};\nvar MultiPart = {\n  serialize: function serialize(value) {\n    if (!value) return value;\n    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\") {\n      logger.warn(\"Unrecognized value when serializing as multipart/form-data - passing as-is. Value:\", { value: value });\n      return value;\n    }\n    if (value instanceof FormData && typeof value.entries != \"function\") return value; // FormData without support for iterating over its entries\n    if (value instanceof Blob) value = { file: value };\n\n    // make a list and reorder values so that the File instances are at the end of the list\n    var data = {};\n    if (value instanceof FormData) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = value.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pair = _step.value;\n          data[pair[0]] = pair[1];\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    } else {\n      data = value;\n    }\n    var list = [];\n    for (var k in data) {\n      list.push({ key: k, value: data[k], i: list.length });\n    }var max = list.length;\n    list.sort(function (a, b) {\n      // stable sort\n      return (a.value instanceof File ? a.i + max : a.i) - (b.value instanceof File ? b.i + max : b.i);\n    });\n\n    // fill values into FormData\n    var formData = new FormData();\n    list.forEach(function (it) {\n      return formData.append(it.key, it.value);\n    });\n    return formData;\n  },\n  deserialize: function deserialize(value) {\n    throw new _index.Error(\"Deserializing multipart/form-data is not supported. Value: \" + value);\n  }\n};\n\n/**\n * Transformers which serialize / deserialize content that is sent to / received from\n * server using specific MIME type.\n */\nClient.contentTransformers = {\n  \"application/json\": Json,\n  // \"application/json+extended\": Json,\n  //\"application/x-msgpack\": MessagePack,\n  //\"application/msgpack\": MessagePack,\n  \"application/x-www-form-urlencoded\": Form,\n  \"multipart/form-data\": MultiPart\n};\n\nmodule.exports = Client;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/app-client/Client.js\n// module id = 30\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Client = undefined;\n\nvar _Client = require(\"./Client.js\");\n\nvar _Client2 = _interopRequireDefault(_Client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Client = _Client2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/app-client/index.js\n// module id = 31\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Error = require(\"./Error.js\");\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates new AbortError.\n * \n * @classdesc\n * Represents an error when operation was aborted by user.\n * \n * @constructor UuApp.Error.AbortError\n */\nfunction AbortError() {\n  _Error2.default.apply(this, arguments);\n}\nAbortError.prototype = Object.create(_Error2.default.prototype);\nAbortError.prototype.constructor = AbortError;\n\nexports.default = AbortError;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/AbortError.js\n// module id = 32\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Error = require(\"./Error.js\");\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates new NetworkError.\n * \n * @classdesc\n * Represents an error when operation ended with network failure (host lookup, disconnection, ...).\n * \n * @constructor UuApp.Error.NetworkError\n */\nfunction NetworkError() {\n  _Error2.default.apply(this, arguments);\n}\nNetworkError.prototype = Object.create(_Error2.default.prototype);\nNetworkError.prototype.constructor = NetworkError;\n\nexports.default = NetworkError;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/NetworkError.js\n// module id = 33\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Error = require(\"./Error.js\");\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates new RemoteError.\n * \n * @classdesc\n * Represents an error that happened on a remote server.\n * \n * @param {Object} errorObject Object containing error fields (id, status, code, message, ...).\n * @constructor UuApp.Error.RemoteError\n */\nfunction RemoteError(errorObject) {\n  _Error2.default.apply(this, arguments);\n  delete this.stack; // not interested in client-side stack for remote errors\n}\nRemoteError.prototype = Object.create(_Error2.default.prototype);\nRemoteError.prototype.constructor = RemoteError;\n/**\n * The unique identifier of this instance of the remote error.\n * @name UuApp.Error.RemoteError#id\n */\n/**\n * The code of the remote error.\n * @name UuApp.Error.RemoteError#code\n */\n/**\n * The message of the remote error.\n * @name UuApp.Error.RemoteError#message\n */\n/**\n * Additional parameters of the remote error.\n * @name UuApp.Error.RemoteError#paramMap\n */\n/**\n * The cause of the remote error.\n * @name UuApp.Error.RemoteError#cause\n */\n\nexports.default = RemoteError;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/RemoteError.js\n// module id = 34\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Error = require(\"./Error.js\");\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates new TimeoutError.\n * \n * @classdesc\n * Represents an error when operation doesn't finish within required timeout.\n * \n * @constructor UuApp.Error.TimeoutError\n */\nfunction TimeoutError() {\n  _Error2.default.apply(this, arguments);\n}\nTimeoutError.prototype = Object.create(_Error2.default.prototype);\nTimeoutError.prototype.constructor = TimeoutError;\n\nexports.default = TimeoutError;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/error/TimeoutError.js\n// module id = 35\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _LoggerFactory = require(\"../logging/LoggerFactory.js\");\n\nvar _LoggerFactory2 = _interopRequireDefault(_LoggerFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar perfLog = _LoggerFactory2.default.get(\"UuApp.Perflog.PerfLog\", false);\n\nvar PerfLog = {\n  measureSection: function measureSection(name /*, (optional) attrs, measuredFn*/) {\n    var measuredFn = arguments[arguments.length - 1];\n    var attrs = arguments.length > 2 ? arguments[1] : null;\n    var section = new Section(createSectionId(), name, attrs);\n    var r;\n    try {\n      r = Promise.resolve(measuredFn(section));\n    } catch (e) {\n      r = Promise.reject(e);\n    }\n    function close() {\n      section.close();\n    }\n    return r.then(close, close);\n  }\n};\n\nvar Section = function Section(id, name, attrs) {\n  this.id = id;\n  this.name = name;\n  this.attributes = attrs || {};\n  this.checkpoints = {};\n  this.start = Date.now();\n};\nSection.prototype.setCheckpoint = function (name) {\n  this.checkpoints[name] = Date.now;\n};\nSection.prototype.close = function () {\n  if (this.finish) return;\n  this.finish = Date.now();\n  this.duration = this.finish - this.start;\n  perfLog.info(JSON.stringify(this));\n};\n\nvar rootId;\nfunction createSectionId() {\n  if (!rootId) rootId = createIdSegment();\n  var childId = createIdSegment();\n  return rootId + \"-\" + rootId + \"-\" + childId + \"-0000\";\n}\nfunction createIdSegment() {\n  var s = [];\n  for (var i = 0; i < 4; ++i) {\n    s.push((Math.random() * 65536 | 0).toString(16));\n  } // 4 * 4 hexa digits\n  return s.join(\"\");\n}\n\nexports.default = PerfLog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/perflog/PerfLog.js\n// module id = 36\n// module chunks = 0","\"use strict\";\n\nvar _es6Promise = require(\"es6-promise\");\n\nvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Promise API (IE)\n_es6Promise2.default.polyfill();\n\n// Object.assign (IE)\nif (!Object.assign) Object.assign = _objectAssign2.default;\n\n// document.baseURI (IE)\nif (typeof document !== \"undefined\" && !document.baseURI) {\n  var baseEl = document.querySelector(\"base\");\n  if (baseEl) document.baseURI = baseEl.href;else document.baseURI = location.href;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/polyfills.js\n// module id = 37\n// module chunks = 0","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Err = require(\"../error/Error.js\");\nvar Uri = require(\"./Uri.js\");\nvar UriParser = require(\"./UriParser.js\");\n\n/**\n * Creates an instance of UriBuilder.\n * \n * @class UuApp.Uri.UriBuilder\n * @classdesc\n * Class for building uuUri. Typical usage:\n *     \n *     // starting from current location\n *     var uriBuilder = UriBuilder.parse(location.protocol + \"//\" + location.host + location.pathname);\n *     var uri1 = uriBuilder.setUseCase(\"/sys/init\").setParameters({ p1: \"v1\" }).toUri();\n *     console.log(uri1.toString()); // <gateway>/<product>/<workspace>/sys/init?p1=v1\n *     \n *     // starting anew, using gateway from main HTML page location\n *     var gateway = location.origin || (location.protocol + \"//\" + location.host);\n *     var uri2 = UriBuilder.set({\n *       gateway: gateway,\n *       product: \"uu-demoapp-main\",\n *       workspace: \"tid123-awid456\",\n *       parameters: { p1: \"v1\", p2: \"v2\" }\n *     }).toUri(); // <gatewayFromMainPage>/uu-demoapp-main/tid123-awid456?p1=v1&p2=v2\n *     \n *     // parameters example\n *     var uriBuilder = UriBuilder.parse(uri2);\n *     var uri3 = uriBuilder.deleteParameter(\"p1\").mergeParameters({ p3: \"v3\" }).toUri();\n *     console.log(uri3.toString()); // <gatewayFromMainPage>/uu-demoapp-main/tid123-awid456?p2=v2&p3=v3\n *\n * @see {@link UuApp.Uri.UriBuilder.parse UriBuilder.parse}\n * @see {@link UuApp.Uri.UriBuilder.set UriBuilder.set}\n * @see {@link UuApp.Uri.UriBuilder#toUri UriBuilder#toUri}\n */\n\nfunction UriBuilder() {\n  var _this = this;\n\n  var self = this;\n  if (!(self instanceof UriBuilder)) return new (UriBuilder.bind.apply(UriBuilder, arguments))(); // make an instance even if developer forgot to use \"new\" keyword\n\n  // define properties (setters have validation)\n  var priv = { parameters: {} };\n  /** @name UuApp.Uri.UriBuilder#scheme */\n  /** @name UuApp.Uri.UriBuilder#hostname */\n  /** @name UuApp.Uri.UriBuilder#vendor */\n  /** @name UuApp.Uri.UriBuilder#app */\n  /** @name UuApp.Uri.UriBuilder#subApp */\n  /** @name UuApp.Uri.UriBuilder#spp */\n  /** @name UuApp.Uri.UriBuilder#tid */\n  /** @name UuApp.Uri.UriBuilder#awid */\n  /** @name UuApp.Uri.UriBuilder#useCase */\n  [\"scheme\", \"hostname\", \"vendor\", \"app\", \"subApp\", \"spp\", \"tid\", \"awid\", \"useCase\"].forEach(function (attr) {\n    var validateFn = UriParser[\"validate\" + attr.replace(/^./, function (m) {\n      return m.toUpperCase();\n    })];\n    Object.defineProperty(_this, attr, {\n      get: function get() {\n        return priv[attr];\n      },\n      set: function set(value) {\n        if (value != null) validateFn(value);\n        priv[attr] = value != null ? value : null;\n      }\n    });\n  });\n  Object.defineProperties(this, {\n    /** @name UuApp.Uri.UriBuilder#port */\n    port: {\n      get: function get() {\n        return priv.port != null ? Number(priv.port) : priv.port;\n      }, // convert to number\n      set: function set(value) {\n        if (value != null) UriParser.validatePort(value);\n        priv.port = value != null ? value : null;\n      }\n    },\n    /** @name UuApp.Uri.UriBuilder#gateway */\n    gateway: {\n      get: function get() {\n        return UriBuilder.formatGateway(priv.scheme, priv.hostname, priv.port);\n      },\n      set: function set(value) {\n        var obj = value != null ? UriParser.parseGateway(value) : null;\n        priv.scheme = obj && obj.scheme || null;\n        priv.hostname = obj && obj.hostname || null;\n        priv.port = obj && obj.port != null ? obj.port : null;\n      }\n    },\n    /** @name UuApp.Uri.UriBuilder#product */\n    product: {\n      get: function get() {\n        return UriBuilder.formatProduct(priv.vendor, priv.app, priv.subApp, priv.spp);\n      },\n      set: function set(value) {\n        var obj = value ? UriParser.parseProduct(value) : {};\n        priv.vendor = obj.vendor || null;\n        priv.app = obj.app || null;\n        priv.subApp = obj.subApp || null;\n        priv.spp = obj.spp || null;\n      }\n    },\n    /** @name UuApp.Uri.UriBuilder#workspace */\n    workspace: {\n      get: function get() {\n        return UriBuilder.formatWorkspace(priv.tid, priv.awid);\n      },\n      set: function set(value) {\n        var obj = value ? UriParser.parseWorkspace(value) : {};\n        priv.tid = obj.tid || null;\n        priv.awid = obj.awid || null;\n      }\n    },\n    /**\n     * Map containing query parameters. If there're no parameters, empty map is returned (not a null).\n     * Note that each access returns new copy of the map (to prevent modification of the map without\n     * validating the values / keys).\n     * \n     *     // BAD (uri.parameters returns copy; modification is not propagated back to UriBuilder)\n     *     uriBuilder.parameters[\"myParam\"] = \"value\";\n     *     \n     *     // GOOD\n     *     uriBuilder.setParameter(\"myParam\", \"value\");\n     * \n     * @name UuApp.Uri.UriBuilder#parameters\n     */\n    parameters: {\n      get: function get() {\n        return Object.assign({}, priv.parameters);\n      },\n      set: function set(value) {\n        priv.parameters = {};\n        if (value) for (var k in value) {\n          this.setParameter(k, value[k]);\n        }\n      }\n    }\n  });\n\n  /**\n   * Sets query parameter with given name to given value.\n   * \n   * @param {string} name The parameter name.\n   * @param {string} value The parameter value.\n   * @return This UriBuilder instance for chaining operations.\n   * @method UuApp.Uri.UriBuilder#setParameter\n   */\n  this.setParameter = function (name, value) {\n    UriParser.validateParameterName(name);\n    UriParser.validateParameterValue(value);\n    priv.parameters[name] = value;\n    return this;\n  };\n\n  /**\n   * Removes query parameter with given name.\n   * \n   * @param {string} name The parameter name.\n   * @return This UriBuilder instance for chaining operations.\n   * @method UuApp.Uri.UriBuilder#deleteParameter\n   */\n  this.deleteParameter = function (name) {\n    UriParser.validateParameterName(name);\n    delete priv.parameters[name];\n    return this;\n  };\n\n  /**\n   * Removes all query parameters.\n   * \n   * @return This UriBuilder instance for chaining operations.\n   * @method UuApp.Uri.UriBuilder#clearParameters\n   */\n  this.clearParameters = function () {\n    priv.parameters = {};\n    return this;\n  };\n}\n\n/**\n * Parses URI string (or Uri instance) and resets all fields of this UriBuilder\n * to parsed values.\n * \n * @param {(string|UuApp.Uri.Uri)} uri URI to parse.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#parse\n */\nUriBuilder.prototype.parse = function (uriObj) {\n  var uri = typeof uriObj == \"string\" ? UriParser.parse(uriObj, UriBuilder).toUri() : uriObj;\n  this.gateway = uri.gateway;\n  this.product = uri.product;\n  this.workspace = uri.workspace;\n  this.useCase = uri.useCase;\n  this.parameters = uri.parameters;\n  return this;\n};\n\n/**\n * Equivalent to <code>new UriBuilder().parse(uri)</code>.\n * \n * @param {(string|UuApp.Uri.Uri)} uri URI to parse.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.parse\n * @see UuApp.Uri.UriBuilder#parse\n */\nUriBuilder.parse = function (uri) {\n  return new UriBuilder().parse(uri);\n};\n\n/**\n * Sets fields of this UriBuilder to given values.\n * \n * @param {...Object} fieldMap Object(s) containing fields to set to this UriBuilder. If more objects are given,\n *   fields in latter ones override fields in former ones.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#set\n * @example\n *   // replace spp, awid & remove useCase\n *   var resUri = UriBuilder.parse(someUri).set({\n *     spp: \"async\",\n *     awid: \"12345\",\n *     useCase: null\n *   }).toUri();\n *   \n *   // multiple settings\n *   var defaults = { gateway: \"...\", product: \"uu-demoapp-main\", tid: \"0\", awid: \"0\" };\n *   var resUri = UriBuilder.set(defaults, {\n *     tid: \"12f34\", // overrides the one from \"defaults\" variable\n *     useCase: \"/getData\"\n *   }).toUri();\n */\nUriBuilder.prototype.set = function () /* ... */{\n  for (var i = 0; i < arguments.length; ++i) {\n    var hash = arguments[i];\n    if (!hash) continue;\n    if ((typeof hash === \"undefined\" ? \"undefined\" : _typeof(hash)) != \"object\") continue;\n    for (var k in hash) {\n      this[k] = hash[k];\n    }\n  }\n  return this;\n};\n\n/**\n * Equivalent to <code>new UriBuilder().set(...)</code>.\n * \n * @param {...Object} fieldMap Object(s) containing fields to set to the UriBuilder. If more objects are given,\n *   fields in latter ones override fields in former ones.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.set\n * @see UuApp.Uri.UriBuilder#set\n */\nUriBuilder.set = function () /* ... */{\n  var builder = new UriBuilder();\n  return builder.set.apply(builder, arguments);\n};\n\n// add chainable setter functions\n/**\n * Equivalent to <code>new UriBuilder().setScheme(value)</code>.\n * \n * @param {string} value Scheme to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setScheme\n * @see UuApp.Uri.UriBuilder#setScheme\n */\n/**\n * Chainable setter for scheme.\n * \n * @param {string} value Scheme to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setScheme\n */\n/**\n * Equivalent to <code>new UriBuilder().setHostname(value)</code>.\n * \n * @param {string} value Hostname to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setHostname\n * @see UuApp.Uri.UriBuilder#setHostname\n */\n/**\n * Chainable setter for hostname.\n * \n * @param {string} value Hostname to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setHostname\n */\n/**\n * Equivalent to <code>new UriBuilder().setPort(value)</code>.\n * \n * @param {(string|number)} value Port to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setPort\n * @see UuApp.Uri.UriBuilder#setPort\n */\n/**\n * Chainable setter for port.\n * \n * @param {string} value Port to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setPort\n */\n/**\n * Equivalent to <code>new UriBuilder().setGateway(value)</code>.\n * \n * @param {string} value Gateway to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setGateway\n * @see UuApp.Uri.UriBuilder#setGateway\n */\n/**\n * Chainable setter for gateway.\n * \n * @param {string} value Gateway to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setGateway\n */\n\n/**\n * Equivalent to <code>new UriBuilder().setVendor(value)</code>.\n * \n * @param {string} value Vendor to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setVendor\n * @see UuApp.Uri.UriBuilder#setVendor\n */\n/**\n * Chainable setter for vendor.\n * \n * @param {string} value Vendor to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setVendor\n */\n/**\n * Equivalent to <code>new UriBuilder().setApp(value)</code>.\n * \n * @param {string} value Application to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setApp\n * @see UuApp.Uri.UriBuilder#setApp\n */\n/**\n * Chainable setter for application.\n * \n * @param {string} value Application to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setApp\n */\n/**\n * Equivalent to <code>new UriBuilder().setSubApp(value)</code>.\n * \n * @param {string} value Sub-application to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setSubApp\n * @see UuApp.Uri.UriBuilder#setSubApp\n */\n/**\n * Chainable setter for sub-application.\n * \n * @param {string} value Sub-application to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setSubApp\n */\n/**\n * Equivalent to <code>new UriBuilder().setSpp(value)</code>.\n * \n * @param {string} value SPP to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setSpp\n * @see UuApp.Uri.UriBuilder#setSpp\n */\n/**\n * Chainable setter for SPP.\n * \n * @param {string} value SPP to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setSpp\n */\n/**\n * Equivalent to <code>new UriBuilder().setProduct(value)</code>.\n * \n * @param {string} value Product to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setProduct\n * @see UuApp.Uri.UriBuilder#setProduct\n */\n/**\n * Chainable setter for product.\n * \n * @param {string} value Product to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setProduct\n */\n\n/**\n * Equivalent to <code>new UriBuilder().setTid(value)</code>.\n * \n * @param {string} value Tenant ID to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setTid\n * @see UuApp.Uri.UriBuilder#setTid\n */\n/**\n * Chainable setter for tenant ID.\n * \n * @param {string} value Tenant ID to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setTid\n */\n/**\n * Equivalent to <code>new UriBuilder().setAwid(value)</code>.\n * \n * @param {string} value Workspace ID to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setAwid\n * @see UuApp.Uri.UriBuilder#setAwid\n */\n/**\n * Chainable setter for workspace ID.\n * \n * @param {string} value Workspace ID to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setAwid\n */\n/**\n * Equivalent to <code>new UriBuilder().setWorkspace(value)</code>.\n * \n * @param {string} value Workspace to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setWorkspace\n * @see UuApp.Uri.UriBuilder#setWorkspace\n */\n/**\n * Chainable setter for workspace.\n * \n * @param {string} value Workspace to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setWorkspace\n */\n\n/**\n * Equivalent to <code>new UriBuilder().setUseCase(value)</code>.\n * \n * @param {string} value Use case to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setUseCase\n * @see UuApp.Uri.UriBuilder#setUseCase\n */\n/**\n * Chainable setter for use case.\n * \n * @param {string} value Use case to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setUseCase\n */\n/**\n * Equivalent to <code>new UriBuilder().setParameters(value)</code>.\n * \n * @param {string} value Parameters to set.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setParameters\n * @see UuApp.Uri.UriBuilder#setParameters\n */\n/**\n * Chainable setter for parameters (replaces all parameters).\n * \n * @param {string} value Parameters to set.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#setParameters\n */\n[\"scheme\", \"hostname\", \"port\", \"gateway\", \"vendor\", \"app\", \"subApp\", \"spp\", \"product\", \"tid\", \"awid\", \"workspace\", \"useCase\", \"parameters\"].forEach(function (attr) {\n  var setterFnName = \"set\" + attr.replace(/^./, function (m) {\n    return m.toUpperCase();\n  });\n  UriBuilder.prototype[setterFnName] = function (value) {\n    // \"instance\" method\n    this[attr] = value;\n    return this;\n  };\n  UriBuilder[setterFnName] = function (value) {\n    // \"static\" method\n    return new UriBuilder()[setterFnName](value);\n  };\n});\n/**\n * Equivalent to <code>new UriBuilder().setParameter(name, value)</code>.\n * \n * @param {string} name The parameter name.\n * @param {string} value The parameter value.\n * @return New UriBuilder instance.\n * @method UuApp.Uri.UriBuilder.setParameter\n * @see UuApp.Uri.UriBuilder#setParameter\n */\nUriBuilder.setParameter = function (name, value) {\n  return new UriBuilder().setParameter(name, value);\n};\n\n/**\n * Merges (replaces / adds) provided parameters into the ones already present\n * in this UriBuilder.\n * \n * @param {Object} map Map with parameters to merge.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#mergeParameters\n */\nUriBuilder.prototype.mergeParameters = function (value) {\n  if (value) for (var k in value) {\n    this.setParameter(k, value[k]);\n  }return this;\n};\n\n/**\n * Replaces current path with specified absolute path (or adds a relative path to the current path) for this UriBuilder.\n * Works exactly the same way as {@link UuApp.Uri.Uri#join Uri#join} but returns UriBuilder instead of Uri.\n * \n * @param {...string} path Absolute or relative paths to replace / add.\n * @return This UriBuilder instance.\n * @method UuApp.Uri.UriBuilder#join\n * @see UuApp.Uri.Uri#join\n * @example\n *  // replace path with an absolute path\n *  var srcUri = \"https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1\";\n *  var uriBuilder = UriBuilder.parse(srcUri);\n *  uriBuilder.join(\"/vendor2-app2/tid2-awid2\"); // https://uuos9.plus4u.net/vendor2-app2/tid2-awid2\n *  \n *  // add relative paths\n *  var uriBuilder = UriBuilder.parse(srcUri);\n *  uriBuilder.join(\"./sys/init?p=v\");         // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/sys/init\n *  var uriBuilder = UriBuilder.parse(srcUri);\n *  uriBuilder.join(\"+/sys/init?p=v\");         // https://uuos9.plus4u.net/vendor-app-subApp/tid-awid/uc1/sys/init\n */\nUriBuilder.prototype.join = function () /* ... */{\n  var uri = this.toUri();\n  return this.parse(uri.join.apply(uri, arguments));\n};\n\nvar uriPriv = Uri.priv;\n// delete Uri.priv;\n/**\n * Returns Uri instance from current values of this UriBuilder.\n * \n * @return {UuApp.Uri.Uri} Uri instance from current values of this UriBuilder.\n * @method UuApp.Uri.UriBuilder#toUri\n */\nUriBuilder.prototype.toUri = function () {\n  var missing = [];\n  if (this.scheme == null && (this.hostname != null || this.port != null)) missing.push(\"scheme\");\n  if (this.hostname == null && (this.scheme != null || this.port != null)) missing.push(\"hostname\");\n  if (this.vendor == null && (this.subApp != null || this.spp != null)) missing.push(\"vendor\");\n  if (this.app == null) missing.push(\"app\");\n  if (this.subApp == null && this.spp != null) missing.push(\"subApp\");\n  if (this.awid == null) missing.push(\"awid\");\n  if (missing.length) throw new Err(\"Missing Uri parts: \" + missing.join(\", \") + \". Values: \" + this.toString());\n\n  uriPriv.allowNew = true;\n  try {\n    return new Uri(this.scheme, this.hostname, this.port, this.vendor, this.app, this.subApp, this.spp, this.tid, this.awid, this.useCase, this.parameters);\n  } finally {\n    uriPriv.allowNew = false;\n  }\n};\n\nUriBuilder.prototype.toString = function () {\n  return JSON.stringify({\n    scheme: this.scheme, hostname: this.hostname, port: this.port,\n    vendor: this.vendor, app: this.app, subApp: this.subApp, spp: this.spp,\n    tid: this.tid, awid: this.awid, useCase: this.useCase, parameters: this.parameters\n  });\n};\n\n/**\n * Formats current values of this UriBuilder into a URI-like string.\n * \n * @return {string} Formatted string from current values of this UriBuilder.\n * @method UuApp.Uri.UriBuilder#format\n * @example\n *   var uriBuilder = UriBuilder.parse(\"https://uuos9.plus4u.net/vendor-app/tid-awid\");\n *   uriBuilder.format(); // https://uuos9.plus4u.net/vendor-app/tid-awid\n */\nUriBuilder.prototype.format = function () {\n  return UriBuilder.format(this.toUri());\n};\n\nUriBuilder.format = function (uri) {\n  return UriParser.format(uri);\n};\n\nUriBuilder.formatGateway = function (scheme, hostname, port) {\n  return UriParser.formatGateway(scheme, hostname, port);\n};\nUriBuilder.formatProduct = function (vendor, app, subApp, spp) {\n  return UriParser.formatProduct(vendor, app, subApp, spp);\n};\nUriBuilder.formatWorkspace = function (tid, awid) {\n  return UriParser.formatWorkspace(tid, awid);\n};\n\nUri.prototype.Builder = UriBuilder;\n\nmodule.exports = UriBuilder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/uri/UriBuilder.js\n// module id = 38\n// module chunks = 0","\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Err = require(\"../error/Error.js\");\n\nvar ASSET_CLASSIFIER = \"static|assets|public\";\nvar UNRESERVED = \"[\\\\w\\\\.\\\\-~]\";\nvar IDENTIFIER = \"[a-zA-Z0-9_]\";\nvar SCHEME = \"(\" + UNRESERVED + \"+)\";\n\n// No reason to match IPv4 (invalid IP address is always\n// matched as generic hostname - we cannot distinguish them)\n// IPV4_PART = \"(25[0-5]|2[0-5][0-9]|1[0-9][0-9]|[0-9][0-9]?)\"\n// IPV4 = \"(#{IPV4_PART}(\\\\.#{IPV4_PART}){3})\"\n\n// Only rough validation\n// see http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\nvar IPV6_PART = \"([0-9a-fA-F]{1,4})\";\nvar IPV6 = \"(\\\\[\" + IPV6_PART + \"(:(\" + IPV6_PART + \")?){1,7}\\\\])\";\n\nvar HOSTNAME = \"(\" + IPV6 + \"|\" + UNRESERVED + \"+)\";\nvar PORT = \"(6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[0-5][0-9]{4}|[1-9][0-9]{0,3})\";\nvar GATEWAY = \"(\" + SCHEME + \"://\" + HOSTNAME + \"(:\" + PORT + \")?)\";\nvar VENDOR = \"(\" + IDENTIFIER + \"{1,32})\";\nvar APP = \"(\" + IDENTIFIER + \"{1,32})\";\nvar SUB_APP = \"(\" + IDENTIFIER + \"{1,32})\";\nvar SPP = \"(\" + IDENTIFIER + \"{1,32})\";\nvar PRODUCT = \"(?=[^/]{1,131}(?:/|$))((?:\" + VENDOR + \"\\\\-)?\" + APP + \"(?:\\\\-\" + SUB_APP + \"(?:\\\\-\" + SPP + \")?)?)\";\nvar TID = \"(\" + IDENTIFIER + \"{1,32})\";\nvar AWID = \"(\" + IDENTIFIER + \"{1,32})\";\nvar WORKSPACE = \"(?=[^/\\\\?]{1,65}(?:/|\\\\?|$))((?:\" + TID + \"\\\\-)?\" + AWID + \")\";\nvar USE_CASE = \"((?:/\" + UNRESERVED + \"*)*)\";\nvar PARAMETER_NAME = \"(?:\" + UNRESERVED + \"+)\";\nvar PARAMETER_VALUE = \"(?:[^=&]*)\";\nvar PARAMETER = \"(?:\" + PARAMETER_NAME + \"(?:=\" + PARAMETER_VALUE + \")?)\";\nvar PARAMETERS = \"(\" + PARAMETER + \"(?:&\" + PARAMETER + \")*)\";\nvar URI_REGEXP = new RegExp(\"^(?:\" + GATEWAY + \")?\\\\/\" + PRODUCT + \"\\\\/\" + WORKSPACE + USE_CASE + \"?(?:\\\\?\" + PARAMETERS + \"?)?$\");\n\n// console.log(\"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\".match(URI_REGEXP));                // non-opaque\n//\n// [\"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\", \"https://uuos9.plus4u.net:80\", \"https\", \"uuos9.plus4u.net\", undefined,\n//  undefined, undefined, undefined, undefined, \":80\",\n//  \"80\", \"vnd-app-subapp-spp\", \"vnd\", \"app\", \"subapp\",\n//  \"spp\", \"tid-awid\", \"tid\", \"awid\", \"/some/long/uc\",\n//  \"p1=v1&p2=v2&p3=%25\", index: 0, input: \"https://uuos9.plus4u.net:80/vnd-app-subapp-spp/tid-awid/some/long/uc?p1=v1&p2=v2&p3=%25\"]\n\nvar UriParser = {\n  ASSET_CLASSIFIER: ASSET_CLASSIFIER, UNRESERVED: UNRESERVED, IDENTIFIER: IDENTIFIER, SCHEME: SCHEME, IPV6_PART: IPV6_PART, IPV6: IPV6, HOSTNAME: HOSTNAME, PORT: PORT, GATEWAY: GATEWAY, VENDOR: VENDOR, APP: APP, SUB_APP: SUB_APP,\n  SPP: SPP, PRODUCT: PRODUCT, TID: TID, AWID: AWID, WORKSPACE: WORKSPACE, USE_CASE: USE_CASE, PARAMETER_NAME: PARAMETER_NAME, PARAMETER_VALUE: PARAMETER_VALUE, PARAMETER: PARAMETER, PARAMETERS: PARAMETERS, URI_REGEXP: URI_REGEXP,\n\n  parse: function parse(str, UriBuilder) {\n    if (!UriBuilder) throw new Err(\"UriBuilder must be provided.\");\n    var result = (str || \"\").match(URI_REGEXP);\n    //      console.log(result);\n    if (!result) throw new Err(\"Parse error - invalid uri: \" + (str || \"\"));\n    var uriBuilder = new UriBuilder().set({\n      scheme: result[2],\n      hostname: result[3],\n      port: result[10],\n      vendor: result[12],\n      app: result[13],\n      subApp: result[14],\n      spp: result[15],\n      tid: result[17],\n      awid: result[18],\n      useCase: result[19]\n    });\n    var params = result[20];\n    if (params) {\n      params.split(\"&\").forEach(function (pair) {\n        if (!pair) return;\n        var eqlSignIdx = pair.indexOf(\"=\");\n        var k = eqlSignIdx != -1 ? pair.substr(0, eqlSignIdx) : pair;\n        var v = eqlSignIdx != -1 ? pair.substr(eqlSignIdx + 1) : \"\";\n        uriBuilder.setParameter(k, decodeURIComponent(v)); // key contains only URL-safe characters\n      });\n    }\n    return uriBuilder;\n  },\n  format: function format(uri) {\n    var parts = [];\n    parts.push((uri.gateway || \"\") + \"/\" + (uri.product || \"\") + \"/\" + (uri.workspace || \"\"));\n    var uc = uri.useCase;\n    if (uc) {\n      if (uc.charAt(0) != \"/\") parts.push(\"/\");\n      parts.push(uc);\n    }\n    parts = [parts.join(\"\").replace(/\\/+$/, \"\")]; // remove all trailing slashes\n    var params = uri.parameters;\n    var paramKeys = Object.keys(params);\n    paramKeys.sort();\n    for (var i = 0; i < paramKeys.length; ++i) {\n      var k = paramKeys[i];\n      parts.push(i ? \"&\" : \"?\");\n      parts.push(k);\n      var value = params[k];\n      if (value == null || value === \"\") continue;\n      parts.push(\"=\");\n      parts.push(encodeURIComponent(value));\n    }\n    return parts.join(\"\");\n  },\n  parseGateway: function parseGateway(value) {\n    if (typeof value != \"string\") throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n    var result = value.match(new RegExp(\"^\" + GATEWAY + \"$\"));\n    if (!result) throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n    //  console.log(result);\n    //      [\"http://example.com:123\", \"http://example.com:123\", \"http\",\n    //       \"example.com\", undefined, undefined,\n    //       undefined, undefined, undefined,\n    //       \":123\", \"123\"]\n    return { scheme: result[2], hostname: result[3], port: result[10] };\n  },\n  formatGateway: function formatGateway(scheme, hostname, port) {\n    if (!scheme && !hostname && !port) return null;\n    UriParser.validateScheme(scheme);\n    UriParser.validateHostname(hostname);\n    if (port != null) UriParser.validatePort(port);\n    return scheme + \"://\" + hostname + (port != null ? \":\" + port : \"\");\n  },\n  parseProduct: function parseProduct(value) {\n    if (typeof value != \"string\") throw new InvalidUriPartError(\"product\", value, PRODUCT);\n    var result = value.match(new RegExp(\"^\" + PRODUCT + \"$\"));\n    if (!result) throw new InvalidUriPartError(\"product\", value, PRODUCT);\n    return { vendor: result[2], app: result[3], subApp: result[4], spp: result[5] };\n  },\n  formatProduct: function formatProduct(vendor, app, subApp, spp) {\n    if (!vendor && !app && !subApp && !spp) return null;\n    if (vendor) UriParser.validateVendor(vendor);\n    UriParser.validateApp(app);\n    if (subApp) UriParser.validateSubApp(subApp);\n    if (spp) UriParser.validateSpp(spp);\n\n    var result = [];\n    if (vendor) result.push(vendor + \"-\");\n    result.push(app);\n    if (subApp) result.push(\"-\" + subApp);\n    if (spp) result.push(\"-\" + spp);\n    return result.join(\"\");\n  },\n  parseWorkspace: function parseWorkspace(value) {\n    if (typeof value != \"string\") throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n    var result = value.match(new RegExp(\"^\" + WORKSPACE + \"$\"));\n    if (!result) throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n    return { tid: result[2], awid: result[3] };\n  },\n  formatWorkspace: function formatWorkspace(tid, awid) {\n    if (!tid && !awid) return null;\n    if (tid) UriParser.validateTid(tid);\n    UriParser.validateAwid(awid);\n\n    var result = [];\n    if (tid) result.push(tid + \"-\");\n    result.push(awid);\n    return result.join(\"\");\n  },\n  validateScheme: function validateScheme(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SCHEME + \"$\"))) throw new InvalidUriPartError(\"scheme\", value, SCHEME);\n  },\n  validateHostname: function validateHostname(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + HOSTNAME + \"$\"))) throw new InvalidUriPartError(\"hostname\", value, HOSTNAME);\n  },\n  validatePort: function validatePort(value) {\n    value = typeof value == \"number\" ? value + \"\" : value;\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PORT + \"$\"))) throw new InvalidUriPartError(\"port\", value, PORT);\n  },\n  validateGateway: function validateGateway(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + GATEWAY + \"$\"))) throw new InvalidUriPartError(\"gateway\", value, GATEWAY);\n  },\n  validateVendor: function validateVendor(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + VENDOR + \"$\"))) throw new InvalidUriPartError(\"vendor\", value, VENDOR);\n  },\n  validateApp: function validateApp(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + APP + \"$\"))) throw new InvalidUriPartError(\"app\", value, APP);\n  },\n  validateSubApp: function validateSubApp(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SUB_APP + \"$\"))) throw new InvalidUriPartError(\"subApp\", value, SUB_APP);\n  },\n  validateSpp: function validateSpp(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + SPP + \"$\"))) throw new InvalidUriPartError(\"spp\", value, SPP);\n  },\n  validateProduct: function validateProduct(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PRODUCT + \"$\"))) throw new InvalidUriPartError(\"product\", value, PRODUCT);\n  },\n  validateTid: function validateTid(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + TID + \"$\"))) throw new InvalidUriPartError(\"tid\", value, TID);\n  },\n  validateAwid: function validateAwid(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + AWID + \"$\"))) throw new InvalidUriPartError(\"awid\", value, AWID);\n  },\n  validateWorkspace: function validateWorkspace(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + WORKSPACE + \"$\"))) throw new InvalidUriPartError(\"workspace\", value, WORKSPACE);\n  },\n  validateUseCase: function validateUseCase(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + USE_CASE + \"$\"))) throw new InvalidUriPartError(\"useCase\", value, USE_CASE);\n  },\n  validateParameterName: function validateParameterName(value) {\n    if (typeof value != \"string\" || !value.match(new RegExp(\"^\" + PARAMETER_NAME + \"$\"))) throw new InvalidUriPartError(\"parameterName\", value, PARAMETER_NAME);\n  },\n  validateParameterValue: function validateParameterValue(value) {\n    if (value != null && typeof value != \"string\") throw new InvalidUriPartError(\"parameterValue\", value, String);\n    // for our generic uuUri following check is always true; will skip for optimization\n    //      if (value != null && !encodeURIComponent(value).match(new RegExp(\"^\" + PARAMETER_VALUE + \"$\"))) throw new InvalidUriPartError(\"parameterValue\", value, PARAMETER_VALUE);\n  }\n};\n\nfunction InvalidUriPartError(partName, value, expected) {\n  var message;\n  if (typeof expected != \"string\") message = \"Value \\\"\" + value + \"\\\" of URI part [\" + partName + \"] must be \" + expected + \" but is typeof \" + (typeof value === \"undefined\" ? \"undefined\" : _typeof(value));else message = \"Value \\\"\" + value + \"\\\" of URI part [\" + partName + \"] does not match regular expression /\" + expected.replace(/\\//g, \"\\\\/\") + \"/\";\n  Err.call(this, message);\n}\nInvalidUriPartError.prototype = Object.create(Err.prototype);\nInvalidUriPartError.prototype.constructor = InvalidUriPartError;\n\nmodule.exports = UriParser;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_appg01_core/dist-node/uri/UriParser.js\n// module id = 39\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// NOTE If changed, update also JSDoc in Session.js.\nexports.default = {\n    serverUri: \"https://oidc.plus4u.net/uu-oidcg01-main/0-0\",\n    sessionCheckInterval: 60\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/Defaults.js\n// module id = 40\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SessionContext = function SessionContext(loginOptions, authResponse, claims) {\n  _classCallCheck(this, SessionContext);\n\n  this.loginOptions = loginOptions;\n  this.authResponse = authResponse;\n  this.claims = claims;\n\n  this.getClaims = function () {\n    return claims;\n  };\n\n  var identity;\n  this.getIdentity = function () {\n    if (identity) return identity;\n    return identity = {\n      id: claims[\"sub\"],\n      name: claims[\"name\"],\n      email: claims[\"email\"],\n      uuIdentity: claims[\"uu_identity\"],\n      levelOfAssurance: Number(claims[\"loa\"]),\n      loginLevelOfAssurance: Number(claims[\"acr\"])\n    };\n  };\n};\n\nexports.default = SessionContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/SessionContext.js\n// module id = 41\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SessionHandler;\n\nvar _uu_appg01_core = require(\"uu_appg01_core\");\n\nvar UuApp = _interopRequireWildcard(_uu_appg01_core);\n\nvar _Session = require(\"./Session.js\");\n\nvar _Session2 = _interopRequireDefault(_Session);\n\nvar _StringUtil = require(\"./util/StringUtil.js\");\n\nvar _StringUtil2 = _interopRequireDefault(_StringUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// NOTE Interceptor expects gateway present, i.e. it must be added after UriHandler.\n\n/**\n * @class UuOidc.SessionHandler\n * @classdesc\n * Interceptor for Client which authenticates command calls by using user from\n * current / specified session. Additionally, if server responds with authentication challenge\n * (e.g. user needs to login with more secure realm or re-login due to inactivity), the interceptor\n * performs session login and calls the command again.\n * \n * Interceptor is skipped if there's request header \"authorization\" set for the command call, even\n * if the header value is null.\n * \n * **Configuration**\n * \n * Interceptor recognizes following options for command call:\n * \n * * uuoidc.loginParameters - object with extra parameters for login. See {@link UuOidc.Session#login} for supported values.\n * * session - the session to use for authentication. By default {@link UuOidc.Session.currentSession Session.currentSession} is used.\n * \n * **Error handling**\n * \n * Interceptor might cause the command call to fail with these errors (in addition to standard Client ones):\n * \n * * UuApp.Error.AbortError - in case that the command requires user to be logged in but the user refused to do so.\n */\nfunction SessionHandler(request, options, nextInterceptorFn) {\n  var hasCustomAuthn = \"authorization\" in request.headers;\n  if (hasCustomAuthn) return nextInterceptorFn(request, options);\n\n  var session = options.session || _Session2.default.currentSession;\n  var loginParams = options[\"uuoidc.loginParameters\"];\n  if (loginParams) loginParams = Object.keys(loginParams).reduce(function (r, k) {\n    return r[_StringUtil2.default.toSnakeCase(k)] = loginParams[k], r;\n  }, {});\n  var count = 0;\n\n  function runWith(extraLoginParams) {\n    if (++count > 5) throw new UuApp.Error.AbortError(\"Command invocation stopped because user was not able to fulfill login requirements for the command within \" + count + \" attempts.\");\n\n    // depending on presence of login parameters, either perform the log-in or just use the current user (even if not logged in)\n    var usedLoginParams = Object.assign({}, loginParams, extraLoginParams);\n    return (Object.keys(usedLoginParams).length > 0 ? session._login(usedLoginParams, true) : Promise.resolve(session)).catch(function (e) {\n      // if user login failed then abort or throw\n      if (e === false) throw new UuApp.Error.AbortError(\"Command invocation stopped because user refused to log in.\");\n      throw new UuApp.Error.Error(\"Command invocation stopped because of a login error.\", e);\n    }).then(function (session) {\n      var isAuthenticated = session.isAuthenticated();\n      if (isAuthenticated) {\n        var baseUri = request.uri.baseUri;\n        return Promise.resolve(session.getCallToken(baseUri.toString())).then(function (callToken) {\n          return { isAuthenticated: isAuthenticated, callToken: callToken };\n        });\n      }\n      return { isAuthenticated: isAuthenticated, callToken: null };\n    }).then(function (data) {\n      var isAuthenticated = data.isAuthenticated;\n      var callToken = data.callToken;\n      var authToken = callToken ? callToken.token : null;\n      if (authToken) request.headers[\"authorization\"] = [callToken.tokenType || \"Bearer\", authToken].join(\" \");\n      return nextInterceptorFn(request, options).catch(function (response) {\n        // check for special response values in WWW-Authenticate response header which indicates\n        // that we shall run login procedure with additional parameters and then try again the same command\n        var wwwAuthenticate = response.headers(\"www-authenticate\");\n        if (wwwAuthenticate) {\n          var valueMap = {};\n          wwwAuthenticate.replace(/^\\S+\\s+/, \"\").split(/,/).map(function (it) {\n            return it.trim();\n          }).forEach(function (it) {\n            // remove \"Bearer \"\n            var idx = it.indexOf(\"=\");\n            var key = decodeUriWithPlus(idx == -1 ? it : it.substr(0, idx));\n            var value = decodeUriWithPlus(idx == -1 ? \"\" : it.substr(idx + 1));\n            valueMap[key] = decodeUriWithPlus(value);\n          });\n\n          var relevantValues = Object.keys(valueMap).filter(function (key) {\n            return key.match(/^(max_age|acr_values|prompt|scope)$/);\n          }).reduce(function (r, k) {\n            return r[k] = valueMap[k], r;\n          }, {});\n          // if there's any of relevant keys in the WWW-Authenticate response header then\n          // re-run the whole OIDC Handler with those values sent to login\n          if (Object.keys(relevantValues).length > 0) return runWith(relevantValues);\n\n          // OI if we weren't logged in at the time of invocation and there's wwwAuthenticate then re-run also\n          if (!isAuthenticated) return runWith({ acr_values: \"1\" }); // require non-anonymous\n        }\n        return Promise.reject(response);\n      });\n    });\n  }\n  return runWith(null);\n}\n\nfunction decodeUriWithPlus(txt) {\n  return decodeURIComponent(txt.replace(/\\+/g, \" \"));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/SessionHandler.js\n// module id = 42\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Discovery = require(\"../discovery/Discovery.js\");\n\nvar _Discovery2 = _interopRequireDefault(_Discovery);\n\nvar _HttpClient = require(\"../util/HttpClient.js\");\n\nvar _HttpClient2 = _interopRequireDefault(_HttpClient);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar jwkSetCache = {};\nvar cacheBustCounter = 0;\n\n// JWK - JSON Web Key https://tools.ietf.org/html/rfc7517\n\nvar _class = function () {\n  function _class(options) {\n    _classCallCheck(this, _class);\n\n    if (!options || !options.serverUri) throw new Error(\"Jwks must be initialized with options containing serverUri.\");\n    this.options = options;\n  }\n\n  _createClass(_class, [{\n    key: \"getKey\",\n    value: function getKey(keyId, keyType) {\n      return this._getKey(keyId, keyType, false);\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(keyId, keyType, forceKeySetReload) {\n      var _this = this;\n\n      // load set of OIDC server JSON Web Key-s\n      return _Discovery2.default.getMetadata(this.options.serverUri).then(function (metadata) {\n        // TODO Use also localStorage cache as optimization.\n        var jwkSetMeta = jwkSetCache[metadata.jwks_uri];\n        if (!jwkSetMeta || forceKeySetReload) {\n          var url = metadata.jwks_uri;\n          if (forceKeySetReload) url = url.replace(/(\\?.*)?$/, function (m) {\n            return \"?cachebust=\" + Date.now().toString(36) + \"_\" + (cacheBustCounter++).toString(36) + (m ? \"&\" + m.substr(1) : \"\");\n          });\n          jwkSetMeta = jwkSetCache[metadata.jwks_uri] = _HttpClient2.default.get(url).then(function (value) {\n            return { jwkSet: value, url: url };\n          });\n        }\n        return jwkSetMeta;\n      }).then(function (jwkSetMeta) {\n        var jwkSet = jwkSetMeta.jwkSet;\n        // choose key by id & type\n        var keys = jwkSet.keys;\n        if (keyId) keys = keys.filter(function (it) {\n          return it.kid === keyId;\n        }); // if specific key ID is used then use it (note that there might still be multiple of keys in the result)\n        if (keyType) keys = keys.filter(function (it) {\n          return it.kty === keyType;\n        });\n        // keys = keys.filter(it => it.use === \"sig\" || (it.key_ops||[]).indexOf(\"verify\") !== -1 || (!it.key_ops && !it.use)); // consider only keys for verification / signing (or unspecified)\n        if (keys.length != 1) {\n          // try force-reloading of the JWK set because the URL from which we downloaded it might have been previously cached by browser\n          // and the server might have changed keys (e.g. due to restart or just because it changes them from time to time)\n          if (!forceKeySetReload) return _this._getKey(keyId, keyType, true);\n          throw new Error(\"There's \" + keys.length + \" JSON Web Key(s) in JWK Set with kid='\" + keyId + \"' kty='\" + keyType + \"'. There must be exactly 1. JWK Set has been downloaded from: \" + jwkSetMeta.url);\n        }\n        return keys[0];\n      });\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/jwks/Jwks.js\n// module id = 43\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Base64Url = require(\"../util/Base64Url.js\");\n\nvar _Base64Url2 = _interopRequireDefault(_Base64Url);\n\nvar _InvalidTokenError = require(\"./InvalidTokenError.js\");\n\nvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\nvar _JwtVerifierWebCrypto = require(\"./JwtVerifierWebCrypto.js\");\n\nvar _JwtVerifierWebCrypto2 = _interopRequireDefault(_JwtVerifierWebCrypto);\n\nvar _JwtVerifierJsrsasign = require(\"./JwtVerifierJsrsasign.js\");\n\nvar _JwtVerifierJsrsasign2 = _interopRequireDefault(_JwtVerifierJsrsasign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// JWT - JSON Web Token https://tools.ietf.org/html/rfc7519\n//     - JSON (containing claims) encoded in a JWS / JWE structure\n// JWS - JSON Web Signature https://tools.ietf.org/html/rfc7515\n// JWE - JSON Web Encryption https://tools.ietf.org/html/rfc7516\n\n// NOTE WebCrypto API works only via https://* or http://localhost (rare exception), but not on http://localhost.plus4u.net\n// so we're falling back to on-demand loaded jsrsasign library (which will be therefore used mostly during development,\n// but not on production; it's ~90kB of minified code).\nvar hasWebCrypto = typeof crypto != \"undefined\" && crypto.subtle && crypto.subtle.importKey;\nvar useWebCrypto = hasWebCrypto && (typeof location == \"undefined\" || location.protocol == \"https:\");\nvar verifier = useWebCrypto ? _JwtVerifierWebCrypto2.default : _JwtVerifierJsrsasign2.default;\n\nvar DEFAULT_ALG = \"RS256\";\nexports.default = {\n  /**\n   * \n   */\n  decode: function decode(token, verifyOpts, getKeyFn) {\n    var tokenParts;\n    var header;\n    return Promise.resolve().then(function () {\n      if (typeof token != \"string\") throw new Error(\"Invalid JSON Web Token - it must be a string (result of JWS / JWE Compact Serialization as per RFC7515 / RFC7516).\");\n      tokenParts = token.split(\".\");\n      if (tokenParts.length != 3) throw new Error(\"Unsupported JSON Web Token - the token doesn't consist of header+body+signature (only JWS Compact Serialization is supported - RFC7515, section-3). Token: \" + token);\n\n      // parse header\n      var headerB64U = tokenParts[0];\n      var headerStr = _Base64Url2.default.decode(headerB64U);\n      header = JSON.parse(headerStr);\n      if (header.typ != \"JWT\") throw new Error(\"Invalid JSON Web Token - the header 'typ' field is not set to 'JWT'. Token: \" + token);\n\n      // get key\n      return getKeyFn(header);\n    }).then(function (key) {\n      // NOTE Check the whole importKey call if adding support for other key types.\n      if (!key || key.kty != \"RSA\") throw new Error(\"Unsupported key type. Only RSA keys are supported for JSON Web Token signature verification. Key: \" + JSON.stringify(key));\n      // always verify algorithm against the one is JOSE header\n      var alg = key.alg || DEFAULT_ALG;\n      if (alg !== header.alg) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token or wrong verification key - algorithms don't match. Token uses '\" + header.alg + \"', verification key uses '\" + key.alg + \"' (with default of '\" + DEFAULT_ALG + \"'). Token: \" + token + \" Key: \" + JSON.stringify(key));\n\n      return verifier.verify(key, alg, verifyOpts, header, tokenParts, token);\n    }).then(function (valid) {\n      if (!valid) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token: \" + token);\n      var bodyStr = _Base64Url2.default.decode(tokenParts[1]);\n      var body = JSON.parse(bodyStr);\n      return body;\n    });\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/jwt/Jwt.js\n// module id = 44\n// module chunks = 0","\"use strict\";\n\nvar _module = require(\"module\");\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar scriptUri = ((_module2.default ? _module2.default.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName(\"script\"), -1)[0] || {}).src) || \"\").toString();\nvar jsrsasign = undefined;\nvar Verifier = {\n  verify: function verify(key, alg, verifyOpts, header, tokenParts, token) {\n    var _this = this;\n\n    return Promise.resolve().then(function () {\n      // load jsrsasign library on 1st verification\n      if (jsrsasign === undefined) {\n        var continueFn = Verifier.verify.bind(_this, key, alg, verifyOpts, header, tokenParts, token);\n        var isMin = scriptUri.indexOf(\".min.\") != -1;\n        var baseUrl = scriptUri.replace(/^(.*\\/).*/, \"$1\");\n        var url = baseUrl + \"jsrsasign\" + (isMin ? \".min\" : \"\") + \".js\";\n        var loadPromise;\n        if (typeof System != \"undefined\") loadPromise = System.import(url);else loadPromise = new Promise(function (resolve, reject) {\n          var script = document.createElement(\"script\");\n          script.onload = function () {\n            resolve(window[\"Jsrsasign\"]);\n          };\n          script.onerror = function (e) {\n            reject(e);\n          };\n          script.src = url;\n          document.head.appendChild(script);\n        });\n        return loadPromise.then(function (obj) {\n          jsrsasign = obj || null;\n          return continueFn();\n        }, function (e) {\n          console.error(e);\n          jsrsasign = null;\n          return continueFn();\n        });\n      }\n      if (!jsrsasign) throw new Error(\"Unable to verify token because jsrsasign library failed to load.\");\n\n      // var exampleKey = {\"kty\":\"RSA\",\"e\":\"AQAB\",\"n\":\"yXxJt2xevNsgGGGFfX5e22Jvy0_Eopgkumz7mJ7ScWlPfsMsAi8BZsF7nbDjA3T3v2vy2_-DaLDg-z-BjRwQIPL1LRzQGeDDSVmPcZtbexqkpjouxZ6-abpefSAFX5cA8NJ5h4JknFJWAsxxKEw4Ogy6XFd_BEaDmyXlLcV65Bs\",\"alg\":\"RS256\",\"kid\":\"rJZx5vzX1FOt_Nt8sB8jUA\",\"use\":\"sig\"};\n      // var pem = KEYUTIL.getPEM(jsrsasign.KEYUTIL.getKey(exampleKey));\n      //   =>\n      // -----BEGIN PUBLIC KEY-----\n      // MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDJfEm3bF682yAYYYV9fl7bYm/L\n      // T8SimCS6bPuYntJxaU9+wywCLwFmwXudsOMDdPe/a/Lb/4NosOD7P4GNHBAg8vUt\n      // HNAZ4MNJWY9xm1t7GqSmOi7Fnr5pul59IAVflwDw0nmHgmScUlYCzHEoTDg6DLpc\n      // V38ERoObJeUtxXrkGwIDAQAB\n      // -----END PUBLIC KEY-----\n\n      // do the verification\n      var keyInst = jsrsasign.KEYUTIL.getKey(key);\n      var result = jsrsasign.jws.JWS.verifyJWT(token, keyInst, verifyOpts); // see lib/jsrsasign-.../jws-3.3.js\n      return result || Promise.reject(new Error(\"Token is not valid. Token: \" + token));\n    });\n  }\n};\n\nmodule.exports = Verifier;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/jwt/JwtVerifierJsrsasign.js\n// module id = 45\n// module chunks = 0","\"use strict\";\n\nvar _Base64Url = require(\"../util/Base64Url.js\");\n\nvar _Base64Url2 = _interopRequireDefault(_Base64Url);\n\nvar _InvalidTokenError = require(\"./InvalidTokenError.js\");\n\nvar _InvalidTokenError2 = _interopRequireDefault(_InvalidTokenError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  verify: function verify(key, alg, verifyOpts, header, tokenParts, token) {\n    var webCryptoAlgorithm = {\n      name: \"RSASSA-PKCS1-v1_5\",\n      hash: { name: \"SHA-\" + alg.substr(2) }\n    };\n    // MS Edge throws error if the key contains field \"use\" => remove it\n    // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n    var usedKey = JSON.parse(JSON.stringify(key));\n    delete usedKey.use;\n\n    return crypto.subtle.importKey(\"jwk\", usedKey, webCryptoAlgorithm, false, [\"verify\"]).then(function (webCryptoKey) {\n      // validate signature\n      var signatureB64U = tokenParts[2];\n      var data = tokenParts[0] + \".\" + tokenParts[1];\n      var signatureBytes = asciiToUint8Array(_Base64Url2.default.decodeToAscii(signatureB64U));\n      var dataBytes = asciiToUint8Array(data);\n      return crypto.subtle.verify(webCryptoKey.algorithm, webCryptoKey, signatureBytes, dataBytes);\n    }, function (importError) {\n      var e = new Error(\"Unable to verify JSON Web Token - importing key via WebCrypto API failed.\\nKey: \" + JSON.stringify(usedKey) + \"\\nToken: \" + token + \"\\nError: \" + importError);\n      e.cause = importError;\n      return Promise.reject(e);\n    }).then(function (signatureValid) {\n      if (!signatureValid) throw new _InvalidTokenError2.default(\"Invalid JSON Web Token - signature is not valid. Token: \" + token);\n      var bodyStr = _Base64Url2.default.decode(tokenParts[1]);\n      var body = JSON.parse(bodyStr);\n      var throwError = function throwError(txt, failedClaim) {\n        throw new _InvalidTokenError2.default(\"Invalid token: \" + txt + \"\\nFailed claim: \" + JSON.stringify(failedClaim) + \"\\nIssued by: \" + JSON.stringify(body.iss) + \"\\nVerification options: \" + JSON.stringify(verifyOpts) + \"\\nToken: \" + token);\n      };\n\n      // verify claims\n\n      // 'alg' is always checked\n      if (!verifyOpts.alg) throw new Error(\"Unable to verify JWT claim - 'alg' field must be always given for verification.\");\n      if (verifyOpts.alg.indexOf(header.alg) == -1) throwError(\"Algorithm \" + JSON.stringify(header.alg) + \" used by token is not valid - expected one of \" + JSON.stringify(verifyOpts.alg) + \".\", \"alg\");\n\n      // 'iss'\n      var v;\n      v = asArray(verifyOpts.iss);\n      if (v && v.indexOf(body.iss) === -1) throwError(\"Issuer URI \" + JSON.stringify(body.iss) + \" in token is not valid - expected one of \" + JSON.stringify(v) + \". Token was issued by different OpenID Connect server or it was forged.\", \"iss\");\n\n      // 'sub'\n      v = asArray(verifyOpts.sub);\n      if (v && v.indexOf(body.sub) === -1) throwError(\"Subject \" + JSON.stringify(body.sub) + \" in token is not valid - expected one of \" + JSON.stringify(v) + \".\", \"sub\");\n\n      // 'aud' - all values from verifyOpts.aud must be present in body.aud \n      v = asArray(verifyOpts.aud);\n      var bodyV = asArray(body.aud) || [];\n      if (v && bodyV.some(function (bv) {\n        return v.indexOf(bv) == -1;\n      })) throwError(\"Audience list \" + JSON.stringify(bodyV) + \" in token is not valid - some of following values are missing: \" + JSON.stringify(v) + \".\", \"aud\");\n\n      // time validity: (nbf - gracePeriod < now < exp + gracePeriod) && (iat - gracePeriod < now)\n      var now = Date.now() / 1000;\n      if (verifyOpts.verifyAt) now = verifyOpts.verifyAt;\n      var gracePeriod = verifyOpts.gracePeriod || 0;\n\n      // 'exp' - expires\n      if (typeof body.exp === \"number\" && body.exp + gracePeriod < now) throwError(\"Token already expired at \" + toTimeString(body.exp) + \", current time is \" + toTimeString(now) + \".\", \"exp\");\n\n      // 'nbf' - not before\n      if (typeof body.nbf === \"number\" && now < body.nbf - gracePeriod) throwError(\"Token is not yet valid - it will become valid at \" + toTimeString(body.nbf) + \", current time is \" + toTimeString(now) + \". Check that your system time is correctly set.\", \"nbf\");\n\n      // 'iat' - issued at time\n      if (typeof body.iat === \"number\" && now < body.iat - gracePeriod) throwError(\"Token seems to have been issued in the future - \" + toTimeString(body.iat) + \", current time is \" + toTimeString(now) + \". Check that your system time is correctly set.\", \"iat\");\n\n      // 'jti' - JWT id\n      if (verifyOpts.jti && body.jti !== verifyOpts.jti) throwError(\"Token ID \" + JSON.stringify(body.jti) + \" not valid - expected \" + JSON.stringify(verifyOpts.jti) + \".\", \"jti\");\n\n      return true;\n    });\n  }\n};\n\nfunction asciiToUint8Array(ascii) {\n  return new Uint8Array(ascii.split(\"\").map(function (c) {\n    return c.charCodeAt(0);\n  }));\n}\nfunction asArray(value) {\n  if (value == null) return null;\n  if (Array.isArray(value)) return value;\n  return [value];\n}\nfunction toTimeString(seconds) {\n  return new Date(seconds * 1000).toISOString().replace(/T/, \" \");\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/jwt/JwtVerifierWebCrypto.js\n// module id = 46\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CallbackHandler = require(\"./CallbackHandler.js\");\n\nvar _CallbackHandler2 = _interopRequireDefault(_CallbackHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Default visual component for presenting login/logout prompt to the user. It displays the\n * URL in a popup window and waits until the user logs in / closes the window. After that\n * initAttrs.onResult(authResultUrl) is called as callback.\n * \n * @param initAttrs.url The URL to be called on OpenID Connect Server for user authentication.\n * @param initAttrs.onResult The callback to call after login finishes. If the login finished\n *   by user closing the window (e.g. via close button), the passed value is <code>false</code>.\n *   Otherwise it's the URL that was deemed as final response from OpenID Connect server (which\n *   contains the authentication response in fragment). \n */\nvar PopupComponent = function PopupComponent(initAttrs) {\n  var attrs = Object.assign({}, initAttrs);\n  var state = {\n    loginWindow: null,\n    closeCheckInterval: null\n  };\n\n  // add self to the list of opened loginWindows\n  _CallbackHandler2.default.registerForCallback(this, state);\n\n  this.finalize = function (result) {\n    // cleanup & do the callback\n    this.destroy();\n    if (attrs.onResult) attrs.onResult(result);\n  }.bind(this);\n\n  var closeCheck = function () {\n    if (!state.loginWindow || !state.loginWindow.closed) return;\n    this.finalize(false); // closed without calling callback (i.e. refused to login or some other reason) => notify with special value \"false\"\n  }.bind(this);\n\n  this.render = function () {\n    var _this = this;\n\n    // open popup window centered on screen and wait until global callback is called (or window is closed in other way)\n    if (!state.loginWindow) {\n      var rect = { width: 599, height: 600 };\n      rect.left = (screen.availWidth - rect.width) / 2 + screen.availLeft;\n      rect.top = (screen.availHeight - rect.height) / 2 + screen.availTop;\n      state.loginWindow = window.open(attrs.url, \"_blank\", \"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=\" + rect.width + \",height=\" + rect.height + \",top=\" + rect.top + \",left=\" + rect.left);\n      if (!state.loginWindow) {\n        // popup blocked or not yet allowed (which means we won't be able to detect window closing) => handle as if user refused to log in\n        Promise.resolve().then(function () {\n          return _this.finalize(false);\n        }); // finalize in async way\n      } else {\n        state.closeCheckInterval = setInterval(closeCheck.bind(this), 200);\n      }\n    }\n  };\n\n  this.destroy = function () {\n    if (state.loginWindow && !state.loginWindow.closed) state.loginWindow.close();\n    if (state.closeCheckInterval) clearInterval(state.closeCheckInterval);\n    this.destroy = function () {};\n    _CallbackHandler2.default.unregisterForCallback(this);\n  };\n};\n\nexports.default = PopupComponent;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/ui/PopupComponent.js\n// module id = 47\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isBrowser = new Function(\"try {return this===window;}catch(e){ return false;}\")();\nvar domReadyPromise = isBrowser ? document.readyState === \"interactive\" || document.readyState === \"complete\" ? Promise.resolve() : new Promise(function (resolve) {\n  document.addEventListener(\"DOMContentLoaded\", resolve, false);\n}) : Promise.resolve();\n\nexports.default = {\n  domReady: domReadyPromise\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/Dom.js\n// module id = 48\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = generateUuid;\nfunction generateUuid() {\n  // generate UUID (RFC4122 version 4 compliant) for the event ID\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n  return uuid;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/util/Uuid.js\n// module id = 49\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _IframeComponent = require(\"../ui/IframeComponent.js\");\n\nvar _IframeComponent2 = _interopRequireDefault(_IframeComponent);\n\nvar _ImplicitFlow = require(\"../flow/ImplicitFlow.js\");\n\nvar _ImplicitFlow2 = _interopRequireDefault(_ImplicitFlow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Os8Auth = function () {\n\n  /**\n   * @param options.serverUri\n   * @param options.clientId\n   * @param options.redirectUri\n   */\n  function Os8Auth(options) {\n    _classCallCheck(this, Os8Auth);\n\n    if (!options || !options.serverUri || !options.clientId || !options.redirectUri) throw new Error(\"Os8Auth must be initialized with options containing serverUri, clientId and redirectUri.\");\n    this.options = options;\n  }\n\n  /**\n   * @param parameters\n   * @param parameters.subject_token\n   */\n\n\n  _createClass(Os8Auth, [{\n    key: \"grantExchangeToken\",\n    value: function grantExchangeToken(parameters) {\n      var params = parameters || {};\n      if (!params.subject_token) throw new Error(\"Os8Auth.grantExchangeToken must be called with parameter subject_token.\");\n      var urlParams = Object.assign({}, params, {\n        response_type: \"id_token token\",\n        client_id: this.options.clientId,\n        redirect_uri: this.options.redirectUri\n      });\n      var urlParamsParts = Object.keys(urlParams).filter(function (k) {\n        return urlParams[k] != null;\n      }).map(function (k) {\n        return encodeURIComponent(k) + \"=\" + encodeURIComponent(urlParams[k] + \"\");\n      });\n      var url = this.options.serverUri.replace(/\\/*$/, \"/\") + \"exchangeOs8Token\" + \"?\" + urlParamsParts.join(\"&\");\n\n      return new Promise(function (resolve, reject) {\n        new _IframeComponent2.default({\n          url: url,\n          onResult: function onResult(aLoginResult) {\n            var authResponse = _ImplicitFlow2.default.getAuthResponseFromCallback(aLoginResult);\n            if (!authResponse || authResponse.error) reject(authResponse);else resolve(authResponse);\n          }\n        }).render();\n      });\n    }\n  }]);\n\n  return Os8Auth;\n}();\n\nexports.default = Os8Auth;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uu_oidcg01/dist-node/uuos8/Os8Auth.js\n// module id = 50\n// module chunks = 0"],"sourceRoot":""}